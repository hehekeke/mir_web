(function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J,K,Q,G,Y,Z,et,tt,nt=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},rt=function(e,t){function r(){this.constructor=e}for(var n in t)it.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},it={}.hasOwnProperty,st=[].slice,ot=function(e,t){return function(){return e.apply(t,arguments)}};D={},h=10,G=!1,F=null,y=null,M=null,R=null,tt=null,r={BEFORE_CHANGE:"page:before-change",FETCH:"page:fetch",RECEIVE:"page:receive",CHANGE:"page:change",UPDATE:"page:update",LOAD:"page:load",RESTORE:"page:restore",BEFORE_UNLOAD:"page:before-unload",EXPIRE:"page:expire"},x=function(e){var t;return e=new n(e),V(),c(),F!=null&&F.start(),G&&(t=Y(e.absolute))?(T(t),N(e,null,!1)):N(e,K)},Y=function(e){var t;t=D[e];if(t&&!t.transitionCacheDisabled)return t},w=function(e){return e==null&&(e=!0),G=e},b=function(e){e==null&&(e=!0);if(!f)return;return e?F!=null?F:F=new s("html"):(F!=null&&F.uninstall(),F=null)},N=function(e,t,n){return n==null&&(n=!0),Z(r.FETCH,{url:e.absolute}),tt!=null&&tt.abort(),tt=new XMLHttpRequest,tt.open("GET",e.withoutHashForIE10compatibility(),!0),tt.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),tt.setRequestHeader("X-XHR-Referer",R),tt.onload=function(){var n;return Z(r.RECEIVE,{url:e.absolute}),(n=j())?(U(e),z(),p.apply(null,S(n)),_(),typeof t=="function"&&t(),Z(r.LOAD)):document.location.href=g()||e.absolute},F&&n&&(tt.onprogress=function(e){return function(e){var t;return t=e.lengthComputable?e.loaded/e.total*100:F.value+(100-F.value)/10,F.advanceTo(t)}}(this)),tt.onloadend=function(){return tt=null},tt.onerror=function(){return document.location.href=e.absolute},tt.send()},T=function(e){return tt!=null&&tt.abort(),p(e.title,e.body),I(e),Z(r.RESTORE)},c=function(){var e;return e=new n(y.url),D[e.absolute]={url:e.relative,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset,cachedAt:(new Date).getTime(),transitionCacheDisabled:document.querySelector("[data-no-transition-cache]")!=null},v(h)},H=function(e){e==null&&(e=h);if(/^[\d]+$/.test(e))return h=parseInt(e)},v=function(e){var t,n,i,s,o,u;o=Object.keys(D),t=o.map(function(e){return D[e].cachedAt}).sort(function(e,t){return t-e}),u=[];for(n=0,s=o.length;n<s;n++){i=o[n];if(!(D[i].cachedAt<=t[e]))continue;Z(r.EXPIRE,D[i]),u.push(delete D[i])}return u},p=function(t,n,i,s){return Z(r.BEFORE_UNLOAD),document.title=t,document.documentElement.replaceChild(n,document.body),i!=null&&e.update(i),Q(),s&&E(),y=window.history.state,F!=null&&F.done(),Z(r.CHANGE),Z(r.UPDATE)},E=function(){var e,t,n,r,i,s,o,u,a,f,l,c;c=Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval="false"])'));for(n=0,i=c.length;n<i;n++){l=c[n];if((a=l.type)!==""&&a!=="text/javascript")continue;t=document.createElement("script"),f=l.attributes;for(r=0,s=f.length;r<s;r++)e=f[r],t.setAttribute(e.name,e.value);l.hasAttribute("async")||(t.async=!1),t.appendChild(document.createTextNode(l.innerHTML)),u=l.parentNode,o=l.nextSibling,u.removeChild(l),u.insertBefore(t,o)}},$=function(e){return e.innerHTML=e.innerHTML.replace(/<noscript[\S\s]*?<\/noscript>/ig,""),e},Q=function(){var e,t;e=(t=document.querySelectorAll("input[autofocus], textarea[autofocus]"))[t.length-1];if(e&&document.activeElement!==e)return e.focus()},U=function(e){if((e=new n(e)).absolute!==R)return window.history.pushState({turbolinks:!0,url:e.absolute},"",e.absolute)},z=function(){var e,t;if(e=tt.getResponseHeader("X-XHR-Redirected-To"))return e=new n(e),t=e.hasNoHash()?document.location.hash:"",window.history.replaceState(window.history.state,"",e.href+t)},g=function(){var e;if((e=tt.getResponseHeader("Location"))!=null&&(new n(e)).crossOrigin())return e},V=function(){return R=document.location.href},X=function(){return window.history.replaceState({turbolinks:!0,url:document.location.href},"",document.location.href)},W=function(){return y=window.history.state},_=function(){var e;if(navigator.userAgent.match(/Firefox/)&&!(e=new n).hasNoHash())return window.history.replaceState(y,"",e.withoutHash()),document.location.hash=e.hash},I=function(e){return window.scrollTo(e.positionX,e.positionY)},K=function(){return document.location.hash?document.location.href=document.location.href:window.scrollTo(0,0)},d=function(e){var t,n,r;if(e==null||typeof e!="object")return e;t=new e.constructor;for(n in e)r=e[n],t[n]=d(r);return t},B=function(e){var t,n;return n=((t=document.cookie.match(new RegExp(e+"=(\\w+)")))!=null?t[1].toUpperCase():void 0)||"",document.cookie=e+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/",n},Z=function(e,t){var n;return typeof Prototype!="undefined"&&Event.fire(document,e,t,!0),n=document.createEvent("Events"),t&&(n.data=t),n.initEvent(e,!0,!0),document.dispatchEvent(n)},P=function(e){return!Z(r.BEFORE_CHANGE,{url:e})},j=function(){var e,t,n,r,i,s;t=function(){var e;return 400<=(e=tt.status)&&e<600},s=function(){var e;return(e=tt.getResponseHeader("Content-Type"))!=null&&e.match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)},r=function(e){var t,n,r,i,s;i=e.querySelector("head").childNodes,s=[];for(t=0,n=i.length;t<n;t++)r=i[t],(typeof r.getAttribute==="function"?r.getAttribute("data-turbolinks-track"):void 0)!=null&&s.push(r.getAttribute("src")||r.getAttribute("href"));return s},e=function(e){var t;return M||(M=r(document)),t=r(e),t.length!==M.length||i(t,M).length!==M.length},i=function(e,t){var n,r,i,s,o;e.length>t.length&&(i=[t,e],e=i[0],t=i[1]),s=[];for(n=0,r=e.length;n<r;n++)o=e[n],nt.call(t,o)>=0&&s.push(o);return s};if(!t()&&s()){n=m(tt.responseText);if(n&&!e(n))return n}},S=function(t){var n;return n=t.querySelector("title"),[n!=null?n.textContent:void 0,$(t.querySelector("body")),e.get(t).token,"runScripts"]},e={get:function(e){var t;return e==null&&(e=document),{node:t=e.querySelector('meta[name="csrf-token"]'),token:t!=null?typeof t.getAttribute=="function"?t.getAttribute("content"):void 0:void 0}},update:function(e){var t;t=this.get();if(t.token!=null&&e!=null&&t.token!==e)return t.node.setAttribute("content",e)}},m=function(e){var t;return t=document.documentElement.cloneNode(),t.innerHTML=e,t.head=t.querySelector("head"),t.body=t.querySelector("body"),t},n=function(){function e(t){this.original=t!=null?t:document.location.href;if(this.original.constructor===e)return this.original;this._parse()}return e.prototype.withoutHash=function(){return this.href.replace(this.hash,"").replace("#","")},e.prototype.withoutHashForIE10compatibility=function(){return this.withoutHash()},e.prototype.hasNoHash=function(){return this.hash.length===0},e.prototype.crossOrigin=function(){return this.origin!==(new e).origin},e.prototype._parse=function(){var e;return(this.link!=null?this.link:this.link=document.createElement("a")).href=this.original,e=this.link,this.href=e.href,this.protocol=e.protocol,this.host=e.host,this.hostname=e.hostname,this.port=e.port,this.pathname=e.pathname,this.search=e.search,this.hash=e.hash,this.origin=[this.protocol,"//",this.hostname].join(""),this.port.length!==0&&(this.origin+=":"+this.port),this.relative=[this.pathname,this.search,this.hash].join(""),this.absolute=this.href},e}(),i=function(e){function t(e){this.link=e;if(this.link.constructor===t)return this.link;this.original=this.link.href,this.originalElement=this.link,this.link=this.link.cloneNode(!1),t.__super__.constructor.apply(this,arguments)}return rt(t,e),t.HTML_EXTENSIONS=["html"],t.allowExtensions=function(){var e,n,r,i;n=1<=arguments.length?st.call(arguments,0):[];for(r=0,i=n.length;r<i;r++)e=n[r],t.HTML_EXTENSIONS.push(e);return t.HTML_EXTENSIONS},t.prototype.shouldIgnore=function(){return this.crossOrigin()||this._anchored()||this._nonHtml()||this._optOut()||this._target()},t.prototype._anchored=function(){return(this.hash.length>0||this.href.charAt(this.href.length-1)==="#")&&this.withoutHash()===(new n).withoutHash()},t.prototype._nonHtml=function(){return this.pathname.match(/\.[a-z]+$/g)&&!this.pathname.match(new RegExp("\\.(?:"+t.HTML_EXTENSIONS.join("|")+")?$","g"))},t.prototype._optOut=function(){var e,t;t=this.originalElement;while(!e&&t!==document)e=t.getAttribute("data-no-turbolink")!=null,t=t.parentNode;return e},t.prototype._target=function(){return this.link.target.length!==0},t}(n),t=function(){function e(e){this.event=e;if(this.event.defaultPrevented)return;this._extractLink(),this._validForTurbolinks()&&(P(this.link.absolute)||et(this.link.href),this.event.preventDefault())}return e.installHandlerLast=function(t){if(!t.defaultPrevented)return document.removeEventListener("click",e.handle,!1),document.addEventListener("click",e.handle,!1)},e.handle=function(t){return new e(t)},e.prototype._extractLink=function(){var e;e=this.event.target;while(!!e.parentNode&&e.nodeName!=="A")e=e.parentNode;if(e.nodeName==="A"&&e.href.length!==0)return this.link=new i(e)},e.prototype._validForTurbolinks=function(){return this.link!=null&&!this.link.shouldIgnore()&&!this._nonStandardClick()},e.prototype._nonStandardClick=function(){return this.event.which>1||this.event.metaKey||this.event.ctrlKey||this.event.shiftKey||this.event.altKey},e}(),s=function(){function t(e){this.elementSelector=e,this._trickle=ot(this._trickle,this),this.value=0,this.content="",this.speed=300,this.opacity=.99,this.install()}var e;return e="turbolinks-progress-bar",t.prototype.install=function(){return this.element=document.querySelector(this.elementSelector),this.element.classList.add(e),this.styleElement=document.createElement("style"),document.head.appendChild(this.styleElement),this._updateStyle()},t.prototype.uninstall=function(){return this.element.classList.remove(e),document.head.removeChild(this.styleElement)},t.prototype.start=function(){return this.advanceTo(5)},t.prototype.advanceTo=function(e){var t;if(e>(t=this.value)&&t<=100){this.value=e,this._updateStyle();if(this.value===100)return this._stopTrickle();if(this.value>0)return this._startTrickle()}},t.prototype.done=function(){if(this.value>0)return this.advanceTo(100),this._reset()},t.prototype._reset=function(){var e;return e=this.opacity,setTimeout(function(e){return function(){return e.opacity=0,e._updateStyle()}}(this),this.speed/2),setTimeout(function(t){return function(){return t.value=0,t.opacity=e,t._withSpeed(0,function(){return t._updateStyle(!0)})}}(this),this.speed)},t.prototype._startTrickle=function(){if(this.trickling)return;return this.trickling=!0,setTimeout(this._trickle,this.speed)},t.prototype._stopTrickle=function(){return delete this.trickling},t.prototype._trickle=function(){if(!this.trickling)return;return this.advanceTo(this.value+Math.random()/2),setTimeout(this._trickle,this.speed)},t.prototype._withSpeed=function(e,t){var n,r;return n=this.speed,this.speed=e,r=t(),this.speed=n,r},t.prototype._updateStyle=function(e){return e==null&&(e=!1),e&&this._changeContentToForceRepaint(),this.styleElement.textContent=this._createCSSRule()},t.prototype._changeContentToForceRepaint=function(){return this.content=this.content===""?" ":""},t.prototype._createCSSRule=function(){return this.elementSelector+"."+e+"::before {\n  content: '"+this.content+"';\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 2000;\n  background-color: #0076ff;\n  height: 3px;\n  opacity: "+this.opacity+";\n  width: "+this.value+"%;\n  transition: width "+this.speed+"ms ease-out, opacity "+this.speed/2+"ms ease-in;\n  transform: translate3d(0,0,0);\n}"},t}(),l=function(e){return setTimeout(e,500)},L=function(){return document.addEventListener("DOMContentLoaded",function(){return Z(r.CHANGE),Z(r.UPDATE)},!0)},O=function(){if(typeof jQuery!="undefined")return jQuery(document).on("ajaxSuccess",function(e,t,n){if(!jQuery.trim(t.responseText))return;return Z(r.UPDATE)})},A=function(e){var t,r;if((r=e.state)!=null?r.turbolinks:void 0)return(t=D[(new n(e.state.url)).absolute])?(c(),T(t)):et(e.target.location.href)},k=function(){return X(),W(),document.addEventListener("click",t.installHandlerLast,!0),window.addEventListener("hashchange",function(e){return X(),W()},!1),l(function(){return window.addEventListener("popstate",A,!1)})},C=window.history.state!==void 0||navigator.userAgent.match(/Firefox\/2[6|7]/),a=window.history&&window.history.pushState&&window.history.replaceState&&C,o=!navigator.userAgent.match(/CriOS\//),J=(q=B("request_method"))==="GET"||q==="",f=a&&o&&J,u=document.addEventListener&&document.createEvent,u&&(L(),O()),f?(et=x,k()):et=function(e){return document.location.href=e},this.Turbolinks={visit:et,pagesCached:H,enableTransitionCache:w,enableProgressBar:b,allowLinkExtensions:i.allowExtensions,supported:f,EVENTS:d(r)}}).call(this),function(){function x(e){function t(t,n,r,i,s,o){for(;s>=0&&s<o;s+=e){var u=i?i[s]:s;r=n(r,t[u],u,t)}return r}return function(n,r,i,s){r=v(r,s,4);var o=!S(n)&&d.keys(n),u=(o||n).length,a=e>0?0:u-1;return arguments.length<3&&(i=n[o?o[a]:a],a+=e),t(n,r,i,o,a,u)}}function C(e){return function(t,n,r){n=m(n,r);var i=E(t),s=e>0?0:i-1;for(;s>=0&&s<i;s+=e)if(n(t[s],s,t))return s;return-1}}function k(e,t,n){return function(r,i,s){var u=0,a=E(r);if(typeof s=="number")e>0?u=s>=0?s:Math.max(s+a,u):a=s>=0?Math.min(s+1,a):s+a+1;else if(n&&s&&a)return s=n(r,i),r[s]===i?s:-1;if(i!==i)return s=t(o.call(r,u,a),d.isNaN),s>=0?s+u:-1;for(s=e>0?u:a-1;s>=0&&s<a;s+=e)if(r[s]===i)return s;return-1}}function M(e,t){var n=O.length,i=e.constructor,s=d.isFunction(i)&&i.prototype||r,o="constructor";d.has(e,o)&&!d.contains(t,o)&&t.push(o);while(n--)o=O[n],o in e&&e[o]!==s[o]&&!d.contains(t,o)&&t.push(o)}var e=this,t=e._,n=Array.prototype,r=Object.prototype,i=Function.prototype,s=n.push,o=n.slice,u=r.toString,a=r.hasOwnProperty,f=Array.isArray,l=Object.keys,c=i.bind,h=Object.create,p=function(){},d=function(e){if(e instanceof d)return e;if(!(this instanceof d))return new d(e);this._wrapped=e};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=d),exports._=d):e._=d,d.VERSION="1.8.3";var v=function(e,t,n){if(t===void 0)return e;switch(n==null?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,s){return e.call(t,n,r,i,s)}}return function(){return e.apply(t,arguments)}},m=function(e,t,n){return e==null?d.identity:d.isFunction(e)?v(e,t,n):d.isObject(e)?d.matcher(e):d.property(e)};d.iteratee=function(e,t){return m(e,t,Infinity)};var g=function(e,t){return function(n){var r=arguments.length;if(r<2||n==null)return n;for(var i=1;i<r;i++){var s=arguments[i],o=e(s),u=o.length;for(var a=0;a<u;a++){var f=o[a];if(!t||n[f]===void 0)n[f]=s[f]}}return n}},y=function(e){if(!d.isObject(e))return{};if(h)return h(e);p.prototype=e;var t=new p;return p.prototype=null,t},b=function(e){return function(t){return t==null?void 0:t[e]}},w=Math.pow(2,53)-1,E=b("length"),S=function(e){var t=E(e);return typeof t=="number"&&t>=0&&t<=w};d.each=d.forEach=function(e,t,n){t=v(t,n);var r,i;if(S(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var s=d.keys(e);for(r=0,i=s.length;r<i;r++)t(e[s[r]],s[r],e)}return e},d.map=d.collect=function(e,t,n){t=m(t,n);var r=!S(e)&&d.keys(e),i=(r||e).length,s=Array(i);for(var o=0;o<i;o++){var u=r?r[o]:o;s[o]=t(e[u],u,e)}return s},d.reduce=d.foldl=d.inject=x(1),d.reduceRight=d.foldr=x(-1),d.find=d.detect=function(e,t,n){var r;S(e)?r=d.findIndex(e,t,n):r=d.findKey(e,t,n);if(r!==void 0&&r!==-1)return e[r]},d.filter=d.select=function(e,t,n){var r=[];return t=m(t,n),d.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},d.reject=function(e,t,n){return d.filter(e,d.negate(m(t)),n)},d.every=d.all=function(e,t,n){t=m(t,n);var r=!S(e)&&d.keys(e),i=(r||e).length;for(var s=0;s<i;s++){var o=r?r[s]:s;if(!t(e[o],o,e))return!1}return!0},d.some=d.any=function(e,t,n){t=m(t,n);var r=!S(e)&&d.keys(e),i=(r||e).length;for(var s=0;s<i;s++){var o=r?r[s]:s;if(t(e[o],o,e))return!0}return!1},d.contains=d.includes=d.include=function(e,t,n,r){S(e)||(e=d.values(e));if(typeof n!="number"||r)n=0;return d.indexOf(e,t,n)>=0},d.invoke=function(e,t){var n=o.call(arguments,2),r=d.isFunction(t);return d.map(e,function(e){var i=r?t:e[t];return i==null?i:i.apply(e,n)})},d.pluck=function(e,t){return d.map(e,d.property(t))},d.where=function(e,t){return d.filter(e,d.matcher(t))},d.findWhere=function(e,t){return d.find(e,d.matcher(t))},d.max=function(e,t,n){var r=-Infinity,i=-Infinity,s,o;if(t==null&&e!=null){e=S(e)?e:d.values(e);for(var u=0,a=e.length;u<a;u++)s=e[u],s>r&&(r=s)}else t=m(t,n),d.each(e,function(e,n,s){o=t(e,n,s);if(o>i||o===-Infinity&&r===-Infinity)r=e,i=o});return r},d.min=function(e,t,n){var r=Infinity,i=Infinity,s,o;if(t==null&&e!=null){e=S(e)?e:d.values(e);for(var u=0,a=e.length;u<a;u++)s=e[u],s<r&&(r=s)}else t=m(t,n),d.each(e,function(e,n,s){o=t(e,n,s);if(o<i||o===Infinity&&r===Infinity)r=e,i=o});return r},d.shuffle=function(e){var t=S(e)?e:d.values(e),n=t.length,r=Array(n);for(var i=0,s;i<n;i++)s=d.random(0,i),s!==i&&(r[i]=r[s]),r[s]=t[i];return r},d.sample=function(e,t,n){return t==null||n?(S(e)||(e=d.values(e)),e[d.random(e.length-1)]):d.shuffle(e).slice(0,Math.max(0,t))},d.sortBy=function(e,t,n){return t=m(t,n),d.pluck(d.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index-t.index}),"value")};var T=function(e){return function(t,n,r){var i={};return n=m(n,r),d.each(t,function(r,s){var o=n(r,s,t);e(i,r,o)}),i}};d.groupBy=T(function(e,t,n){d.has(e,n)?e[n].push(t):e[n]=[t]}),d.indexBy=T(function(e,t,n){e[n]=t}),d.countBy=T(function(e,t,n){d.has(e,n)?e[n]++:e[n]=1}),d.toArray=function(e){return e?d.isArray(e)?o.call(e):S(e)?d.map(e,d.identity):d.values(e):[]},d.size=function(e){return e==null?0:S(e)?e.length:d.keys(e).length},d.partition=function(e,t,n){t=m(t,n);var r=[],i=[];return d.each(e,function(e,n,s){(t(e,n,s)?r:i).push(e)}),[r,i]},d.first=d.head=d.take=function(e,t,n){return e==null?void 0:t==null||n?e[0]:d.initial(e,e.length-t)},d.initial=function(e,t,n){return o.call(e,0,Math.max(0,e.length-(t==null||n?1:t)))},d.last=function(e,t,n){return e==null?void 0:t==null||n?e[e.length-1]:d.rest(e,Math.max(0,e.length-t))},d.rest=d.tail=d.drop=function(e,t,n){return o.call(e,t==null||n?1:t)},d.compact=function(e){return d.filter(e,d.identity)};var N=function(e,t,n,r){var i=[],s=0;for(var o=r||0,u=E(e);o<u;o++){var a=e[o];if(S(a)&&(d.isArray(a)||d.isArguments(a))){t||(a=N(a,t,n));var f=0,l=a.length;i.length+=l;while(f<l)i[s++]=a[f++]}else n||(i[s++]=a)}return i};d.flatten=function(e,t){return N(e,t,!1)},d.without=function(e){return d.difference(e,o.call(arguments,1))},d.uniq=d.unique=function(e,t,n,r){d.isBoolean(t)||(r=n,n=t,t=!1),n!=null&&(n=m(n,r));var i=[],s=[];for(var o=0,u=E(e);o<u;o++){var a=e[o],f=n?n(a,o,e):a;t?((!o||s!==f)&&i.push(a),s=f):n?d.contains(s,f)||(s.push(f),i.push(a)):d.contains(i,a)||i.push(a)}return i},d.union=function(){return d.uniq(N(arguments,!0,!0))},d.intersection=function(e){var t=[],n=arguments.length;for(var r=0,i=E(e);r<i;r++){var s=e[r];if(d.contains(t,s))continue;for(var o=1;o<n;o++)if(!d.contains(arguments[o],s))break;o===n&&t.push(s)}return t},d.difference=function(e){var t=N(arguments,!0,!0,1);return d.filter(e,function(e){return!d.contains(t,e)})},d.zip=function(){return d.unzip(arguments)},d.unzip=function(e){var t=e&&d.max(e,E).length||0,n=Array(t);for(var r=0;r<t;r++)n[r]=d.pluck(e,r);return n},d.object=function(e,t){var n={};for(var r=0,i=E(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},d.findIndex=C(1),d.findLastIndex=C(-1),d.sortedIndex=function(e,t,n,r){n=m(n,r,1);var i=n(t),s=0,o=E(e);while(s<o){var u=Math.floor((s+o)/2);n(e[u])<i?s=u+1:o=u}return s},d.indexOf=k(1,d.findIndex,d.sortedIndex),d.lastIndexOf=k(-1,d.findLastIndex),d.range=function(e,t,n){t==null&&(t=e||0,e=0),n=n||1;var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r);for(var s=0;s<r;s++,e+=n)i[s]=e;return i};var L=function(e,t,n,r,i){if(r instanceof t){var s=y(e.prototype),o=e.apply(s,i);return d.isObject(o)?o:s}return e.apply(n,i)};d.bind=function(e,t){if(c&&e.bind===c)return c.apply(e,o.call(arguments,1));if(!d.isFunction(e))throw new TypeError("Bind must be called on a function");var n=o.call(arguments,2),r=function(){return L(e,r,t,this,n.concat(o.call(arguments)))};return r},d.partial=function(e){var t=o.call(arguments,1),n=function(){var r=0,i=t.length,s=Array(i);for(var o=0;o<i;o++)s[o]=t[o]===d?arguments[r++]:t[o];while(r<arguments.length)s.push(arguments[r++]);return L(e,n,this,this,s)};return n},d.bindAll=function(e){var t,n=arguments.length,r;if(n<=1)throw new Error("bindAll must be passed function names");for(t=1;t<n;t++)r=arguments[t],e[r]=d.bind(e[r],e);return e},d.memoize=function(e,t){var n=function(r){var i=n.cache,s=""+(t?t.apply(this,arguments):r);return d.has(i,s)||(i[s]=e.apply(this,arguments)),i[s]};return n.cache={},n},d.delay=function(e,t){var n=o.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},d.defer=d.partial(d.delay,d,1),d.throttle=function(e,t,n){var r,i,s,o=null,u=0;n||(n={});var a=function(){u=n.leading===!1?0:d.now(),o=null,s=e.apply(r,i),o||(r=i=null)};return function(){var f=d.now();!u&&n.leading===!1&&(u=f);var l=t-(f-u);return r=this,i=arguments,l<=0||l>t?(o&&(clearTimeout(o),o=null),u=f,s=e.apply(r,i),o||(r=i=null)):!o&&n.trailing!==!1&&(o=setTimeout(a,l)),s}},d.debounce=function(e,t,n){var r,i,s,o,u,a=function(){var f=d.now()-o;f<t&&f>=0?r=setTimeout(a,t-f):(r=null,n||(u=e.apply(s,i),r||(s=i=null)))};return function(){s=this,i=arguments,o=d.now();var f=n&&!r;return r||(r=setTimeout(a,t)),f&&(u=e.apply(s,i),s=i=null),u}},d.wrap=function(e,t){return d.partial(t,e)},d.negate=function(e){return function(){return!e.apply(this,arguments)}},d.compose=function(){var e=arguments,t=e.length-1;return function(){var n=t,r=e[t].apply(this,arguments);while(n--)r=e[n].call(this,r);return r}},d.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},d.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},d.once=d.partial(d.before,2);var A=!{toString:null}.propertyIsEnumerable("toString"),O=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];d.keys=function(e){if(!d.isObject(e))return[];if(l)return l(e);var t=[];for(var n in e)d.has(e,n)&&t.push(n);return A&&M(e,t),t},d.allKeys=function(e){if(!d.isObject(e))return[];var t=[];for(var n in e)t.push(n);return A&&M(e,t),t},d.values=function(e){var t=d.keys(e),n=t.length,r=Array(n);for(var i=0;i<n;i++)r[i]=e[t[i]];return r},d.mapObject=function(e,t,n){t=m(t,n);var r=d.keys(e),i=r.length,s={},o;for(var u=0;u<i;u++)o=r[u],s[o]=t(e[o],o,e);return s},d.pairs=function(e){var t=d.keys(e),n=t.length,r=Array(n);for(var i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},d.invert=function(e){var t={},n=d.keys(e);for(var r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},d.functions=d.methods=function(e){var t=[];for(var n in e)d.isFunction(e[n])&&t.push(n);return t.sort()},d.extend=g(d.allKeys),d.extendOwn=d.assign=g(d.keys),d.findKey=function(e,t,n){t=m(t,n);var r=d.keys(e),i;for(var s=0,o=r.length;s<o;s++){i=r[s];if(t(e[i],i,e))return i}},d.pick=function(e,t,n){var r={},i=e,s,o;if(i==null)return r;d.isFunction(t)?(o=d.allKeys(i),s=v(t,n)):(o=N(arguments,!1,!1,1),s=function(e,t,n){return t in n},i=Object(i));for(var u=0,a=o.length;u<a;u++){var f=o[u],l=i[f];s(l,f,i)&&(r[f]=l)}return r},d.omit=function(e,t,n){if(d.isFunction(t))t=d.negate(t);else{var r=d.map(N(arguments,!1,!1,1),String);t=function(e,t){return!d.contains(r,t)}}return d.pick(e,t,n)},d.defaults=g(d.allKeys,!0),d.create=function(e,t){var n=y(e);return t&&d.extendOwn(n,t),n},d.clone=function(e){return d.isObject(e)?d.isArray(e)?e.slice():d.extend({},e):e},d.tap=function(e,t){return t(e),e},d.isMatch=function(e,t){var n=d.keys(t),r=n.length;if(e==null)return!r;var i=Object(e);for(var s=0;s<r;s++){var o=n[s];if(t[o]!==i[o]||!(o in i))return!1}return!0};var _=function(e,t,n,r){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return e===t;e instanceof d&&(e=e._wrapped),t instanceof d&&(t=t._wrapped);var i=u.call(e);if(i!==u.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":if(+e!==+e)return+t!==+t;return+e===0?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var s=i==="[object Array]";if(!s){if(typeof e!="object"||typeof t!="object")return!1;var o=e.constructor,a=t.constructor;if(o!==a&&!(d.isFunction(o)&&o instanceof o&&d.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];var f=n.length;while(f--)if(n[f]===e)return r[f]===t;n.push(e),r.push(t);if(s){f=e.length;if(f!==t.length)return!1;while(f--)if(!_(e[f],t[f],n,r))return!1}else{var l=d.keys(e),c;f=l.length;if(d.keys(t).length!==f)return!1;while(f--){c=l[f];if(!d.has(t,c)||!_(e[c],t[c],n,r))return!1}}return n.pop(),r.pop(),!0};d.isEqual=function(e,t){return _(e,t)},d.isEmpty=function(e){return e==null?!0:S(e)&&(d.isArray(e)||d.isString(e)||d.isArguments(e))?e.length===0:d.keys(e).length===0},d.isElement=function(e){return!!e&&e.nodeType===1},d.isArray=f||function(e){return u.call(e)==="[object Array]"},d.isObject=function(e){var t=typeof e;return t==="function"||t==="object"&&!!e},d.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){d["is"+e]=function(t){return u.call(t)==="[object "+e+"]"}}),d.isArguments(arguments)||(d.isArguments=function(e){return d.has(e,"callee")}),typeof /./!="function"&&typeof Int8Array!="object"&&(d.isFunction=function(e){return typeof e=="function"||!1}),d.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},d.isNaN=function(e){return d.isNumber(e)&&e!==+e},d.isBoolean=function(e){return e===!0||e===!1||u.call(e)==="[object Boolean]"},d.isNull=function(e){return e===null},d.isUndefined=function(e){return e===void 0},d.has=function(e,t){return e!=null&&a.call(e,t)},d.noConflict=function(){return e._=t,this},d.identity=function(e){return e},d.constant=function(e){return function(){return e}},d.noop=function(){},d.property=b,d.propertyOf=function(e){return e==null?function(){}:function(t){return e[t]}},d.matcher=d.matches=function(e){return e=d.extendOwn({},e),function(t){return d.isMatch(t,e)}},d.times=function(e,t,n){var r=Array(Math.max(0,e));t=v(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},d.random=function(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},d.now=Date.now||function(){return(new Date).getTime()};var D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},P=d.invert(D),H=function(e){var t=function(t){return e[t]},n="(?:"+d.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=e==null?"":""+e,r.test(e)?e.replace(i,t):e}};d.escape=H(D),d.unescape=H(P),d.result=function(e,t,n){var r=e==null?void 0:e[t];return r===void 0&&(r=n),d.isFunction(r)?r.call(e):r};var B=0;d.uniqueId=function(e){var t=++B+"";return e?e+t:t},d.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var j=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},I=/\\|'|\r|\n|\u2028|\u2029/g,q=function(e){return"\\"+F[e]};d.template=function(e,t,n){!t&&n&&(t=n),t=d.defaults({},t,d.templateSettings);var r=RegExp([(t.escape||j).source,(t.interpolate||j).source,(t.evaluate||j).source].join("|")+"|$","g"),i=0,s="__p+='";e.replace(r,function(t,n,r,o,u){return s+=e.slice(i,u).replace(I,q),i=u+t.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?s+="'+\n((__t=("+r+"))==null?'':__t)+\n'":o&&(s+="';\n"+o+"\n__p+='"),t}),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var o=new Function(t.variable||"obj","_",s)}catch(u){throw u.source=s,u}var a=function(e){return o.call(this,e,d)},f=t.variable||"obj";return a.source="function("+f+"){\n"+s+"}",a},d.chain=function(e){var t=d(e);return t._chain=!0,t};var R=function(e,t){return e._chain?d(t).chain():t};d.mixin=function(e){d.each(d.functions(e),function(t){var n=d[t]=e[t];d.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),R(this,n.apply(d,e))}})},d.mixin(d),d.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=n[e];d.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e==="shift"||e==="splice")&&n.length===0&&delete n[0],R(this,n)}}),d.each(["concat","join","slice"],function(e){var t=n[e];d.prototype[e]=function(){return R(this,t.apply(this._wrapped,arguments))}}),d.prototype.value=function(){return this._wrapped},d.prototype.valueOf=d.prototype.toJSON=d.prototype.value,d.prototype.toString=function(){return""+this._wrapped},typeof define=="function"&&define.amd&&define("underscore",[],function(){return d})}.call(this),window.Modernizr=function(e,t,n){function A(e){f.cssText=e}function O(e,t){return A(p.join(e+";")+(t||""))}function M(e,t){return typeof e===t}function _(e,t){return!!~(""+e).indexOf(t)}function D(e,t){for(var r in e){var i=e[r];if(!_(i,"-")&&f[i]!==n)return t=="pfx"?i:!0}return!1}function P(e,t,r){for(var i in e){var s=t[e[i]];if(s!==n)return r===!1?e[i]:M(s,"function")?s.bind(r||t):s}return!1}function H(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),i=(e+" "+v.join(r+" ")+r).split(" ");return M(t,"string")||M(t,"undefined")?D(i,t):(i=(e+" "+m.join(r+" ")+r).split(" "),P(i,t,n))}function B(){i.input=function(n){for(var r=0,i=n.length;r<i;r++)w[n[r]]=n[r]in l;return w.list&&(w.list=!!t.createElement("datalist")&&!!e.HTMLDataListElement),w}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),i.inputtypes=function(e){for(var r=0,i,s,u,a=e.length;r<a;r++)l.setAttribute("type",s=e[r]),i=l.type!=="text",i&&(l.value=c,l.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(s)&&l.style.WebkitAppearance!==n?(o.appendChild(l),u=t.defaultView,i=u.getComputedStyle&&u.getComputedStyle(l,null).WebkitAppearance!=="textfield"&&l.offsetHeight!==0,o.removeChild(l)):/^(search|tel)$/.test(s)||(/^(url|email)$/.test(s)?i=l.checkValidity&&l.checkValidity()===!1:i=l.value!=c)),b[e[r]]=!!i;return b}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var r="2.8.3",i={},s=!0,o=t.documentElement,u="modernizr",a=t.createElement(u),f=a.style,l=t.createElement("input"),c=":)",h={}.toString,p=" -webkit- -moz- -o- -ms- ".split(" "),d="Webkit Moz O ms",v=d.split(" "),m=d.toLowerCase().split(" "),g={svg:"http://www.w3.org/2000/svg"},y={},b={},w={},E=[],S=E.slice,x,T=function(e,n,r,i){var s,a,f,l,c=t.createElement("div"),h=t.body,p=h||t.createElement("body");if(parseInt(r,10))while(r--)f=t.createElement("div"),f.id=i?i[r]:u+(r+1),c.appendChild(f);return s=["&#173;",'<style id="s',u,'">',e,"</style>"].join(""),c.id=u,(h?c:p).innerHTML+=s,p.appendChild(c),h||(p.style.background="",p.style.overflow="hidden",l=o.style.overflow,o.style.overflow="hidden",o.appendChild(p)),a=n(c,e),h?c.parentNode.removeChild(c):(p.parentNode.removeChild(p),o.style.overflow=l),!!a},N=function(t){var n=e.matchMedia||e.msMatchMedia;if(n)return n(t)&&n(t).matches||!1;var r;return T("@media "+t+" { #"+u+" { position: absolute; } }",function(t){r=(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle)["position"]=="absolute"}),r},C=function(){function r(r,i){i=i||t.createElement(e[r]||"div"),r="on"+r;var s=r in i;return s||(i.setAttribute||(i=t.createElement("div")),i.setAttribute&&i.removeAttribute&&(i.setAttribute(r,""),s=M(i[r],"function"),M(i[r],"undefined")||(i[r]=n),i.removeAttribute(r))),i=null,s}var e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return r}(),k={}.hasOwnProperty,L;!M(k,"undefined")&&!M(k.call,"undefined")?L=function(e,t){return k.call(e,t)}:L=function(e,t){return t in e&&M(e.constructor.prototype[t],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(t){var n=this;if(typeof n!="function")throw new TypeError;var r=S.call(arguments,1),i=function(){if(this instanceof i){var e=function(){};e.prototype=n.prototype;var s=new e,o=n.apply(s,r.concat(S.call(arguments)));return Object(o)===o?o:s}return n.apply(t,r.concat(S.call(arguments)))};return i}),y.flexbox=function(){return H("flexWrap")},y.flexboxlegacy=function(){return H("boxDirection")},y.canvas=function(){var e=t.createElement
("canvas");return!!e.getContext&&!!e.getContext("2d")},y.canvastext=function(){return!!i.canvas&&!!M(t.createElement("canvas").getContext("2d").fillText,"function")},y.webgl=function(){return!!e.WebGLRenderingContext},y.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:T(["@media (",p.join("touch-enabled),("),u,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=e.offsetTop===9}),n},y.geolocation=function(){return"geolocation"in navigator},y.postmessage=function(){return!!e.postMessage},y.websqldatabase=function(){return!!e.openDatabase},y.indexedDB=function(){return!!H("indexedDB",e)},y.hashchange=function(){return C("hashchange",e)&&(t.documentMode===n||t.documentMode>7)},y.history=function(){return!!e.history&&!!history.pushState},y.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},y.websockets=function(){return"WebSocket"in e||"MozWebSocket"in e},y.rgba=function(){return A("background-color:rgba(150,255,150,.5)"),_(f.backgroundColor,"rgba")},y.hsla=function(){return A("background-color:hsla(120,40%,100%,.5)"),_(f.backgroundColor,"rgba")||_(f.backgroundColor,"hsla")},y.multiplebgs=function(){return A("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(f.background)},y.backgroundsize=function(){return H("backgroundSize")},y.borderimage=function(){return H("borderImage")},y.borderradius=function(){return H("borderRadius")},y.boxshadow=function(){return H("boxShadow")},y.textshadow=function(){return t.createElement("div").style.textShadow===""},y.opacity=function(){return O("opacity:.55"),/^0.55$/.test(f.opacity)},y.cssanimations=function(){return H("animationName")},y.csscolumns=function(){return H("columnCount")},y.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return A((e+"-webkit- ".split(" ").join(t+e)+p.join(n+e)).slice(0,-e.length)),_(f.backgroundImage,"gradient")},y.cssreflections=function(){return H("boxReflect")},y.csstransforms=function(){return!!H("transform")},y.csstransforms3d=function(){var e=!!H("perspective");return e&&"webkitPerspective"in o.style&&T("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t,n){e=t.offsetLeft===9&&t.offsetHeight===3}),e},y.csstransitions=function(){return H("transition")},y.fontface=function(){var e;return T('@font-face {font-family:"font";src:url("https://")}',function(n,r){var i=t.getElementById("smodernizr"),s=i.sheet||i.styleSheet,o=s?s.cssRules&&s.cssRules[0]?s.cssRules[0].cssText:s.cssText||"":"";e=/src/i.test(o)&&o.indexOf(r.split(" ")[0])===0}),e},y.generatedcontent=function(){var e;return T(["#",u,"{font:0/0 a}#",u,':after{content:"',c,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){e=t.offsetHeight>=3}),e},y.video=function(){var e=t.createElement("video"),n=!1;try{if(n=!!e.canPlayType)n=new Boolean(n),n.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")}catch(r){}return n},y.audio=function(){var e=t.createElement("audio"),n=!1;try{if(n=!!e.canPlayType)n=new Boolean(n),n.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,"")}catch(r){}return n},y.localstorage=function(){try{return localStorage.setItem(u,u),localStorage.removeItem(u),!0}catch(e){return!1}},y.sessionstorage=function(){try{return sessionStorage.setItem(u,u),sessionStorage.removeItem(u),!0}catch(e){return!1}},y.webworkers=function(){return!!e.Worker},y.applicationcache=function(){return!!e.applicationCache},y.svg=function(){return!!t.createElementNS&&!!t.createElementNS(g.svg,"svg").createSVGRect},y.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==g.svg},y.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(h.call(t.createElementNS(g.svg,"animate")))},y.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(h.call(t.createElementNS(g.svg,"clipPath")))};for(var j in y)L(y,j)&&(x=j.toLowerCase(),i[x]=y[j](),E.push((i[x]?"":"no-")+x));return i.input||B(),i.addTest=function(e,t){if(typeof e=="object")for(var r in e)L(e,r)&&i.addTest(r,e[r]);else{e=e.toLowerCase();if(i[e]!==n)return i;t=typeof t=="function"?t():t,typeof s!="undefined"&&s&&(o.className+=" "+(t?"":"no-")+e),i[e]=t}return i},A(""),a=l=null,function(e,t){function c(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function h(){var e=y.elements;return typeof e=="string"?e.split(" "):e}function p(e){var t=f[e[u]];return t||(t={},a++,e[u]=a,f[a]=t),t}function d(e,n,r){n||(n=t);if(l)return n.createElement(e);r||(r=p(n));var o;return r.cache[e]?o=r.cache[e].cloneNode():s.test(e)?o=(r.cache[e]=r.createElem(e)).cloneNode():o=r.createElem(e),o.canHaveChildren&&!i.test(e)&&!o.tagUrn?r.frag.appendChild(o):o}function v(e,n){e||(e=t);if(l)return e.createDocumentFragment();n=n||p(e);var r=n.frag.cloneNode(),i=0,s=h(),o=s.length;for(;i<o;i++)r.createElement(s[i]);return r}function m(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return y.shivMethods?d(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+h().join().replace(/[\w\-]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(y,t.frag)}function g(e){e||(e=t);var n=p(e);return y.shivCSS&&!o&&!n.hasCSS&&(n.hasCSS=!!c(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),l||m(e,n),e}var n="3.7.0",r=e.html5||{},i=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,s=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,o,u="_html5shiv",a=0,f={},l;(function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",o="hidden"in e,l=e.childNodes.length==1||function(){t.createElement("a");var e=t.createDocumentFragment();return typeof e.cloneNode=="undefined"||typeof e.createDocumentFragment=="undefined"||typeof e.createElement=="undefined"}()}catch(n){o=!0,l=!0}})();var y={elements:r.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:n,shivCSS:r.shivCSS!==!1,supportsUnknownElements:l,shivMethods:r.shivMethods!==!1,type:"default",shivDocument:g,createElement:d,createDocumentFragment:v};e.html5=y,g(t)}(this,t),i._version=r,i._prefixes=p,i._domPrefixes=m,i._cssomPrefixes=v,i.mq=N,i.hasEvent=C,i.testProp=function(e){return D([e])},i.testAllProps=H,i.testStyles=T,i.prefixed=function(e,t,n){return t?H(e,t,n):H(e,"pfx")},o.className=o.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(s?" js "+E.join(" "):""),i}(this,this.document),window.Detectizr=function(e,t,n,r){function p(e,t){var n,r,i;if(arguments.length>2)for(n=1,r=arguments.length;n<r;n+=1)p(e,arguments[n]);else for(i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function d(e){return i.browser.userAgent.indexOf(e)>-1}function v(e){return e.test(i.browser.userAgent)}function m(e){return e.exec(i.browser.userAgent)}function g(e){return e.replace(/^\s+|\s+$/g,"")}function y(e){return e===null||e===r?"":String(e).replace(/((\s|\-|\.)+[a-z0-9])/g,function(e){return e.toUpperCase().replace(/(\s|\-|\.)/g,"")})}function b(e,t){var n=t||"",r=e.nodeType===1&&(e.className?(" "+e.className+" ").replace(f," "):"");if(r){while(r.indexOf(" "+n+" ")>=0)r=r.replace(" "+n+" "," ");e.className=t?g(r):""}}function w(e,t,n){!e||(e=y(e),!t||(t=y(t),E(e+t,!0),!n||E(e+t+"_"+n,!0)))}function E(e,t){!!e&&!!s&&(u.addAllFeaturesAsClass?s.addTest(e,t):(t=typeof t=="function"?t():t,t?s.addTest(e,!0):(delete s[e],b(l,e))))}function S(e,t){e.version=t;var n=t.split(".");n.length>0?(n=n.reverse(),e.major=n.pop(),n.length>0?(e.minor=n.pop(),n.length>0?(n=n.reverse(),e.patch=n.join(".")):e.patch="0"):e.minor="0"):e.major="0"}function x(){e.clearTimeout(c),c=e.setTimeout(function(){h=i.device.orientation,e.innerHeight>e.innerWidth?i.device.orientation="portrait":i.device.orientation="landscape",E(i.device.orientation,!0),h!==i.device.orientation&&E(h,!1)},10)}function T(e){var n=t.plugins,r,i,s,o,u;for(o=n.length-1;o>=0;o--){r=n[o],i=r.name+r.description,s=0;for(u=e.length;u>=0;u--)i.indexOf(e[u])!==-1&&(s+=1);if(s===e.length)return!0}return!1}function N(e){var t;for(t=e.length-1;t>=0;t--)try{new ActiveXObject(e[t])}catch(n){}return!1}function C(r){var f,l,c,h,g,b,C;u=p({},u,r||{});if(u.detectDevice){i.device={type:"",model:"",orientation:""},c=i.device,v(/googletv|smarttv|smart-tv|internet.tv|netcast|nettv|appletv|boxee|kylo|roku|dlnadoc|roku|pov_tv|hbbtv|ce\-html/)?(c.type=o[0],c.model="smartTv"):v(/xbox|playstation.3|wii/)?(c.type=o[0],c.model="gameConsole"):v(/ip(a|ro)d/)?(c.type=o[1],c.model="ipad"):v(/tablet/)&&!v(/rx-34/)||v(/folio/)?(c.type=o[1],c.model=String(m(/playbook/)||"")):v(/linux/)&&v(/android/)&&!v(/fennec|mobi|htc.magic|htcX06ht|nexus.one|sc-02b|fone.945/)?(c.type=o[1],c.model="android"):v(/kindle/)||v(/mac.os/)&&v(/silk/)?(c.type=o[1],c.model="kindle"):v(/gt-p10|sc-01c|shw-m180s|sgh-t849|sch-i800|shw-m180l|sph-p100|sgh-i987|zt180|htc(.flyer|\_flyer)|sprint.atp51|viewpad7|pandigital(sprnova|nova)|ideos.s7|dell.streak.7|advent.vega|a101it|a70bht|mid7015|next2|nook/)||v(/mb511/)&&v(/rutem/)?(c.type=o[1],c.model="android"):v(/bb10/)?(c.type=o[1],c.model="blackberry"):(c.model=m(/iphone|ipod|android|blackberry|opera mini|opera mobi|skyfire|maemo|windows phone|palm|iemobile|symbian|symbianos|fennec|j2me/),c.model!==null?(c.type=o[2],c.model=String(c.model)):(c.model="",v(/bolt|fennec|iris|maemo|minimo|mobi|mowser|netfront|novarra|prism|rx-34|skyfire|tear|xv6875|xv6975|google.wireless.transcoder/)?c.type=o[2]:v(/opera/)&&v(/windows.nt.5/)&&v(/htc|xda|mini|vario|samsung\-gt\-i8000|samsung\-sgh\-i9/)?c.type=o[2]:v(/windows.(nt|xp|me|9)/)&&!v(/phone/)||v(/win(9|.9|nt)/)||v(/\(windows 8\)/)?c.type=o[3]:v(/macintosh|powerpc/)&&!v(/silk/)?(c.type=o[3],c.model="mac"):v(/linux/)&&v(/x11/)?c.type=o[3]:v(/solaris|sunos|bsd/)?c.type=o[3]:v(/cros/)?c.type=o[3]:v(/bot|crawler|spider|yahoo|ia_archiver|covario-ids|findlinks|dataparksearch|larbin|mediapartners-google|ng-search|snappy|teoma|jeeves|tineye/)&&!v(/mobile/)?(c.type=o[3],c.model="crawler"):c.type=o[2]));for(f=0,l=o.length;f<l;f+=1)E(o[f],c.type===o[f]);u.detectDeviceModel&&E(y(c.model),!0)}u.detectScreen&&(c.screen={},!!s&&!!s.mq&&(s.mq("only screen and (max-width: 240px)")?(c.screen.size="veryVerySmall",E("veryVerySmallScreen",!0)):s.mq("only screen and (max-width: 320px)")?(c.screen.size="verySmall",E("verySmallScreen",!0)):s.mq("only screen and (max-width: 480px)")&&(c.screen.size="small",E("smallScreen",!0)),(c.type===o[1]||c.type===o[2])&&s.mq("only screen and (-moz-min-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen  and (min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx)")&&(c.screen.resolution="high",E("highresolution",!0))),c.type===o[1]||c.type===o[2]?(e.onresize=function(e){x(e)},x()):(c.orientation="landscape",E(c.orientation,!0))),u.detectOS&&(i.os={},h=i.os,c.model!==""&&(c.model==="ipad"||c.model==="iphone"||c.model==="ipod"?(h.name="ios",S(h,(v(/os\s([\d_]+)/)?RegExp.$1:"").replace(/_/g,"."))):c.model==="android"?(h.name="android",S(h,v(/android\s([\d\.]+)/)?RegExp.$1:"")):c.model==="blackberry"?(h.name="blackberry",S(h,v(/version\/([^\s]+)/)?RegExp.$1:"")):c.model==="playbook"&&(h.name="blackberry",S(h,v(/os ([^\s]+)/)?RegExp.$1.replace(";",""):""))),h.name||(d("win")||d("16bit")?(h.name="windows",d("windows nt 6.3")?S(h,"8.1"):d("windows nt 6.2")||v(/\(windows 8\)/)?S(h,"8"):d("windows nt 6.1")?S(h,"7"):d("windows nt 6.0")?S(h,"vista"):d("windows nt 5.2")||d("windows nt 5.1")||d("windows xp")?S(h,"xp"):d("windows nt 5.0")||d("windows 2000")?S(h,"2k"):d("winnt")||d("windows nt")?S(h,"nt"):d("win98")||d("windows 98")?S(h,"98"):(d("win95")||d("windows 95"))&&S(h,"95")):d("mac")||d("darwin")?(h.name="mac os",d("68k")||d("68000")?S(h,"68k"):d("ppc")||d("powerpc")?S(h,"ppc"):d("os x")&&S(h,(v(/os\sx\s([\d_]+)/)?RegExp.$1:"os x").replace(/_/g,"."))):d("webtv")?h.name="webtv":d("x11")||d("inux")?h.name="linux":d("sunos")?h.name="sun":d("irix")?h.name="irix":d("freebsd")?h.name="freebsd":d("bsd")&&(h.name="bsd")),!h.name||(E(h.name,!0),!h.major||(w(h.name,h.major),!h.minor||w(h.name,h.major,h.minor))),v(/\sx64|\sx86|\swin64|\swow64|\samd64/)?h.addressRegisterSize="64bit":h.addressRegisterSize="32bit",E(h.addressRegisterSize,!0)),u.detectBrowser&&(g=i.browser,!v(/opera|webtv/)&&(v(/msie\s([\d\w\.]+)/)||d("trident"))?(g.engine="trident",g.name="ie",!e.addEventListener&&n.documentMode&&n.documentMode===7?S(g,"8.compat"):v(/trident.*rv[ :](\d+)\./)?S(g,RegExp.$1):S(g,v(/trident\/4\.0/)?"8":RegExp.$1)):d("firefox")?(g.engine="gecko",g.name="firefox",S(g,v(/firefox\/([\d\w\.]+)/)?RegExp.$1:"")):d("gecko/")?g.engine="gecko":d("opera")?(g.name="opera",g.engine="presto",S(g,v(/version\/([\d\.]+)/)?RegExp.$1:v(/opera(\s|\/)([\d\.]+)/)?RegExp.$2:"")):d("konqueror")?g.name="konqueror":d("chrome")?(g.engine="webkit",g.name="chrome",S(g,v(/chrome\/([\d\.]+)/)?RegExp.$1:"")):d("iron")?(g.engine="webkit",g.name="iron"):d("crios")?(g.name="chrome",g.engine="webkit",S(g,v(/crios\/([\d\.]+)/)?RegExp.$1:"")):d("applewebkit/")?(g.name="safari",g.engine="webkit",S(g,v(/version\/([\d\.]+)/)?RegExp.$1:"")):d("mozilla/")&&(g.engine="gecko"),!g.name||(E(g.name,!0),!g.major||(w(g.name,g.major),!g.minor||w(g.name,g.major,g.minor))),E(g.engine,!0),g.language=t.userLanguage||t.language,E(g.language,!0));if(u.detectPlugins){g.plugins=[];for(f=a.length-1;f>=0;f--)b=a[f],C=!1,e.ActiveXObject?C=N(b.progIds):t.plugins&&(C=T(b.substrs)),C&&(g.plugins.push(b.name),E(b.name,!0));t.javaEnabled()&&(g.plugins.push("java"),E("java",!0))}}var i={},s=e.Modernizr,o=["tv","tablet","mobile","desktop"],u={addAllFeaturesAsClass:!1,detectDevice:!0,detectDeviceModel:!0,detectScreen:!0,detectOS:!0,detectBrowser:!0,detectPlugins:!0},a=[{name:"adobereader",substrs:["Adobe","Acrobat"],progIds:["AcroPDF.PDF","PDF.PDFCtrl.5"]},{name:"flash",substrs:["Shockwave Flash"],progIds:["ShockwaveFlash.ShockwaveFlash.1"]},{name:"wmplayer",substrs:["Windows Media"],progIds:["wmplayer.ocx"]},{name:"silverlight",substrs:["Silverlight"],progIds:["AgControl.AgControl"]},{name:"quicktime",substrs:["QuickTime"],progIds:["QuickTime.QuickTime"]}],f=/[\t\r\n]/g,l=n.documentElement,c,h;return i.detect=function(e){return C(e)},i.init=function(){i!==r&&(i.browser={userAgent:(t.userAgent||t.vendor||e.opera).toLowerCase()},i.detect())},i.init(),i}(this,this.navigator,this.document),function(){"use strict";var e="undefined",t="string",n=self.navigator,r=String,i=Object.prototype.hasOwnProperty,s={},o={},u=!1,a=!0,f=/^\s*application\/(?:vnd\.oftn\.|x-)?l10n\+json\s*(?:$|;)/i,l,c="locale",h="defaultLocale",p="toLocaleString",d="toLowerCase",v=Array.prototype.indexOf||function(e){var t=this.length,n=0;for(;n<t;n++)if(n in this&&this[n]===e)return n;return-1},m=function(e){var t=new l,n={};t.open("GET",e,u),t.send(null);try{n=JSON.parse(t.responseText)}catch(r){setTimeout(function(){var t=new Error("Unable to load localization data: "+e);throw t.name="Localization Error",t},0)}return n},g=r[p]=function(e){if(arguments.length>0&&typeof e!="number")if(typeof e===t)g(m(e));else if(e===u)o={};else{var n,a,f;for(n in e)if(i.call(e,n)){a=e[n],n=n[d]();if(!(n in o)||a===u)o[n]={};if(a===u)continue;if(typeof a===t){if(r[c][d]().indexOf(n)!==0){n in s||(s[n]=[]),s[n].push(a);continue}a=m(a)}for(f in a)i.call(a,f)&&(o[n][f]=a[f])}}return Function.prototype[p].apply(r,arguments)},y=function(e){var t=s[e],n=0,r=t.length,i;for(;n<r;n++)i={},i[e]=m(t[n]),g(i);delete s[e]},b,w=r.prototype[p]=function(){var e=b,t=r[e?h:c],n=t[d]().split("-"),i=n.length,f=this.valueOf(),l;b=u;do{l=n.slice(0,i).join("-"),l in s&&y(l);if(l in o&&f in o[l])return o[l][f]}while(i-->1);return!e&&r[h]?(b=a,w.call(f)):f};if(typeof XMLHttpRequest===e&&typeof ActiveXObject!==e){var E=ActiveXObject;l=function(){try{return new E("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new E("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new E("Msxml2.XMLHTTP")}catch(n){}throw new Error("XMLHttpRequest not supported by this browser.")}}else l=XMLHttpRequest;r[h]=r[h]||"",r[c]=n&&(n.language||n.userLanguage)||"";if(typeof document!==e){var S=document.getElementsByTagName("link"),x=S.length,T;while(x--){var N=S[x],C=(N.getAttribute("rel")||"")[d]().split(/\s+/);f.test(N.type)&&(v.call(C,"localizations")!==-1?g(N.getAttribute("href")):v.call(C,"localization")!==-1&&(T={},T[(N.getAttribute("hreflang")||"")[d]()]=N.getAttribute("href"),g(T)))}}}(),_.templateSettings={evaluate:/\[\[(.+?)\]\]/g,interpolate:/\{\{(.+?)\}\}/g},String.toLocaleString({en:{"%rechoose":"rechoose","%delete":"delete","%warn_system_file":"system file is not allowed","%warn_exec_file":"EXE/BAT format file is not allowed","%file_name_too_long":"file name is too long","%warn_oversize":"file size is over {{maxSize}}","%warn_invalid_filetype":"file type is not allowed","%warn_wrong_mobile_number":"<i class='gd-icon-times-circle'></i> please enter correct mobile number of mainland China","%total":"total: ","%download":"download","%sold_out":"sold out","%select_spec":"Please select {{labels}} first","%common_separator":", ","%send_sms_verification":"Send Code","%resend":"resend SMS","%sendingSMS":"sending SMS","%warn_geo_cannot_get_location":"Can't get your location!","%warn_geo_permission_denied":"You denied the request for Geolocation.","%warn_geo_position_unavailable":"Location information is unavailable.","%warn_geo_timeout":"The request to get your location timed out.","%warn_geo_unknown_error":"An unknown error occurred.","%geo_coord":"Longitude:{{long}},Latitude:{{lat}}","%geo_long":"Longitude:{{long}}","%geo_lat":"Latitude:{{lat}}","%geo_address":"{{address}}","%geo_choose":"Choose location","%geo_locate":"Get current location","%geo_locating":"Locating...","%geo_no_address":"No address information. ","%select_prompt":"Please select","%no_geo_data":"There is no data for this field currently.","%bracket":" ({{content}})","%upload_failed":"failed {{status}}, please contact system admin","%upload_failed_400":"failed, changed to standard mode, please try again","%upload_failed_401":"failed, please refresh page and try again","%uploading":"Uploading...","%upload_done":"Uploading finished!","%max_file_quantity":"File quantity is over {{maxFileQuantity}}","%page_number":"Page {{currentPage}}/{{totalPage}}","%presence_error":"{{label}} is required","%white_list_limit_error":"{{label}} [{{fieldValue}}] is not allowed to submit","%format_error":"format is wrong"},"zh-CN":{"%rechoose":"","%delete":"","%warn_system_file":"","%warn_exec_file":"EXEAT","%file_name_too_long":"","%warn_oversize":"{maxSize}}","%warn_invalid_filetype":"","%warn_wrong_mobile_number":"<i class='gd-icon-times-circle'></i> ","%total":"","%download":"","%sold_out":"","%select_spec":"{{labels}}","%common_separator":"","%send_sms_verification":"","%resend":"","%sendingSMS":"","%warn_geo_cannot_get_location":"","%warn_geo_permission_denied":"","%warn_geo_position_unavailable":"","%warn_geo_timeout":"","%warn_geo_unknown_error":"","%geo_coord":":{{long}}:{{lat}}","%geo_long":":{{long}}","%geo_lat":":{{lat}}","%geo_address":"{{address}}","%geo_choose":"","%geo_locate":"","%geo_locating":"...","%geo_no_address":"","%select_prompt":"","%no_geo_data":"","%bracket":"({{content}})","%upload_failed":"{{status}}","%upload_failed_400":"","%upload_failed_401":"1","%uploading":"...","%upload_done":"","%max_file_quantity":"{maxFileQuantity}}","%page_number":"{currentPage}}/{totalPage}}","%presence_error":"{label}}","%white_list_limit_error":"{{label}} [{{fieldValue}}] ","%format_error":""},"zh-TW":{"%rechoose":"","%delete":"","%warn_system_file":"","%warn_exec_file":"EXEAT","%file_name_too_long":"","%warn_oversize":"{maxSize}}","%warn_invalid_filetype":"","%warn_wrong_mobile_number":"","%total":"","%download":"","%sold_out":"","%select_spec":"{{labels}}","%common_separator":"","%send_sms_verification":"","%resend":"","%sendingSMS":"","%warn_geo_cannot_get_location":"","%warn_geo_permission_denied":"","%warn_geo_position_unavailable":"","%warn_geo_timeout":"","%warn_geo_unknown_error":"","%geo_coord":":{{long}}:{{lat}}","%geo_address":"{{address}}","%geo_choose":"","%geo_locate":"","%geo_locating":"...","%geo_no_address":"","%select_prompt":"","%no_geo_data":"","%bracket":"{content}}","%upload_failed":"{{status}}","%upload_failed_400":"","%upload_failed_401":"1","%uploading":"...","%upload_done":"","%max_file_quantity":"{maxFileQuantity}}","%page_number":"{currentPage}}/{totalPage}}","%presence_error":"{label}}","%white_list_limit_error":"{{label}} [{{fieldValue}}] ","%format_error":""}});var l=function(e,t){return t==null&&(t={}),_.template(e.toLocaleString())(t)};String.locale="zh-CN",+function(e){"use strict";function n(n,r){return this.each(function(){var i=e(this),s=i.data("bs.modal"),o=e.extend({},t.DEFAULTS,i.data(),typeof n=="object"&&n);s||i.data("bs.modal",s=new t(this,o)),typeof n=="string"?s[n](r):o.show&&s.show(r)})}var t=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};t.VERSION="3.3.5",t.TRANSITION_DURATION=300,t.BACKDROP_TRANSITION_DURATION=150,t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},t.prototype.show=function(n){var r=this,i=e.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(i);if(this.isShown||i.isDefaultPrevented())return;this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var i=e.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.adjustDialog(),i&&r.$element[0].offsetWidth,r.$element.addClass("in"),r.enforceFocus();var s=e.Event("shown.bs.modal",{relatedTarget:n});i?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(t.TRANSITION_DURATION):r.$element.trigger("focus").trigger(s)})},t.prototype.hide=function(n){n&&n.preventDefault(),n=e.Event("hide.bs.modal"),this.$element.trigger(n);if(!this.isShown||n.isDefaultPrevented())return;this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal()},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]!==e.target&&!this.$element.has(e.target).length&&this.$element.trigger("focus")},this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){e.which==27&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},t.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(n){var r=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=e.support.transition&&i;this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+i).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){if(this.ignoreBackdropClick){this.ignoreBackdropClick=!1;return}if(e.target!==e.currentTarget)return;this.options.backdrop=="static"?this.$element[0].focus():this.hide()},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in");if(!n)return;s?this.$backdrop.one("bsTransitionEnd",n).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):n()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){r.removeBackdrop(),n&&n()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):o()}else n&&n()},t.prototype.handleUpdate=function(){this.adjustDialog()},t.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},t.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},t.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},t.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},t.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var r=e.fn.modal;e.fn.modal=n,e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=r,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var r=e(this),i=r.attr("href"),s=e(r.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=s.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},s.data(),r.data());r.is("a")&&t.preventDefault(),s.one("show.bs.modal",function(e){if(e.isDefaultPrevented())return;s.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),n.call(s,o,this)})}(jQuery),+function(e){"use strict";function n(n){return this.each(function(){var r=e(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new t(this)),typeof n=="string"&&i[n]()})}var t=function(t){this.element=e(t)};t.VERSION="3.3.5",t.TRANSITION_DURATION=150,t.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.data("target");r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));if(t.parent("li").hasClass("active"))return;var i=n.find(".active:last a"),s=e.Event("hide.bs.tab",{relatedTarget:t[0]}),o=e.Event("show.bs.tab",{relatedTarget:i[0]});i.trigger(s),t.trigger(o);if(o.isDefaultPrevented()||s.isDefaultPrevented())return;var u=e(r);this.activate(t.closest("li"),n),this.activate(u,u.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})},t.prototype.activate=function(n,r,i){function u(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),n.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),o?(n[0].offsetWidth,n.addClass("in")):n.removeClass("fade"),n.parent(".dropdown-menu").length&&n.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var s=r.find("> .active"),o=i&&e.support.transition&&(s.length&&s.hasClass("fade")||!!r.find("> .fade").length);s.length&&o?s.one("bsTransitionEnd",u).emulateTransitionEnd(t.TRANSITION_DURATION):u(),s.removeClass("in")};var r=e.fn.tab;e.fn.tab=n,e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=r,this};var i=function(t){t.preventDefault(),n.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery),function(e,t){function n(){return new Date(Date.UTC.apply(Date,arguments))}function r(){var e=new Date;return n(e.getFullYear(),e.getMonth(),e.getDate())}function i(e,t){return e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth()===t.getUTCMonth()&&e.getUTCDate()===t.getUTCDate()}function s(e){return function(){return this[e].apply(this,arguments)}}function f(t,n){function u(e,t){return t.toLowerCase()}var r=e(t).data(),i={},s,o=new RegExp("^"+n.toLowerCase()+"([A-Z])");n=new RegExp("^"+n.toLowerCase());for(var a in r)n.test(a)&&(s=a.replace(o,u),i[s]=r[a]);return i}function l(t){var n={};if(!v[t]){t=t.split("-")[0];if(!v[t])return}var r=v[t];return e.each(d,function(e,t){t in r&&(n[t]=r[t])}),n}var o=function(){var t={get:function(e){return this.slice(e)[0]},contains:function(e){var t=e&&e.valueOf();for(var n=0,r=this.length;n<r;n++)if(this[n].valueOf()===t)return n;return-1},remove:function(e){this.splice(e,1)},replace:function(t){if(!t)return;e.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t)},clear:function(){this.length=0},copy:function(){var e=new o;return e.replace(this),e}};return function(){var n=[];return n.push.apply(n,arguments),e.extend(n,t),n}}(),u=function(t,n){this._process_options(n),this.dates=new o,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=e(t),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.hasClass("date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&this.component.length===0&&(this.component=!1),this.picker=e(m.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot .today, tfoot .clear").attr("colspan",function(e,t){return parseInt(t)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};u.prototype={constructor:u,_process_options:function(i){this._o=e.extend({},this._o,i);var s=this.o=e.extend({},this._o),o=s.language;v[o]||(o=o.split("-")[0],v[o]||(o=p.language)),s.language=o;switch(s.startView){case 2:case"decade":s.startView=2;break;case 1:case"year"
:s.startView=1;break;default:s.startView=0}switch(s.minViewMode){case 1:case"months":s.minViewMode=1;break;case 2:case"years":s.minViewMode=2;break;default:s.minViewMode=0}s.startView=Math.max(s.startView,s.minViewMode),s.multidate!==!0&&(s.multidate=Number(s.multidate)||!1,s.multidate!==!1&&(s.multidate=Math.max(0,s.multidate))),s.multidateSeparator=String(s.multidateSeparator),s.weekStart%=7,s.weekEnd=(s.weekStart+6)%7;var u=m.parseFormat(s.format);s.startDate!==-Infinity&&(s.startDate?s.startDate instanceof Date?s.startDate=this._local_to_utc(this._zero_time(s.startDate)):s.startDate=m.parseDate(s.startDate,u,s.language):s.startDate=-Infinity),s.endDate!==Infinity&&(s.endDate?s.endDate instanceof Date?s.endDate=this._local_to_utc(this._zero_time(s.endDate)):s.endDate=m.parseDate(s.endDate,u,s.language):s.endDate=Infinity),s.daysOfWeekDisabled=s.daysOfWeekDisabled||[],e.isArray(s.daysOfWeekDisabled)||(s.daysOfWeekDisabled=s.daysOfWeekDisabled.split(/[,\s]*/)),s.daysOfWeekDisabled=e.map(s.daysOfWeekDisabled,function(e){return parseInt(e,10)}),s.datesDisabled=s.datesDisabled||[];if(!e.isArray(s.datesDisabled)){var a=[];a.push(m.parseDate(s.datesDisabled,u,s.language)),s.datesDisabled=a}s.datesDisabled=e.map(s.datesDisabled,function(e){return m.parseDate(e,u,s.language)});var f=String(s.orientation).toLowerCase().split(/\s+/g),l=s.orientation.toLowerCase();f=e.grep(f,function(e){return/^auto|left|right|top|bottom$/.test(e)}),s.orientation={x:"auto",y:"auto"};if(!!l&&l!=="auto")if(f.length===1)switch(f[0]){case"top":case"bottom":s.orientation.y=f[0];break;case"left":case"right":s.orientation.x=f[0]}else l=e.grep(f,function(e){return/^left|right$/.test(e)}),s.orientation.x=l[0]||"auto",l=e.grep(f,function(e){return/^top|bottom$/.test(e)}),s.orientation.y=l[0]||"auto";if(s.defaultViewDate){var c=s.defaultViewDate.year||(new Date).getFullYear(),h=s.defaultViewDate.month||0,d=s.defaultViewDate.day||1;s.defaultViewDate=n(c,h,d)}else s.defaultViewDate=r();s.showOnFocus=s.showOnFocus!==t?s.showOnFocus:!0},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var n=0,r,i,s;n<e.length;n++)r=e[n][0],e[n].length===2?(i=t,s=e[n][1]):e[n].length===3&&(i=e[n][1],s=e[n][2]),r.on(s,i)},_unapplyEvents:function(e){for(var n=0,r,i,s;n<e.length;n++)r=e[n][0],e[n].length===2?(s=t,i=e[n][1]):e[n].length===3&&(s=e[n][1],i=e[n][2]),r.off(i,s)},_buildEvents:function(){var t={keyup:e.proxy(function(t){e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])===-1&&this.update()},this),keydown:e.proxy(this.keydown,this)};this.o.showOnFocus===!0&&(t.focus=e.proxy(this.show,this)),this.isInput?this._events=[[this.element,t]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),t],[this.component,{click:e.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:e.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:e.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:e.proxy(function(e){this._focused_from=e.target},this)}]),this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{"mousedown touchstart":e.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,n){var r=n||this.dates.get(-1),i=this._utc_to_local(r);this.element.trigger({type:t,date:i,dates:e.map(this.dates,this._utc_to_local),format:e.proxy(function(e,t){arguments.length===0?(e=this.dates.length-1,t=this.o.format):typeof e=="string"&&(t=e,e=this.dates.length-1),t=t||this.o.format;var n=this.dates.get(e);return m.formatDate(n,t,this.o.language)},this)})},show:function(){if(this.element.attr("readonly")&&this.o.enableOnReadonly===!1)return;return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&e(this.element).blur(),this},hide:function(){return this.isInline?this:this.picker.is(":visible")?(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"),this):this},remove:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},_utc_to_local:function(e){return e&&new Date(e.getTime()+e.getTimezoneOffset()*6e4)},_local_to_utc:function(e){return e&&new Date(e.getTime()-e.getTimezoneOffset()*6e4)},_zero_time:function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return e&&new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()))},getDates:function(){return e.map(this.dates,this._utc_to_local)},getUTCDates:function(){return e.map(this.dates,function(e){return new Date(e)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var e=this.dates.get(-1);return typeof e!="undefined"?new Date(e):null},clearDates:function(){var e;this.isInput?e=this.element:this.component&&(e=this.element.find("input")),e&&e.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e.map(t,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:s("setDates"),setUTCDate:s("setUTCDates"),setValue:function(){var e=this.getFormattedDate();return this.isInput?this.element.val(e).change():this.component&&this.element.find("input").val(e).change(),this},getFormattedDate:function(n){n===t&&(n=this.o.format);var r=this.o.language;return e.map(this.dates,function(e){return m.formatDate(e,n,r)}).join(this.o.multidateSeparator)},setStartDate:function(e){return this._process_options({startDate:e}),this.update(),this.updateNavArrows(),this},setEndDate:function(e){return this._process_options({endDate:e}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(e){return this._process_options({daysOfWeekDisabled:e}),this.update(),this.updateNavArrows(),this},setDatesDisabled:function(e){this._process_options({datesDisabled:e}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var t=this.picker.outerWidth(),n=this.picker.outerHeight(),r=10,i=e(this.o.container).width(),s=e(this.o.container).height(),o=e(this.o.container).scrollTop(),u=e(this.o.container).offset(),a=[];this.element.parents().each(function(){var t=e(this).css("z-index");t!=="auto"&&t!==0&&a.push(parseInt(t))});var f=Math.max.apply(Math,a)+10,l=this.component?this.component.parent().offset():this.element.offset(),c=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),h=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),p=l.left-u.left,d=l.top-u.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),this.o.orientation.x!=="auto"?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),this.o.orientation.x==="right"&&(p-=t-h)):l.left<0?(this.picker.addClass("datepicker-orient-left"),p-=l.left-r):p+t>i?(this.picker.addClass("datepicker-orient-right"),p=l.left+h-t):this.picker.addClass("datepicker-orient-left");var v=this.o.orientation.y,m,g;v==="auto"&&(m=-o+d-n,g=o+s-(d+c+n),Math.max(m,g)===g?v="top":v="bottom"),this.picker.addClass("datepicker-orient-"+v),v==="top"?d+=c:d-=n+parseInt(this.picker.css("padding-top"));if(this.o.rtl){var y=i-(p+h);this.picker.css({top:d,right:y,zIndex:f})}else this.picker.css({top:d,left:p,zIndex:f});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var t=this.dates.copy(),n=[],r=!1;return arguments.length?(e.each(arguments,e.proxy(function(e,t){t instanceof Date&&(t=this._local_to_utc(t)),n.push(t)},this)),r=!0):(n=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),n&&this.o.multidate?n=n.split(this.o.multidateSeparator):n=[n],delete this.element.data().date),n=e.map(n,e.proxy(function(e){return m.parseDate(e,this.o.format,this.o.language)},this)),n=e.grep(n,e.proxy(function(e){return e<this.o.startDate||e>this.o.endDate||!e},this),!0),this.dates.replace(n),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),r?this.setValue():n.length&&String(t)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&t.length&&this._trigger("clearDate"),this.fill(),this},fillDow:function(){var e=this.o.weekStart,t="<tr>";if(this.o.calendarWeeks){this.picker.find(".datepicker-days thead tr:first-child .datepicker-switch").attr("colspan",function(e,t){return parseInt(t)+1});var n='<th class="cw">&#160;</th>';t+=n}while(e<this.o.weekStart+7)t+='<th class="dow">'+v[this.o.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){var e="",t=0;while(t<12)e+='<span class="month">'+v[this.o.language].monthsShort[t++]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(t){!t||!t.length?delete this.range:this.range=e.map(t,function(e){return e.valueOf()}),this.fill()},getClassNames:function(t){var n=[],r=this.viewDate.getUTCFullYear(),s=this.viewDate.getUTCMonth(),o=new Date;return t.getUTCFullYear()<r||t.getUTCFullYear()===r&&t.getUTCMonth()<s?n.push("old"):(t.getUTCFullYear()>r||t.getUTCFullYear()===r&&t.getUTCMonth()>s)&&n.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&n.push("focused"),this.o.todayHighlight&&t.getUTCFullYear()===o.getFullYear()&&t.getUTCMonth()===o.getMonth()&&t.getUTCDate()===o.getDate()&&n.push("today"),this.dates.contains(t)!==-1&&n.push("active"),(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)!==-1)&&n.push("disabled"),this.o.datesDisabled.length>0&&e.grep(this.o.datesDisabled,function(e){return i(t,e)}).length>0&&n.push("disabled","disabled-date"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&n.push("range"),e.inArray(t.valueOf(),this.range)!==-1&&n.push("selected")),n},fill:function(){var r=new Date(this.viewDate),i=r.getUTCFullYear(),s=r.getUTCMonth(),o=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,u=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,a=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,f=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,l=v[this.o.language].today||v.en.today||"",c=v[this.o.language].clear||v.en.clear||"",h;if(isNaN(i)||isNaN(s))return;this.picker.find(".datepicker-days thead .datepicker-switch").text(v[this.o.language].months[s]+" "+i),this.picker.find("tfoot .today").text(l).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot .clear").text(c).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var p=n(i,s-1,28),d=m.getDaysInMonth(p.getUTCFullYear(),p.getUTCMonth());p.setUTCDate(d),p.setUTCDate(d-(p.getUTCDay()-this.o.weekStart+7)%7);var g=new Date(p);g.setUTCDate(g.getUTCDate()+42),g=g.valueOf();var y=[],b;while(p.valueOf()<g){if(p.getUTCDay()===this.o.weekStart){y.push("<tr>");if(this.o.calendarWeeks){var w=new Date(+p+(this.o.weekStart-p.getUTCDay()-7)%7*864e5),E=new Date(Number(w)+(11-w.getUTCDay())%7*864e5),S=new Date(Number(S=n(E.getUTCFullYear(),0,1))+(11-S.getUTCDay())%7*864e5),x=(E-S)/864e5/7+1;y.push('<td class="cw">'+x+"</td>")}}b=this.getClassNames(p),b.push("day");if(this.o.beforeShowDay!==e.noop){var T=this.o.beforeShowDay(this._utc_to_local(p));T===t?T={}:typeof T=="boolean"?T={enabled:T}:typeof T=="string"&&(T={classes:T}),T.enabled===!1&&b.push("disabled"),T.classes&&(b=b.concat(T.classes.split(/\s+/))),T.tooltip&&(h=T.tooltip)}b=e.unique(b),y.push('<td class="'+b.join(" ")+'"'+(h?' title="'+h+'"':"")+">"+p.getUTCDate()+"</td>"),h=null,p.getUTCDay()===this.o.weekEnd&&y.push("</tr>"),p.setUTCDate(p.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(y.join(""));var N=this.picker.find(".datepicker-months").find("th:eq(1)").text(i).end().find("span").removeClass("active");e.each(this.dates,function(e,t){t.getUTCFullYear()===i&&N.eq(t.getUTCMonth()).addClass("active")}),(i<o||i>a)&&N.addClass("disabled"),i===o&&N.slice(0,u).addClass("disabled"),i===a&&N.slice(f+1).addClass("disabled");if(this.o.beforeShowMonth!==e.noop){var C=this;e.each(N,function(t,n){if(!e(n).hasClass("disabled")){var r=new Date(i,t,1),s=C.o.beforeShowMonth(r);s===!1&&e(n).addClass("disabled")}})}y="",i=parseInt(i/10,10)*10;var k=this.picker.find(".datepicker-years").find("th:eq(1)").text(i+"-"+(i+9)).end().find("td");i-=1;var L=e.map(this.dates,function(e){return e.getUTCFullYear()}),A;for(var O=-1;O<11;O++)A=["year"],O===-1?A.push("old"):O===10&&A.push("new"),e.inArray(i,L)!==-1&&A.push("active"),(i<o||i>a)&&A.push("disabled"),y+='<span class="'+A.join(" ")+'">'+i+"</span>",i+=1;k.html(y)},updateNavArrows:function(){if(!this._allow_update)return;var e=new Date(this.viewDate),t=e.getUTCFullYear(),n=e.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-Infinity&&t<=this.o.startDate.getUTCFullYear()&&n<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==Infinity&&t>=this.o.endDate.getUTCFullYear()&&n>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-Infinity&&t<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==Infinity&&t>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}},click:function(t){t.preventDefault();var r=e(t.target).closest("span, td, th"),i,s,o;if(r.length===1)switch(r[0].nodeName.toLowerCase()){case"th":switch(r[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var u=m.modes[this.viewMode].navStep*(r[0].className==="prev"?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,u),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,u),this.viewMode===1&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var a=new Date;a=n(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0),this.showMode(-2);var f=this.o.todayBtn==="linked"?null:"view";this._setDate(a,f);break;case"clear":this.clearDates()}break;case"span":r.hasClass("disabled")||(this.viewDate.setUTCDate(1),r.hasClass("month")?(o=1,s=r.parent().find("span").index(r),i=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(s),this._trigger("changeMonth",this.viewDate),this.o.minViewMode===1&&this._setDate(n(i,s,o))):(o=1,s=0,i=parseInt(r.text(),10)||0,this.viewDate.setUTCFullYear(i),this._trigger("changeYear",this.viewDate),this.o.minViewMode===2&&this._setDate(n(i,s,o))),this.showMode(-1),this.fill());break;case"td":r.hasClass("day")&&!r.hasClass("disabled")&&(o=parseInt(r.text(),10)||1,i=this.viewDate.getUTCFullYear(),s=this.viewDate.getUTCMonth(),r.hasClass("old")?s===0?(s=11,i-=1):s-=1:r.hasClass("new")&&(s===11?(s=0,i+=1):s+=1),this._setDate(n(i,s,o)))}this.picker.is(":visible")&&this._focused_from&&e(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(e){var t=this.dates.contains(e);e||this.dates.clear(),t!==-1?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(t):this.o.multidate===!1?(this.dates.clear(),this.dates.push(e)):this.dates.push(e);if(typeof this.o.multidate=="number")while(this.dates.length>this.o.multidate)this.dates.remove(0)},_setDate:function(e,t){(!t||t==="date")&&this._toggle_multidate(e&&new Date(e));if(!t||t==="view")this.viewDate=e&&new Date(e);this.fill(),this.setValue(),(!t||t!=="view")&&this._trigger("changeDate");var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&n.change(),this.o.autoclose&&(!t||t==="date")&&this.hide()},moveMonth:function(e,n){if(!e)return t;if(!n)return e;var r=new Date(e.valueOf()),i=r.getUTCDate(),s=r.getUTCMonth(),o=Math.abs(n),u,a;n=n>0?1:-1;if(o===1){a=n===-1?function(){return r.getUTCMonth()===s}:function(){return r.getUTCMonth()!==u},u=s+n,r.setUTCMonth(u);if(u<0||u>11)u=(u+12)%12}else{for(var f=0;f<o;f++)r=this.moveMonth(r,n);u=r.getUTCMonth(),r.setUTCDate(i),a=function(){return u!==r.getUTCMonth()}}while(a())r.setUTCDate(--i),r.setUTCMonth(u);return r},moveYear:function(e,t){return this.moveMonth(e,t*12)},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(!this.picker.is(":visible")){e.keyCode===27&&this.show();return}var t=!1,n,i,s,o=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;n=e.keyCode===37?-1:1,e.ctrlKey?(i=this.moveYear(this.dates.get(-1)||r(),n),s=this.moveYear(o,n),this._trigger("changeYear",this.viewDate)):e.shiftKey?(i=this.moveMonth(this.dates.get(-1)||r(),n),s=this.moveMonth(o,n),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||r()),i.setUTCDate(i.getUTCDate()+n),s=new Date(o),s.setUTCDate(o.getUTCDate()+n)),this.dateWithinRange(s)&&(this.focusDate=this.viewDate=s,this.setValue(),this.fill(),e.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;n=e.keyCode===38?-1:1,e.ctrlKey?(i=this.moveYear(this.dates.get(-1)||r(),n),s=this.moveYear(o,n),this._trigger("changeYear",this.viewDate)):e.shiftKey?(i=this.moveMonth(this.dates.get(-1)||r(),n),s=this.moveMonth(o,n),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||r()),i.setUTCDate(i.getUTCDate()+n*7),s=new Date(o),s.setUTCDate(o.getUTCDate()+n*7)),this.dateWithinRange(s)&&(this.focusDate=this.viewDate=s,this.setValue(),this.fill(),e.preventDefault());break;case 32:break;case 13:o=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(o),t=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(e.preventDefault(),typeof e.stopPropagation=="function"?e.stopPropagation():e.cancelBubble=!0,this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(t){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var u;this.isInput?u=this.element:this.component&&(u=this.element.find("input")),u&&u.change()}},showMode:function(e){e&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+e))),this.picker.children("div").hide().filter(".datepicker-"+m.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var a=function(t,n){this.element=e(t),this.inputs=e.map(n.inputs,function(e){return e.jquery?e[0]:e}),delete n.inputs,h.call(e(this.inputs),n).bind("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,function(t){return e(t).data("datepicker")}),this.updateDates()};a.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.getUTCDate()}),this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(this.pickers,function(e,n){n.setRange(t)})},dateUpdated:function(t){if(this.updating)return;this.updating=!0;var n=e(t.target).data("datepicker"),r=n.getUTCDate(),i=e.inArray(t.target,this.inputs),s=i-1,o=i+1,u=this.inputs.length;if(i===-1)return;e.each(this.pickers,function(e,t){t.getUTCDate()||t.setUTCDate(r)});if(r<this.dates[s])while(s>=0&&r<this.dates[s])this.pickers[s--].setUTCDate(r);else if(r>this.dates[o])while(o<u&&r>this.dates[o])this.pickers[o++].setUTCDate(r);this.updateDates(),delete this.updating},remove:function(){e.map(this.pickers,function(e){e.remove()}),delete this.element.data().datepicker}};var c=e.fn.datepicker,h=function(n){var r=Array.apply(null,arguments);r.shift();var i;return this.each(function(){var s=e(this),o=s.data("datepicker"),c=typeof n=="object"&&n;if(!o){var h=f(this,"date"),d=e.extend({},p,h,c),v=l(d.language),m=e.extend({},p,v,h,c);if(s.hasClass("input-daterange")||m.inputs){var g={inputs:m.inputs||s.find("input").toArray()};s.data("datepicker",o=new a(this,e.extend(m,g)))}else s.data("datepicker",o=new u(this,m))}if(typeof n=="string"&&typeof o[n]=="function"){i=o[n].apply(o,r);if(i!==t)return!1}}),i!==t?i:this};e.fn.datepicker=h;var p=e.fn.datepicker.defaults={autoclose:!1,beforeShowDay:e.noop,beforeShowMonth:e.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],datesDisabled:[],endDate:Infinity,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-Infinity,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,container:"body"},d=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=u;var v=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},m={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return e%4===0&&e%100!==0||e%400===0},getDaysInMonth:function(e,t){return[31,m.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(e){var t=e.replace(this.validParts,"\0").split("\0"),n=e.match(this.validParts);if(!t||!t.length||!n||n.length===0)throw new Error("Invalid date format.");return{separators:t,parts:n}},parseDate:function(r,i,s){function w(){var e=this.slice(0,a[c].length),t=a[c].slice(0,e.length);return e.toLowerCase()===t.toLowerCase()}if(!r)return t;if(r instanceof Date)return r;typeof i=="string"&&(i=m.parseFormat(i));var o=/([\-+]\d+)([dmwy])/,a=r.match(/([\-+]\d+)([dmwy])/g),f,l,c;if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(r)){r=new Date;for(c=0;c<a.length;c++){f=o.exec(a[c]),l=parseInt(f[1]);switch(f[2]){case"d":r.setUTCDate(r.getUTCDate()+l);break;case"m":r=u.prototype.moveMonth.call(u.prototype,r,l);break;case"w":r.setUTCDate(r.getUTCDate()+l*7);break;case"y":r=u.prototype.moveYear.call(u.prototype,r,l)}}return n(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),0,0,0)}a=r&&r.match(this.nonpunctuation)||[],r=new Date;var h={},p=["yyyy","yy","M","MM","m","mm","d","dd"],d={yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){if(isNaN(e))return e;t-=1;while(t<0)t+=12;t%=12,e.setUTCMonth(t);while(e.getUTCMonth()!==t)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}},g,y;d.M=d.MM=d.mm=d.m,d.dd=d.d,r=n(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0);var b=i.parts.slice();a.length!==b.length&&(b=e(b).filter(function(t,n){return e.inArray(n,p)!==-1}).toArray());if(a.length===b.length){var E;for(c=0,E=b.length;c<E;c++){g=parseInt(a[c],10),f=b[c];if(isNaN(g))switch(f){case"MM":y=e(v[s].months).filter(w),g=e.inArray(y[0],v[s].months)+1;break;case"M":y=e(v[s].monthsShort).filter(w),g=e.inArray(y[0],v[s].monthsShort)+1}h[f]=g}var S,x;for(c=0;c<p.length;c++)x=p[c],x in h&&!isNaN(h[x])&&(S=new Date(r),d[x](S,h[x]),isNaN(S)||(r=S))}return r},formatDate:function(t,n,r){if(!t)return"";typeof n=="string"&&(n=m.parseFormat(n));var i={d:t.getUTCDate(),D:v[r].daysShort[t.getUTCDay()],DD:v[r].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:v[r].monthsShort[t.getUTCMonth()],MM:v[r].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};i.dd=(i.d<10?"0":"")+i.d,i.mm=(i.m<10?"0":"")+i.m,t=[];var s=e.extend([],n.separators);for(var o=0,u=n.parts.length;o<=u;o++)s.length&&t.push(s.shift()),t.push(i[n.parts[o]]);return t.join("")},headTemplate:'<thead><tr><th class="prev">&#171;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&#187;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};m.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+m.headTemplate+"<tbody></tbody>"+m.footTemplate+"</table>"+"</div>"+'<div class="datepicker-months">'+'<table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+"</table>"+"</div>"+'<div class="datepicker-years">'+'<table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+"</table>"+"</div>"+"</div>",e.fn.datepicker.DPGlobal=m,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=c,this},e.fn.datepicker.version="1.4.1",e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var n=e(this);if(n.data("datepicker"))return;t.preventDefault(),h.call(n,"show")}),e(function(){h.call(e('[data-provide="datepicker-inline"]'))})}(window.jQuery),function(e){e.fn.datepicker.dates["zh-CN"]={days:["","","","","","",""],daysShort:["","","","","","",""],daysMin:["","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["1","2","3","4","5","6","7","8","9","10","11","12"],today:"",clear:"",format:"yyyymd",titleFormat:"yyyym",weekStart:1}}(jQuery),function(e){typeof define=="function"&&define.amd?define(["jquery"],e):typeof exports=="object"?e(require("jquery")):e(jQuery)}(function(e,t){function n(e,t,n,r){return e.selector==t.selector&&e.context==t.context&&(!n||n.$lqguid==t.fn.$lqguid)&&(!r||r.$lqguid==t.fn2.$lqguid)}e.extend(e.fn,{livequery:function(t,i){var s=this,o;return e.each(r.queries,function(e,r){if(n(s,r,t,i))return(o=r)&&!1}),o=o||new r(s.selector,s.context,t,i),o.stopped=!1,o.run(),s},expire:function(t,i){var s=this;return e.each(r.queries,function(e,o){n(s,o,t,i)&&!s.stopped&&r.stop(o.id)}),s}});var r=e.livequery=function(t,n,i,s){var o=this;return o.selector=t,o.context=n,o.fn=i,o.fn2=s,o.elements=e([]),o.stopped=!1,o.id=r.queries.push(o)-1,i.$lqguid=i.$lqguid||r.guid++,s&&(s.$lqguid=s.$lqguid||r.guid++),o};r.prototype={stop:function(){var t=this;if(t.stopped)return;t.fn2&&t.elements.each(t.fn2),t.elements=e([]),t.stopped=!0},run:function(){var t=this;if(t.stopped)return;var n=t.elements,r=e(t.selector,t.context),i=r.not(n),s=n.not(r);t.elements=r,i.each(t.fn),t.fn2&&s.each(t.fn2)}},e.extend(r,{guid:0,queries:[],queue:[],running:!1,timeout:null,registered:[],checkQueue:function(){if(r.running&&r.queue.length){var e=r.queue.length;while(e--)r.queries[r.queue.shift()].run()}},pause:function(){r.running=!1},play:function(){r.running=!0,r.run()},registerPlugin:function(){e.each(arguments,function(t,n){if(!e.fn[n]||e.inArray(n,r.registered)>0)return;var i=e.fn[n];e.fn[n]=function(){var e=i.apply(this,arguments);return r.run(),e},r.registered.push(n)})},run:function(n){n!==t?e.inArray(n,r.queue)<0&&r.queue.push(n):e.each(r.queries,function(t){e.inArray(t,r.queue)<0&&r.queue.push(t)}),r.timeout&&clearTimeout(r.timeout),r.timeout=setTimeout(r.checkQueue,20)},stop:function(n){n!==t?r.queries[n].stop():e.each(r.queries,r.prototype.stop)}}),r.registerPlugin("append","prepend","after","before","wrap","attr","removeAttr","addClass","removeClass","toggleClass","empty","remove","html","prop","removeProp"),e(function(){r.play()})}),function(){window.GD||(window.GD={}),GD.isLowVersionIE=function(){return Detectizr.browser.name==="ie"&&parseInt(Detectizr.browser.version,10)<10}}.call(this),function(){window.GD||(window.GD={}),GD.resetGeoFieldChooser=function(e){e.find(".geo-field-chooser").removeClass("disabled"),e.find(".geo-field-chooser span").text(l("%geo_choose"));if(e.hasClass("mobile"))return e.find(".gd-btn.geo-field-chooser").val(l("%geo_locate"))},GD.Geo=function(){function e(e,t){this.$el=e,this.options=t!=null?t:{},this.options=$.extend({staticMap:!1,mobile:!1,localizable:!1},this.options),this.initMap(),this.options.staticMap||this.options.mobile&&!this.options.localizable||this.initMapEvent()}return e.prototype._noOverrideError=function(e){throw"can't find "+e+" in subclass"},e.prototype.initMap=function(){return this._initMap(this.$el.find(".map-container")[0])},e.prototype.getGeoMethod=function(e){return this.geoArray||(this.geoArray=this._geoArray()),this.geoArray[e]},e.prototype.onGetLocationSuccess=function(e,t){return this.updateMap(e,null,t)},e.prototype.onGetLocationFail=function(){return alert(l("%warn_geo_cannot_get_location")),GD.resetGeoFieldChooser(this.$el)},e.prototype._useNextGeoMethod=function(e){var t;t=this.getGeoMethod(this.geoIndex);if(!t)return;return this.geoIndex++,t(e)},e.prototype.currentLocation=function(e){return e==null&&(e=null),e=e!=null?e:{},this.geoIndex=0,this._useNextGeoMethod(e)},e.prototype.updateMap=function(e,t,n){return t==null&&(t=null),n==null&&(n={}),this.mapObj&&this.setMarker(e,n.zoom),this.showAddress(e,t,n),this.$el.find(".geo-map-coord").html("<span>"+l("%geo_long",{"long":e.lng.toFixed(8)})+"</span>"),this.$el.find(".geo-map-coord").append("<span class='separator'>"+l("%common_separator")+"</span>"),this.$el.find(".geo-map-coord").append("<span>"+l("%geo_lat",{lat:e.lat.toFixed(8)})+"</span>"),this.$el.find("input[name$='[latitude]']").val(e.lat),this.$el.find("input[name$='[longitude]']").val(e.lng)},e.prototype._showAddress=function(e,t){this.$el.find(".geo-map-address").text(l("%geo_address",{address:e})),this.$el.find("input[name$='[address]']").val(e);if(t.onComplete)return t.onComplete()},e.prototype.showAddress=function(e,t,n){return t==null&&(t=null),n==null&&(n={}),t?this._showAddress(t,n):this._showAddressFromLocation(e,n)},e.prototype._initMap=function(e){return this._noOverrideError("_initMap")},e.prototype.initMapEvent=function(){return this._noOverrideError("initMapEvent")},e.prototype._geoArray=function(){return this._noOverrideError("_geoArray")},e.prototype.setMarker=function(e,t){return t==null&&(t=null),this._noOverrideError("setMarker")},e.prototype._showAddressFromLocation=function(e,t){return this._noOverrideError("_showAddressFromLocation")},e.prototype.searchLocation=function(e){return this._noOverrideError("searchLocation")},e}()}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;GD.GeoAutonavi=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype._initMap=function(e){var t;try{return this.mapObj=new AMap.Map(e,{lang:String.locale})}catch(n){return t=n,console.log(t)}finally{this.mapObj.plugin("AMap.ToolBar",function(e){return function(){var t;return t=e.options.localizable&&e.options.mobile?{offset:new AMap.Pixel(2,65)}:{direction:!1,offset:new AMap.Pixel(-10,5)},e.mapObj.addControl(new AMap.ToolBar(t))}}(this))}},n.prototype.initMapEvent=function(){return AMap.event.addListener(this.mapObj,"click",function(e){return function(t){return e.updateMap
(t.lnglat)}}(this))},n.prototype._geoArray=function(){var e,t;return e=function(e){return function(t){var n,r;return r=function(n){return e.onGetLocationSuccess(n.position,t)},n=function(n){n==null&&(n=null);if(e._useNextGeoMethod(t))return;if(n)switch(n.info){case"PERMISSION_DENIED":alert(l("%warn_geo_permission_denied"));break;case"POSITION_UNAVAILBLE":alert(l("%warn_geo_position_unavailable"));break;case"TIMEOUT":alert(l("%warn_geo_timeout"));break;default:alert(l("%warn_geo_unknown_error"))}return GD.resetGeoFieldChooser(e.$el)},e.mapObj.plugin("AMap.Geolocation",function(){var t;return t=new AMap.Geolocation({timeout:5e3,showButton:!1,showCircle:!1,zoomToAccuracy:!0}),e.mapObj.addControl(t),AMap.event.addListener(t,"complete",r),AMap.event.addListener(t,"error",n),t.getCurrentPosition()})}}(this),t=function(e){return function(t){var n;return n=function(){if(e._useNextGeoMethod(t))return;return e.onGetLocationFail()},e.mapObj.plugin("AMap.CitySearch",function(){var r;return r=new AMap.CitySearch,AMap.event.addListener(r,"complete",function(r){var i;if(!(r&&r.city&&r.bounds))return n();i=r.city,e.$el.find(".geo-map-address").text(i),e.$el.find(".geo-map-coord").empty(),e.$el.find("input[name$='[address]']").val(i),e.mapObj.setBounds(r.bounds);if(t.onComplete)return t.onComplete()}),AMap.event.addListener(r,"error",n),r.getLocalCity()})}}(this),[e,t]},n.prototype.setMarker=function(e,t){var n,r;return t==null&&(t=null),this.mapObj.clearMap(),r={map:this.mapObj,icon:"https://webapi.amap.com/images/marker_sprite.png",position:e},this.options.staticMap||this.options.mobile&&!this.options.localizable?new AMap.Marker(r):(n=new AMap.Marker($.extend(r,{draggable:!0,animation:"AMAP_ANIMATION_DROP",cursor:"move",raiseOnDrag:!0})),AMap.event.addListener(n,"dragend",function(e){return function(t){return e.updateMap(t.lnglat)}}(this))),this.mapObj.setZoomAndCenter(t!=null?t:16,e)},n.prototype._showAddressFromLocation=function(e,t){return this.mapObj.plugin("AMap.Geocoder",function(n){return function(){var r;return r=new AMap.Geocoder({radius:1e3,extensions:"all"}),AMap.event.addListener(r,"complete",function(e){var r;return r=e.regeocode.formattedAddress,n._showAddress(r,t)}),r.getAddress(e)}}(this))},n.prototype.searchLocation=function(e){return this.mapObj.plugin("AMap.Geocoder",function(t){return function(){var n;return n=new AMap.Geocoder,AMap.event.addListener(n,"complete",function(e){var n,r,i;n=e.geocodes[0];if(n)return r=n.level,i=function(){switch(r){case"":return 5;case"":return 10;case"":return 12;default:return 16}}(),t.updateMap(n.location,n.formattedAddress,{zoom:i})}),n.getLocation(e)}}(this))},n}(GD.Geo)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;GD.GeoGoogle=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype._initMap=function(e){var t;return t={zoom:4,mapTypeId:google.maps.MapTypeId.ROADMAP,streetViewControl:!1,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_TOP}},this.mapObj=new google.maps.Map(e,t),this.marker=new google.maps.Marker({position:this.mapObj.getCenter(),map:this.mapObj,animation:google.maps.Animation.Drop,draggable:!this.options.staticMap})},n.prototype.initMapEvent=function(){return google.maps.event.addListener(this.mapObj,"click",function(e){return function(t){return e.updateMap(e._latLngFromGoogleLatLng(t.latLng))}}(this)),google.maps.event.addListener(this.marker,"dragend",function(e){return function(t){return e.updateMap(e._latLngFromGoogleLatLng(t.latLng))}}(this))},n.prototype._geoArray=function(){var e;return e=function(e){return function(t){var n,r;return r=function(n){var r;return r={lat:n.coords.latitude,lng:n.coords.longitude},e.onGetLocationSuccess(r,t)},n=function(n){n==null&&(n=null);if(e._useNextGeoMethod(t))return;if(n)switch(n.code){case n.PERMISSION_DENIED:alert(l("%warn_geo_permission_denied"));break;case n.POSITION_UNAVAILABLE:alert(l("%warn_geo_position_unavailable"));break;case n.TIMEOUT:alert(l("%warn_geo_timeout"));break;default:alert(l("%warn_geo_unknown_error"))}return GD.resetGeoFieldChooser(e.$el)},navigator.geolocation?navigator.geolocation.getCurrentPosition(r,n,{timeout:5e3,maximumAge:0}):n()}}(this),[e]},n.prototype._googleLatLng=function(e){return new google.maps.LatLng(e.lat,e.lng)},n.prototype._latLngFromGoogleLatLng=function(e){return{lat:e.lat(),lng:e.lng()}},n.prototype.setMarker=function(e,t){var n;return t==null&&(t=null),n=this._googleLatLng(e),this.mapObj.setZoom(t!=null?t:16),this.mapObj.setCenter(n),this.marker.setPosition(n)},n.prototype._showAddressFromLocation=function(e,t){var n;return n=this._googleLatLng(e),(new google.maps.Geocoder).geocode({latLng:n},function(n){return function(r,i){var s;i===google.maps.GeocoderStatus.OK&&r[0]&&(s=$.trim(r[0].formatted_address.replace(/.*/,""))),s?(n.$el.find(".geo-map-address").text(l("%geo_address",{address:s})),n.$el.find("input[name$='[address]']").val(s)):n.$el.find(".geo-map-address").text(l("%geo_no_address")+l("%geo_coord",{"long":e.lng,lat:e.lat}));if(t.onComplete)return t.onComplete()}}(this))},n.prototype.searchLocation=function(e){return(new google.maps.Geocoder).geocode({address:e},function(e){return function(t,n){if(n===google.maps.GeocoderStatus.OK)return e.updateMap(e._latLngFromGoogleLatLng(t[0].geometry.location))}}(this))},n}(GD.Geo)}.call(this),function(){var e;e=function(){function e(e,t,n){this.$container=e,this.useGoogle=t!=null?t:!1,this.staticMap=n!=null?n:!1,this.mobile=this.$container.closest(".mobile-device").length>0,this.localizable=this.$container.hasClass("localizable"),this.initialMap(),this.staticMap||this.initialEvents(),this.$container.data("geo-initialized",!0)}return e.prototype.initialMap=function(){return this.staticMap||GD.resetGeoFieldChooser(this.$container),this.initialExistedPosition()},e.prototype.ensureGeo=function(){if(this.geo===void 0)return this.useGoogle?this.geo=new GD.GeoGoogle(this.$container,{mobile:this.mobile,staticMap:this.staticMap}):this.geo=new GD.GeoAutonavi(this.$container,{mobile:this.mobile,staticMap:this.staticMap,localizable:this.localizable})},e.prototype.initialExistedPosition=function(){var e,t,n,r;return this.staticMap?(e=this.$container.find(".map-container"),n=e.data("latitude"),r=e.data("longitude"),t=e.data("address")):(n=this.$container.find("input[name$='[latitude]']").val(),r=this.$container.find("input[name$='[longitude]']").val(),t=this.$container.find("input[name$='[address]']").val()),this.setLocation(n,r,t)},e.prototype.setLocation=function(e,t,n){var r;if(e&&t)return this.ensureGeo(),r=this.useGoogle?{lat:parseFloat(e),lng:parseFloat(t)}:new AMap.LngLat(parseFloat(t),parseFloat(e)),this.geo.updateMap(r,n);if(n)return this.ensureGeo(),this.geo.searchLocation(n)},e.prototype.initialEvents=function(){return this.$container.find(".geo-field-chooser").click(function(e){return function(){return e.ensureGeo(),e.geo.currentLocation(),e.$container.find(".geo-map-container").show(),e.$container.find(".geo-field-chooser").hide(),GD.recalcFormHeight()}}(this)),this.$container.find(".clear-location-btn").click(function(e){return function(){return e.$container.find(".geo-field-chooser").css("display","inline-block"),e.$container.find(".geo-map-container").hide(),e.$container.find("input[name$='[latitude]']").val(""),e.$container.find("input[name$='[longitude]']").val(""),e.$container.find("input[name$='[address]']").val(""),GD.recalcFormHeight()}}(this)),this.$container.find(".map-search-btn").click(function(e){return function(){var t;t=e.$container.find(".map-search").val();if(t)return e.geo.searchLocation(t)}}(this)),this.$container.find(".current-location-btn").click(function(e){return function(){return e.ensureGeo(),e.geo.currentLocation({onComplete:function(){return GD.enableBtn(e.$container.find(".current-location-btn.disabled"))}})}}(this))},e}(),GD.initGeoView=function(t){var n,r,i,s,o;t==null&&(t=!1),s=$("[data-role=geo]"),o=[];for(r=0,i=s.length;r<i;r++)n=s[r],$(n).data("geo-initialized")?o.push(void 0):o.push(new e($(n),t));return o},GD.initStaticGeoView=function(t){var n,r,i,s,o;t==null&&(t=!1),s=$("[data-role=static-geomap]"),o=[];for(r=0,i=s.length;r<i;r++)n=s[r],o.push(new e($(n),t,!0));return o},$(document).on("keypress",".field-geo-field .map-search",function(e){if(e.keyCode===13)return $(this).closest(".geo-map-action").find(".map-search-btn").click()})}.call(this),function(){function e(){var e,t=arguments,n,r={},i=function(e,t){var n,r;typeof e!="object"&&(e={});for(r in t)t.hasOwnProperty(r)&&(n=t[r],e[r]=n&&typeof n=="object"&&Object.prototype.toString.call(n)!=="[object Array]"&&r!=="renderTo"&&typeof n.nodeType!="number"?i(e[r]||{},n):t[r]);return e};t[0]===!0&&(r=t[1],t=Array.prototype.slice.call(t,2)),n=t.length;for(e=0;e<n;e++)r=i(r,t[e]);return r}function t(e,t){return parseInt(e,t||10)}function n(e){return typeof e=="string"}function r(e){return e&&typeof e=="object"}function i(e){return Object.prototype.toString.call(e)==="[object Array]"}function s(e){return typeof e=="number"}function o(e){return H.log(e)/H.LN10}function u(e){return H.pow(10,e)}function a(e,t){for(var n=e.length;n--;)if(e[n]===t){e.splice(n,1);break}}function f(e){return e!==_&&e!==null}function l(e,t,i){var s,o;if(n(t))f(i)?e.setAttribute(t,i):e&&e.getAttribute&&(o=e.getAttribute(t));else if(f(t)&&r(t))for(s in t)e.setAttribute(s,t[s]);return o}function c(e){return i(e)?e:[e]}function h(e,t){J&&!et&&t&&t.opacity!==_&&(t.filter="alpha(opacity="+t.opacity*100+")"),It(e.style,t)}function p(e,t,n,r,i){return e=D.createElement(e),t&&It(e,t),i&&h(e,{padding:0,border:mt,margin:0}),n&&h(e,n),r&&r.appendChild(e),e}function d(e,t){var n=function(){return _};return n.prototype=new e,It(n.prototype,t),n}function v(e,t){return Array((t||2)+1-String(e).length).join(0)+e}function m(e){return(xt&&xt(e)||St||0)*6e4}function g(e,t){for(var n="{",r=!1,i,s,o,u,a,f=[];(n=e.indexOf(n))!==-1;){i=e.slice(0,n);if(r){s=i.split(":"),o=s.shift().split("."),a=o.length,i=t;for(u=0;u<a;u++)i=i[o[u]];s.length&&(s=s.join(":"),o=/\.([0-9])/,u=at.lang,a=void 0,/f$/.test(s)?(a=(a=s.match(o))?a[1]:-1,i!==null&&(i=Ft.numberFormat(i,a,u.decimalPoint,s.indexOf(",")>-1?u.thousandsSep:""))):i=ft(s,i))}f.push(i),e=e.slice(n+1),n=(r=!r)?"}":"{"}return f.push(e),f.join("")}function y(e){return H.pow(10,j(H.log(e)/H.LN10))}function b(e,t,n,r,i){var s,o=e,n=qt(n,1);s=e/n,t||(t=[1,2,2.5,5,10],r===!1&&(n===1?t=[1,2,5,10]:n<=.1&&(t=[1/n])));for(r=0;r<t.length;r++)if(o=t[r],i&&o*n>=e||!i&&s<=(t[r]+(t[r+1]||t[r]))/2)break;return o*=n,o}function w(e,t){var n=e.length,r,i;for(i=0;i<n;i++)e[i].ss_i=i;e.sort(function(e,n){return r=t(e,n),r===0?e.ss_i-n.ss_i:r});for(i=0;i<n;i++)delete e[i].ss_i}function E(e){for(var t=e.length,n=e[0];t--;)e[t]<n&&(n=e[t]);return n}function S(e){for(var t=e.length,n=e[0];t--;)e[t]>n&&(n=e[t]);return n}function x(e,t){for(var n in e)e[n]&&e[n]!==t&&e[n].destroy&&e[n].destroy(),delete e[n]}function T(e){ut||(ut=p(vt)),e&&ut.appendChild(e),ut.innerHTML=""}function N(e,t){var n="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(t)throw n;P.console&&console.log(n)}function C(e,t){return parseFloat(e.toPrecision(t||14))}function k(e,t){t.renderer.globalAnimation=qt(e,t.animation)}function L(){var e=at.global,t=e.useUTC,n=t?"getUTC":"get",r=t?"setUTC":"set";wt=e.Date||window.Date,St=t&&e.timezoneOffset,xt=t&&e.getTimezoneOffset,Et=function(e,n,r,i,s,o){var u;return t?(u=wt.UTC.apply(0,arguments),u+=m(u)):u=(new wt(e,n,qt(r,1),qt(i,0),qt(s,0),qt(o,0))).getTime(),u},Tt=n+"Minutes",Nt=n+"Hours",Ct=n+"Day",kt=n+"Date",Lt=n+"Month",At=n+"FullYear",Ot=r+"Milliseconds",Mt=r+"Seconds",_t=r+"Minutes",Dt=r+"Hours",Pt=r+"Date",Ht=r+"Month",Bt=r+"FullYear"}function A(){}function O(e,t,n,r){this.axis=e,this.pos=t,this.type=n||"",this.isNew=!0,!n&&!r&&this.addLabel()}function M(e,t,n,r,i){var s=e.chart.inverted;this.axis=e,this.isNegative=n,this.options=t,this.x=r,this.total=null,this.points={},this.stack=i,this.alignOptions={align:t.align||(s?n?"left":"right":"center"),verticalAlign:t.verticalAlign||(s?"middle":n?"bottom":"top"),y:qt(t.y,s?4:n?14:-6),x:qt(t.x,s?n?-6:6:0)},this.textAlign=t.textAlign||(s?n?"right":"left":"center")}var _,D=document,P=window,H=Math,B=H.round,j=H.floor,F=H.ceil,I=H.max,q=H.min,R=H.abs,U=H.cos,z=H.sin,W=H.PI,X=W*2/360,V=navigator.userAgent,$=P.opera,J=/(msie|trident)/i.test(V)&&!$,K=D.documentMode===8,Q=/AppleWebKit/.test(V),G=/Firefox/.test(V),Y=/(Mobile|Android|Windows Phone)/.test(V),Z="http://www.w3.org/2000/svg",et=!!D.createElementNS&&!!D.createElementNS(Z,"svg").createSVGRect,tt=G&&parseInt(V.split("Firefox/")[1],10)<4,nt=!et&&!J&&!!D.createElement("canvas").getContext,rt,it,st={},ot=0,ut,at,ft,lt,ct,ht=function(){return _},pt=[],dt=0,vt="div",mt="none",gt=/^[0-9]+$/,yt=["plotTop","marginRight","marginBottom","plotLeft"],bt="stroke-width",wt,Et,St,xt,Tt,Nt,Ct,kt,Lt,At,Ot,Mt,_t,Dt,Pt,Ht,Bt,jt={},Ft;Ft=P.Highcharts=P.Highcharts?N(16,!0):{},Ft.seriesTypes=jt;var It=Ft.extend=function(e,t){var n;e||(e={});for(n in t)e[n]=t[n];return e},qt=Ft.pick=function(){var e=arguments,t,n,r=e.length;for(t=0;t<r;t++)if(n=e[t],n!==_&&n!==null)return n},Rt=Ft.wrap=function(e,t,n){var r=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(r),n.apply(this,e)}};ft=function(e,t,n){if(!f(t)||isNaN(t))return at.lang.invalidDate||"";var e=qt(e,"%Y-%m-%d %H:%M:%S"),r=new wt(t-m(t)),i,s=r[Nt](),o=r[Ct](),u=r[kt](),a=r[Lt](),l=r[At](),c=at.lang,h=c.weekdays,r=It({a:h[o].substr(0,3),A:h[o],d:v(u),e:u,w:o,b:c.shortMonths[a],B:c.months[a],m:v(a+1),y:l.toString().substr(2,2),Y:l,H:v(s),k:s,I:v(s%12||12),l:s%12||12,M:v(r[Tt]()),p:s<12?"AM":"PM",P:s<12?"am":"pm",S:v(r.getSeconds()),L:v(B(t%1e3),3)},Ft.dateFormats);for(i in r)for(;e.indexOf("%"+i)!==-1;)e=e.replace("%"+i,typeof r[i]=="function"?r[i](t):r[i]);return n?e.substr(0,1).toUpperCase()+e.substr(1):e},ct={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},Ft.numberFormat=function(e,n,r,i){var s=at.lang,e=+e||0,o=n===-1?q((e.toString().split(".")[1]||"").length,20):isNaN(n=R(n))?2:n,n=r===void 0?s.decimalPoint:r,i=i===void 0?s.thousandsSep:i,s=e<0?"-":"",r=String(t(e=R(e).toFixed(o))),u=r.length>3?r.length%3:0;return s+(u?r.substr(0,u)+i:"")+r.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+i)+(o?n+R(e-r).toFixed(o).slice(2):"")},lt={init:function(e,t,n){var t=t||"",r=e.shift,i=t.indexOf("C")>-1,s=i?7:3,o,t=t.split(" "),n=[].concat(n),u,a,f=function(e){for(o=e.length;o--;)e[o]==="M"&&e.splice(o+1,0,e[o+1],e[o+2],e[o+1],e[o+2])};i&&(f(t),f(n)),e.isArea&&(u=t.splice(t.length-6,6),a=n.splice(n.length-6,6));if(r<=n.length/s&&t.length===n.length)for(;r--;)n=[].concat(n).splice(0,s).concat(n);e.shift=0;if(t.length)for(e=n.length;t.length<e;)r=[].concat(t).splice(t.length-s,s),i&&(r[s-6]=r[s-2],r[s-5]=r[s-1]),t=t.concat(r);return u&&(t=t.concat(u),n=n.concat(a)),[t,n]},step:function(e,t,n,r){var i=[],s=e.length;if(n===1)i=r;else if(s===t.length&&n<1)for(;s--;)r=parseFloat(e[s]),i[s]=isNaN(r)?e[s]:n*parseFloat(t[s]-r)+r;else i=t;return i}},function(e){P.HighchartsAdapter=P.HighchartsAdapter||e&&{init:function(t){var r=e.fx;e.extend(e.easing,{easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n}}),e.each(["cur","_default","width","height","opacity"],function(t,n){var i=r.step,s;n==="cur"?i=r.prototype:n==="_default"&&e.Tween&&(i=e.Tween.propHooks[n],n="set"),(s=i[n])&&(i[n]=function(e){var r,e=t?e:this;if(e.prop!=="align")return r=e.elem,r.attr?r.attr(e.prop,n==="cur"?_:e.now):s.apply(this,arguments)})}),Rt(e.cssHooks.opacity,"get",function(e,t,n){return t.attr?t.opacity||0:e.call(this,t,n)}),this.addAnimSetter("d",function(e){var n=e.elem,r;e.started||(r=t.init(n,n.d,n.toD),e.start=r[0],e.end=r[1],e.started=!0),n.attr("d",t.step(e.start,e.end,e.pos,n.toD))}),this.each=Array.prototype.forEach?function(e,t){return Array.prototype.forEach.call(e,t)}:function(e,t){var n,r=e.length;for(n=0;n<r;n++)if(t.call(e[n],e[n],n,e)===!1)return n},e.fn.highcharts=function(){var e="Chart",t=arguments,r,i;return this[0]&&(n(t[0])&&(e=t[0],t=Array.prototype.slice.call(t,1)),r=t[0],r!==_&&(r.chart=r.chart||{},r.chart.renderTo=this[0],new Ft[e](r,t[1]),i=this),r===_&&(i=pt[l(this[0],"data-highcharts-chart")])),i}},addAnimSetter:function(t,n){e.Tween?e.Tween.propHooks[t]={set:n}:e.fx.step[t]=n},getScript:e.getScript,inArray:e.inArray,adapterRun:function(t,n){return e(t)[n]()},grep:e.grep,map:function(e,t){for(var n=[],r=0,i=e.length;r<i;r++)n[r]=t.call(e[r],e[r],r,e);return n},offset:function(t){return e(t).offset()},addEvent:function(t,n,r){e(t).bind(n,r)},removeEvent:function(t,n,r){var i=D.removeEventListener?"removeEventListener":"detachEvent";D[i]&&t&&!t[i]&&(t[i]=function(){}),e(t).unbind(n,r)},fireEvent:function(t,n,r,i){var s=e.Event(n),o="detached"+n,u;!J&&r&&(delete r.layerX,delete r.layerY,delete r.returnValue),It(s,r),t[n]&&(t[o]=t[n],t[n]=null),e.each(["preventDefault","stopPropagation"],function(e,t){var n=s[t];s[t]=function(){try{n.call(s)}catch(e){t==="preventDefault"&&(u=!0)}}}),e(t).trigger(s),t[o]&&(t[n]=t[o],t[o]=null),i&&!s.isDefaultPrevented()&&!u&&i(s)},washMouseEvent:function(e){var t=e.originalEvent||e;return t.pageX===_&&(t.pageX=e.pageX,t.pageY=e.pageY),t},animate:function(t,n,r){var i=e(t);t.style||(t.style={}),n.d&&(t.toD=n.d,n.d=1),i.stop(),n.opacity!==_&&t.attr&&(n.opacity+="px"),t.hasAnim=1,i.animate(n,r)},stop:function(t){t.hasAnim&&e(t).stop()}}}(P.jQuery);var Ut=P.HighchartsAdapter,zt=Ut||{};Ut&&Ut.init.call(Ut,lt);var Wt=zt.adapterRun,Xt=zt.getScript,Vt=zt.inArray,$t=Ft.each=zt.each,Jt=zt.grep,Kt=zt.offset,Qt=zt.map,Gt=zt.addEvent,Yt=zt.removeEvent,Zt=zt.fireEvent,en=zt.washMouseEvent,tn=zt.animate,nn=zt.stop;at={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#2b908f,#f45b5b,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/4.1.8/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.1.8/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return this.y===null?"":Ft.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:et,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}"></span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:Y?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var rn=at.plotOptions,Ut=rn.line;L();var sn=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,on=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,un=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,an=function(n){var r=[],i,o;return function(e){e&&e.stops?o=Qt(e.stops,function(e){return an(e[1])}):(i=sn.exec(e))?r=[t(i[1]),t(i[2]),t(i[3]),parseFloat(i[4],10)]:(i=on.exec(e))?r=[t(i[1],16),t(i[2],16),t(i[3],16),1]:(i=un.exec(e))&&(r=[t(i[1]),t(i[2]),t(i[3]),1])}(n),{get:function(t){var i;return o?(i=e(n),i.stops=[].concat(i.stops),$t(o,function(e,n){i.stops[n]=[i.stops[n][0],e.get(t)]})):i=r&&!isNaN(r[0])?t==="rgb"?"rgb("+r[0]+","+r[1]+","+r[2]+")":t==="a"?r[3]:"rgba("+r.join(",")+")":n,i},brighten:function(e){if(o)$t(o,function(t){t.brighten(e)});else if(s(e)&&e!==0){var n;for(n=0;n<3;n++)r[n]+=t(e*255),r[n]<0&&(r[n]=0),r[n]>255&&(r[n]=255)}return this},rgba:r,setOpacity:function(e){return r[3]=e,this},raw:n}};A.prototype={opacity:1,textProps:"fontSize,fontWeight,fontFamily,fontStyle,color,lineHeight,width,textDecoration,textOverflow,textShadow".split(","),init:function(e,t){this.element=t==="span"?p(t):D.createElementNS(Z,t),this.renderer=e},animate:function(t,n,r){return n=qt(n,this.renderer.globalAnimation,!0),nn(this),n?(n=e(n,{}),r&&(n.complete=r),tn(this,t,n)):this.attr(t,null,r),this},colorGradient:function(t,n,r){var s=this.renderer,o,u,a,l,c,h,p,d,v,m,g=[];t.linearGradient?u="linearGradient":t.radialGradient&&(u="radialGradient");if(u){a=t[u],l=s.gradients,h=t.stops,v=r.radialReference,i(a)&&(t[u]=a={x1:a[0],y1:a[1],x2:a[2],y2:a[3],gradientUnits:"userSpaceOnUse"}),u==="radialGradient"&&v&&!f(a.gradientUnits)&&(a=e(a,{cx:v[0]-v[2]/2+a.cx*v[2],cy:v[1]-v[2]/2+a.cy*v[2],r:a.r*v[2],gradientUnits:"userSpaceOnUse"}));for(m in a)m!=="id"&&g.push(m,a[m]);for(m in h)g.push(h[m]);g=g.join(","),l[g]?t=l[g].attr("id"):(a.id=t="highcharts-"+ot++,l[g]=c=s.createElement(u).attr(a).add(s.defs),c.stops=[],$t(h,function(e){e[1].indexOf("rgba")===0?(o=an(e[1]),p=o.get("rgb"),d=o.get("a")):(p=e[1],d=1),e=s.createElement("stop").attr({offset:e[0],"stop-color":p,"stop-opacity":d}).add(c),c.stops.push(e)})),r.setAttribute(n,"url("+s.url+"#"+t+")")}},applyTextShadow:function(e){var n=this.element,r,i=e.indexOf("contrast")!==-1,s={},o=this.renderer.forExport||n.style.textShadow!==_&&!J;i&&(s.textShadow=e=e.replace(/contrast/g,this.renderer.getContrast(n.style.fill))),Q&&(s.textRendering="geometricPrecision"),o?h(n,s):(this.fakeTS=!0,this.ySetter=this.xSetter,r=[].slice.call(n.getElementsByTagName("tspan")),$t(e.split(/\s?,\s?/g),function(e){var i=n.firstChild,s,o,e=e.split(" ");s=e[e.length-1],(o=e[e.length-2])&&$t(r,function(e,r){var u;r===0&&(e.setAttribute("x",n.getAttribute("x")),r=n.getAttribute("y"),e.setAttribute("y",r||0),r===null&&n.setAttribute("y",0)),u=e.cloneNode(1),l(u,{"class":"highcharts-text-shadow",fill:s,stroke:s,"stroke-opacity":1/I(t(o),3),"stroke-width":o,"stroke-linejoin":"round"}),n.insertBefore(u,i)})}))},attr:function(e,t,n){var r,i=this.element,s,o=this,u;typeof e=="string"&&t!==_&&(r=e,e={},e[r]=t);if(typeof e=="string")o=(this[e+"Getter"]||this._defaultGetter).call(this,e,i);else{for(r in e)t=e[r],u=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(r)&&(s||(this.symbolAttr(e),s=!0),u=!0),this.rotation&&(r==="x"||r==="y")&&(this.doTransform=!0),u||(this[r+"Setter"]||this._defaultSetter).call(this,t,r,i),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(r)&&this.updateShadows(r,t);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return n&&n(),o},updateShadows:function(e,t){for(var n=this.shadows,r=n.length;r--;)n[r].setAttribute(e,e==="height"?I(t-(n[r].cutHeight||0),0):e==="d"?this.d:t)},addClass:function(e){var t=this.element,n=l(t,"class")||"";return n.indexOf(e)===-1&&l(t,"class",n+" "+e),this},symbolAttr:function(e){var t=this;$t("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(n){t[n]=qt(e[n],t[n])}),t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":mt)},crisp:function(e){var t,n={},r,i=e.strokeWidth||this.strokeWidth||0;r=B(i)%2/2,e.x=j(e.x||this.x||0)+r,e.y=j(e.y||this.y||0)+r,e.width=j((e.width||this.width||0)-2*r),e.height=j((e.height||this.height||0)-2*r),e.strokeWidth=i;for(t in e)this[t]!==e[t]&&(this[t]=n[t]=e[t]);return n},css:function(e){var n=this.styles,r={},i=this.element,s,o,u="";s=!n,e&&e.color&&(e.fill=e.color);if(n)for(o in e)e[o]!==n[o]&&(r[o]=e[o],s=!0);if(s){s=this.textWidth=e&&e.width&&i.nodeName.toLowerCase()==="text"&&t(e.width)||this.textWidth,n&&(e=It(n,r)),this.styles=e,s&&(nt||!et&&this.renderer.forExport)&&delete e.width;if(J&&!et)h(this.element,e);else{n=function(e,t){return"-"+t.toLowerCase()};for(o in e)u+=o.replace(/([A-Z])/g,n)+":"+e[o]+";";l(i,"style",u)}s&&this.added&&this.renderer.buildText(this)}return this},on:function(e,t){var n=this,r=n.element;return it&&e==="click"?(r.ontouchstart=function(e){n.touchEventFired=wt.now(),e.preventDefault(),t.call(r,e)},r.onclick=function(e){(V.indexOf("Android")===-1||wt.now()-(n.touchEventFired||0)>1100)&&t.call(r,e)}):r["on"+e]=t,this},setRadialReference:function(e){return this.element.radialReference=e,this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(){return this.inverted=!0,this.updateTransform(),this},updateTransform:function(){var e=this.translateX||0,t=this.translateY||0,n=this.scaleX,r=this.scaleY,i=this.inverted,s=this.rotation,o=this.element;i&&(e+=this.attr("width"),t+=this.attr("height")),e=["translate("+e+","+t+")"],i?e.push("rotate(90) scale(-1,1)"):s&&e.push("rotate("+s+" "+(o.getAttribute("x")||0)+" "+(o.getAttribute("y")||0)+")"),(f(n)||f(r))&&e.push("scale("+qt(n,1)+" "+qt(r,1)+")"),e.length&&o.setAttribute("transform",e.join(" "))},toFront:function(){var e=this.element;return e.parentNode.appendChild(e),this},align:function(e,t,r){var i,s,o,u,f={};s=this.renderer,o=s.alignedObjects;if(e){if(this.alignOptions=e,this.alignByTranslate=t,!r||n(r))this.alignTo=i=r||"renderer",a(o,this),o.push(this),r=null}else e=this.alignOptions,t=this.alignByTranslate,i=this.alignTo;r=qt(r,s[i],s),i=e.align,s=e.verticalAlign,o=(r.x||0)+(e.x||0),u=(r.y||0)+(e.y||0);if(i==="right"||i==="center")o+=(r.width-(e.width||0))/{right:1,center:2}[i];f[t?"translateX":"x"]=B(o);if(s==="bottom"||s==="middle")u+=(r.height-(e.height||0))/({bottom:1,middle:2}[s]||1);return f[t?"translateY":"y"]=B(u),this[this.placed?"animate":"attr"](f),this.placed=!0,this.alignAttr=f,this},getBBox:function(e){var t,n=this.renderer,r,i=this.rotation,s=this.element,o=this.styles,u=i*X;r=this.textStr;var a,f=s.style,l,c;r!==_&&(c=["",i||0,o&&o.fontSize,s.style.width].join(","),c=r===""||gt.test(r)?"num:"+r.toString().length+c:r+c),c&&!e&&(t=n.cache[c]);if(!t){if(s.namespaceURI===Z||n.forExport){try{l=this.fakeTS&&function(e){$t(s.querySelectorAll(".highcharts-text-shadow"),function(t){t.style.display=e})},G&&f.textShadow?(a=f.textShadow,f.textShadow=""):l&&l(mt),t=s.getBBox?It({},s.getBBox()):{width:s.offsetWidth,height:s.offsetHeight},a?f.textShadow=a:l&&l("")}catch(h){}if(!t||t.width<0)t={width:0,height:0}}else t=this.htmlGetBBox();n.isSVG&&(e=t.width,r=t.height,J&&o&&o.fontSize==="11px"&&r.toPrecision(3)==="16.9"&&(t.height=r=14),i&&(t.width=R(r*z(u))+R(e*U(u)),t.height=R(r*U(u))+R(e*z(u)))),c&&(n.cache[c]=t)}return t},show:function(e){return this.attr({visibility:e?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(e){var t=this;t.animate({opacity:0},{duration:e||150,complete:function(){t.attr({y:-9999})}})},add:function(e){var t=this.renderer,n=this.element,r;e&&(this.parentGroup=e),this.parentInverted=e&&e.inverted,this.textStr!==void 0&&t.buildText(this),this.added=!0;if(!e||e.handleZ||this.zIndex)r=this.zIndexSetter();return r||(e?e.element:t.box).appendChild(n),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e=this,t=e.element||{},n=e.shadows,r=e.renderer.isSVG&&t.nodeName==="SPAN"&&e.parentGroup,i,s;t.onclick=t.onmouseout=t.onmouseover=t.onmousemove=t.point=null,nn(e),e.clipPath&&(e.clipPath=e.clipPath.destroy());if(e.stops){for(s=0;s<e.stops.length;s++)e.stops[s]=e.stops[s].destroy();e.stops=null}e.safeRemoveChild(t);for(n&&$t(n,function(t){e.safeRemoveChild(t)});r&&r.div&&r.div.childNodes.length===0;)t=r.parentGroup,e.safeRemoveChild(r.div),delete r.div,r=t;e.alignTo&&a(e.renderer.alignedObjects,e);for(i in e)delete e[i];return null},shadow:function(e,t,n){var r=[],i,s,o=this.element,u,a,f,c;if(e){a=qt(e.width,3),f=(e.opacity||.15)/a,c=this.parentInverted?"(-1,-1)":"("+qt(e.offsetX,1)+", "+qt(e.offsetY,1)+")";for(i=1;i<=a;i++)s=o.cloneNode(0),u=a*2+1-2*i,l(s,{isShadow:"true",stroke:e.color||"black","stroke-opacity":f*i,"stroke-width":u,transform:"translate"+c,fill:mt}),n&&(l(s,"height",I(l(s,"height")-u,0)),s.cutHeight=u),t?t.element.appendChild(s):o.parentNode.insertBefore(s,o),r.push(s);this.shadows=r}return this},xGetter:function(e){return this.element.nodeName==="circle"&&(e={x:"cx",y:"cy"}[e]||e),this._defaultGetter(e)},_defaultGetter:function(e){return e=qt(this[e],this.element?this.element.getAttribute(e):null,0),/^[\-0-9\.]+$/.test(e)&&(e=parseFloat(e)),e},dSetter:function(e,t,n){e&&e.join&&(e=e.join(" ")),/(NaN| {2}|^$)/.test(e)&&(e="M 0 0"),n.setAttribute(t,e),this[t]=e},dashstyleSetter:function(e){var n;if(e=e&&e.toLowerCase()){e=e.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(n=e.length;n--;)e[n]=t(e[n])*this["stroke-width"];e=e.join(",").replace("NaN","none"),this.element.setAttribute("stroke-dasharray",e)}},alignSetter:function(e){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[e])},opacitySetter:function(e,t,n){this[t]=e,n.setAttribute(t,e)},titleSetter:function(e){var t=this.element.getElementsByTagName("title")[0];t||(t=D.createElementNS(Z,"title"),this.element.appendChild(t)),t.appendChild(D.createTextNode(String(qt(e),"").replace(/<[^>]*>/g,"")))},textSetter:function(e){e!==this.textStr&&(delete this.bBox,this.textStr=e,this.added&&this.renderer.buildText(this))},fillSetter:function(e,t,n){typeof e=="string"?n.setAttribute(t,e):e&&this.colorGradient(e,t,n)},visibilitySetter:function(e,t,n){e==="inherit"?n.removeAttribute(t):n.setAttribute(t,e)},zIndexSetter:function(e,n){var r=this.renderer,i=this.parentGroup,r=(i||r).element||r.box,s,o,u=this.element,a;s=this.added;var c;f(e)&&(u.setAttribute(n,e),e=+e,this[n]===e&&(s=!1),this[n]=e);if(s){(e=this.zIndex)&&i&&(i.handleZ=!0),i=r.childNodes;for(c=0;c<i.length&&!a;c++)if(s=i[c],o=l(s,"zIndex"),s!==u&&(t(o)>e||!f(e)&&f(o)))r.insertBefore(u,s),a=!0;a||r.appendChild(u)}return a},_defaultSetter:function(e,t,n){n.setAttribute(t,e)}},A.prototype.yGetter=A.prototype.xGetter,A.prototype.translateXSetter=A.prototype.translateYSetter=A.prototype.rotationSetter=A.prototype.verticalAlignSetter=A.prototype.scaleXSetter=A.prototype.scaleYSetter=function(e,t){this[t]=e,this.doTransform=!0},A.prototype["stroke-widthSetter"]=A.prototype.strokeSetter=function(e,t,n){this[t]=e,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],A.prototype.fillSetter.call(this,this.stroke
,"stroke",n),n.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):t==="stroke-width"&&e===0&&this.hasStroke&&(n.removeAttribute("stroke"),this.hasStroke=!1)};var fn=function(){this.init.apply(this,arguments)};fn.prototype={Element:A,init:function(e,t,n,r,i){var s=location,o,r=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(r));o=r.element,e.appendChild(o),e.innerHTML.indexOf("xmlns")===-1&&l(o,"xmlns",Z),this.isSVG=!0,this.box=o,this.boxWrapper=r,this.alignedObjects=[],this.url=(G||Q)&&D.getElementsByTagName("base").length?s.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(D.createTextNode("Created with Highcharts 4.1.8")),this.defs=this.createElement("defs").add(),this.forExport=i,this.gradients={},this.cache={},this.setSize(t,n,!1);var u;G&&e.getBoundingClientRect&&(this.subPixelFix=t=function(){h(e,{left:0,top:0}),u=e.getBoundingClientRect(),h(e,{left:F(u.left)-u.left+"px",top:F(u.top)-u.top+"px"})},t(),Gt(P,"resize",t))},getStyle:function(e){return this.style=It({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},e)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),x(this.gradients||{}),this.gradients=null,e&&(this.defs=e.destroy()),this.subPixelFix&&Yt(P,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(e){var t=new this.Element;return t.init(this,e),t},draw:function(){},buildText:function(e){for(var n=e.element,r=this,i=r.forExport,s=qt(e.textStr,"").toString(),o=s.indexOf("<")!==-1,u=n.childNodes,a,f,c=l(n,"x"),p=e.styles,d=e.textWidth,v=p&&p.lineHeight,m=p&&p.textShadow,g=p&&p.textOverflow==="ellipsis",y=u.length,b=d&&!e.added&&this.box,w=function(e){return v?t(v):r.fontMetrics(/(px|em)$/.test(e&&e.style.fontSize)?e.style.fontSize:p&&p.fontSize||r.style.fontSize||12,e).h},E=function(e){return e.replace(/&lt;/g,"<").replace(/&gt;/g,">")};y--;)n.removeChild(u[y]);!o&&!m&&!g&&s.indexOf(" ")===-1?n.appendChild(D.createTextNode(E(s))):(a=/<.*style="([^"]+)".*>/,f=/<.*href="(http[^"]+)".*>/,b&&b.appendChild(n),s=o?s.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[s],s[s.length-1]===""&&s.pop(),$t(s,function(t,s){var o,u=0,t=t.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");o=t.split("|||"),$t(o,function(t){if(t!==""||o.length===1){var v={},m=D.createElementNS(Z,"tspan"),y;a.test(t)&&(y=t.match(a)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),l(m,"style",y)),f.test(t)&&!i&&(l(m,"onclick",'location.href="'+t.match(f)[1]+'"'),h(m,{cursor:"pointer"})),t=E(t.replace(/<(.|\n)*?>/g,"")||" ");if(t!==" "){m.appendChild(D.createTextNode(t)),u?v.dx=0:s&&c!==null&&(v.x=c),l(m,v),n.appendChild(m),!u&&s&&(!et&&i&&h(m,{display:"block"}),l(m,"dy",w(m)));if(d){for(var v=t.replace(/([^\^])-/g,"$1- ").split(" "),b=o.length>1||s||v.length>1&&p.whiteSpace!=="nowrap",S,x,T,N=[],C=w(m),k=1,L=e.rotation,A=t,O=A.length;(b||g)&&(v.length||N.length);)e.rotation=0,S=e.getBBox(!0),T=S.width,!et&&r.forExport&&(T=r.measureSpanWidth(m.firstChild.data,e.styles)),S=T>d,x===void 0&&(x=S),g&&x?(O/=2,A===""||!S&&O<.5?v=[]:(S&&(x=!0),A=t.substring(0,A.length+(S?-1:1)*F(O)),v=[A+(d>3?"":"")],m.removeChild(m.firstChild))):!S||v.length===1?(v=N,N=[],v.length&&(k++,m=D.createElementNS(Z,"tspan"),l(m,{dy:C,x:c}),y&&l(m,"style",y),n.appendChild(m)),T>d&&(d=T)):(m.removeChild(m.firstChild),N.unshift(v.pop())),v.length&&m.appendChild(D.createTextNode(v.join(" ").replace(/- /g,"-")));x&&e.attr("title",e.textStr),e.rotation=L}u++}}})}),b&&b.removeChild(n),m&&e.applyTextShadow&&e.applyTextShadow(m))},getContrast:function(e){return e=an(e).rgba,e[0]+e[1]+e[2]>384?"#000000":"#FFFFFF"},button:function(t,n,r,i,s,o,u,a,f){var l=this.label(t,n,r,f,null,null,null,null,"button"),c=0,h,p,d,v,m,g,t={x1:0,y1:0,x2:0,y2:1},s=e({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:t,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},s);return d=s.style,delete s.style,o=e(s,{stroke:"#68A",fill:{linearGradient:t,stops:[[0,"#FFF"],[1,"#ACF"]]}},o),v=o.style,delete o.style,u=e(s,{stroke:"#68A",fill:{linearGradient:t,stops:[[0,"#9BD"],[1,"#CDF"]]}},u),m=u.style,delete u.style,a=e(s,{style:{color:"#CCC"}},a),g=a.style,delete a.style,Gt(l.element,J?"mouseover":"mouseenter",function(){c!==3&&l.attr(o).css(v)}),Gt(l.element,J?"mouseout":"mouseleave",function(){c!==3&&(h=[s,o,u][c],p=[d,v,m][c],l.attr(h).css(p))}),l.setState=function(e){(l.state=c=e)?e===2?l.attr(u).css(m):e===3&&l.attr(a).css(g):l.attr(s).css(d)},l.on("click",function(e){c!==3&&i.call(l,e)}).attr(s).css(It({cursor:"default"},d))},crispLine:function(e,t){return e[1]===e[4]&&(e[1]=e[4]=B(e[1])-t%2/2),e[2]===e[5]&&(e[2]=e[5]=B(e[2])+t%2/2),e},path:function(e){var t={fill:mt};return i(e)?t.d=e:r(e)&&It(t,e),this.createElement("path").attr(t)},circle:function(e,t,n){return e=r(e)?e:{x:e,y:t,r:n},t=this.createElement("circle"),t.xSetter=function(e){this.element.setAttribute("cx",e)},t.ySetter=function(e){this.element.setAttribute("cy",e)},t.attr(e)},arc:function(e,t,n,i,s,o){return r(e)&&(t=e.y,n=e.r,i=e.innerR,s=e.start,o=e.end,e=e.x),e=this.symbol("arc",e||0,t||0,n||0,n||0,{innerR:i||0,start:s||0,end:o||0}),e.r=n,e},rect:function(e,t,n,i,s,o){var s=r(e)?e.r:s,u=this.createElement("rect"),e=r(e)?e:e===_?{}:{x:e,y:t,width:I(n,0),height:I(i,0)};return o!==_&&(e.strokeWidth=o,e=u.crisp(e)),s&&(e.r=s),u.rSetter=function(e){l(this.element,{rx:e,ry:e})},u.attr(e)},setSize:function(e,t,n){var r=this.alignedObjects,i=r.length;this.width=e,this.height=t;for(this.boxWrapper[qt(n,!0)?"animate":"attr"]({width:e,height:t});i--;)r[i].align()},g:function(e){var t=this.createElement("g");return f(e)?t.attr({"class":"highcharts-"+e}):t},image:function(e,t,n,r,i){var s={preserveAspectRatio:mt};return arguments.length>1&&It(s,{x:t,y:n,width:r,height:i}),s=this.createElement("image").attr(s),s.element.setAttributeNS?s.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):s.element.setAttribute("hc-svg-href",e),s},symbol:function(e,t,n,r,i,s){var o,u=this.symbols[e],u=u&&u(B(t),B(n),r,i,s),a=/^url\((.*?)\)$/,f,l;return u?(o=this.path(u),It(o,{symbolName:e,x:t,y:n,width:r,height:i}),s&&It(o,s)):a.test(e)&&(l=function(e,t){e.element&&(e.attr({width:t[0],height:t[1]}),e.alignByTranslate||e.translate(B((r-t[0])/2),B((i-t[1])/2)))},f=e.match(a)[1],e=st[f]||s&&s.width&&s.height&&[s.width,s.height],o=this.image(f).attr({x:t,y:n}),o.isImg=!0,e?l(o,e):(o.attr({width:0,height:0}),p("img",{onload:function(){l(o,st[f]=[this.width,this.height])},src:f}))),o},symbols:{circle:function(e,t,n,r){var i=.166*n;return["M",e+n/2,t,"C",e+n+i,t,e+n+i,t+r,e+n/2,t+r,"C",e-i,t+r,e-i,t,e+n/2,t,"Z"]},square:function(e,t,n,r){return["M",e,t,"L",e+n,t,e+n,t+r,e,t+r,"Z"]},triangle:function(e,t,n,r){return["M",e+n/2,t,"L",e+n,t+r,e,t+r,"Z"]},"triangle-down":function(e,t,n,r){return["M",e,t,"L",e+n,t,e+n/2,t+r,"Z"]},diamond:function(e,t,n,r){return["M",e+n/2,t,"L",e+n,t+r/2,e+n/2,t+r,e,t+r/2,"Z"]},arc:function(e,t,n,r,i){var s=i.start,n=i.r||n||r,o=i.end-.001,r=i.innerR,u=i.open,a=U(s),f=z(s),l=U(o),o=z(o),i=i.end-s<W?0:1;return["M",e+n*a,t+n*f,"A",n,n,0,i,1,e+n*l,t+n*o,u?"M":"L",e+r*l,t+r*o,"A",r,r,0,i,0,e+r*a,t+r*f,u?"":"Z"]},callout:function(e,t,n,r,i){var s=q(i&&i.r||0,n,r),o=s+6,u=i&&i.anchorX,i=i&&i.anchorY,a;return a=["M",e+s,t,"L",e+n-s,t,"C",e+n,t,e+n,t,e+n,t+s,"L",e+n,t+r-s,"C",e+n,t+r,e+n,t+r,e+n-s,t+r,"L",e+s,t+r,"C",e,t+r,e,t+r,e,t+r-s,"L",e,t+s,"C",e,t,e,t,e+s,t],u&&u>n&&i>t+o&&i<t+r-o?a.splice(13,3,"L",e+n,i-6,e+n+6,i,e+n,i+6,e+n,t+r-s):u&&u<0&&i>t+o&&i<t+r-o?a.splice(33,3,"L",e,i+6,e-6,i,e,i-6,e,t+s):i&&i>r&&u>e+o&&u<e+n-o?a.splice(23,3,"L",u+6,t+r,u,t+r+6,u-6,t+r,e+s,t+r):i&&i<0&&u>e+o&&u<e+n-o&&a.splice(3,3,"L",u-6,t,u,t-6,u+6,t,n-s,t),a}},clipRect:function(e,t,n,r){var i="highcharts-"+ot++,s=this.createElement("clipPath").attr({id:i}).add(this.defs),e=this.rect(e,t,n,r,0).add(s);return e.id=i,e.clipPath=s,e.count=0,e},text:function(e,t,n,r){var i=nt||!et&&this.forExport,s={};if(r&&!this.forExport)return this.html(e,t,n);s.x=Math.round(t||0),n&&(s.y=Math.round(n));if(e||e===0)s.text=e;return e=this.createElement("text").attr(s),i&&e.css({position:"absolute"}),r||(e.xSetter=function(e,t,n){var r=n.getElementsByTagName("tspan"),i,s=n.getAttribute(t),o;for(o=0;o<r.length;o++)i=r[o],i.getAttribute(t)===s&&i.setAttribute(t,e);n.setAttribute(t,e)}),e},fontMetrics:function(e,n){var r,i,e=e||this.style.fontSize;return n&&P.getComputedStyle&&(n=n.element||n,e=(r=P.getComputedStyle(n,""))&&r.fontSize),e=/px/.test(e)?t(e):/em/.test(e)?parseFloat(e)*12:12,r=e<24?e+3:B(e*1.2),i=B(r*.8),{h:r,b:i,f:e}},rotCorr:function(e,t,n){var r=e;return t&&n&&(r=I(r*U(t*X),4)),{x:-e/3*z(t*X),y:r}},label:function(t,n,r,i,s,o,u,a,l){function c(){var e,t;e=m.element.style,y=(S===void 0||x===void 0||v.styles.textAlign)&&f(m.textStr)&&m.getBBox(),v.width=(S||y.width||0)+2*w+E,v.height=(x||y.height||0)+2*w,L=w+d.fontMetrics(e&&e.fontSize,m).b,O&&(g||(e=B(-b*w)+C,t=(a?-L:0)+C,v.box=g=i?d.symbol(i,e,t,v.width,v.height,k):d.rect(e,t,v.width,v.height,0,k[bt]),g.isImg||g.attr("fill",mt),g.add(v)),g.isImg||g.attr(It({width:B(v.width),height:B(v.height)},k)),k=null)}function h(){var e=v.styles,e=e&&e.textAlign,t=E+w*(1-b),n;n=a?0:L,f(S)&&y&&(e==="center"||e==="right")&&(t+={center:.5,right:1}[e]*(S-y.width));if(t!==m.x||n!==m.y)m.attr("x",t),n!==_&&m.attr("y",n);m.x=t,m.y=n}function p(e,t){g?g.attr(e,t):k[e]=t}var d=this,v=d.g(l),m=d.text("",0,0,u).attr({zIndex:1}),g,y,b=0,w=3,E=0,S,x,T,N,C=0,k={},L,O;v.onAdd=function(){m.add(v),v.attr({text:t||t===0?t:"",x:n,y:r}),g&&f(s)&&v.attr({anchorX:s,anchorY:o})},v.widthSetter=function(e){S=e},v.heightSetter=function(e){x=e},v.paddingSetter=function(e){f(e)&&e!==w&&(w=v.padding=e,h())},v.paddingLeftSetter=function(e){f(e)&&e!==E&&(E=e,h())},v.alignSetter=function(e){b={left:0,center:.5,right:1}[e]},v.textSetter=function(e){e!==_&&m.textSetter(e),c(),h()},v["stroke-widthSetter"]=function(e,t){e&&(O=!0),C=e%2/2,p(t,e)},v.strokeSetter=v.fillSetter=v.rSetter=function(e,t){t==="fill"&&e&&(O=!0),p(t,e)},v.anchorXSetter=function(e,t){s=e,p(t,B(e)-C-T)},v.anchorYSetter=function(e,t){o=e,p(t,e-N)},v.xSetter=function(e){v.x=e,b&&(e-=b*((S||y.width)+w)),T=B(e),v.attr("translateX",T)},v.ySetter=function(e){N=v.y=B(e),v.attr("translateY",N)};var M=v.css;return It(v,{css:function(t){if(t){var n={},t=e(t);$t(v.textProps,function(e){t[e]!==_&&(n[e]=t[e],delete t[e])}),m.css(n)}return M.call(v,t)},getBBox:function(){return{width:y.width+2*w,height:y.height+2*w,x:y.x-w,y:y.y-w}},shadow:function(e){return g&&g.shadow(e),v},destroy:function(){Yt(v.element,"mouseenter"),Yt(v.element,"mouseleave"),m&&(m=m.destroy()),g&&(g=g.destroy()),A.prototype.destroy.call(v),v=d=c=h=p=null}})}},rt=fn,It(A.prototype,{htmlCss:function(e){var t=this.element;if(t=e&&t.tagName==="SPAN"&&e.width)delete e.width,this.textWidth=t,this.updateTransform();return e&&e.textOverflow==="ellipsis"&&(e.whiteSpace="nowrap",e.overflow="hidden"),this.styles=It(this.styles,e),h(this.element,e),this},htmlGetBBox:function(){var e=this.element;return e.nodeName==="text"&&(e.style.position="absolute"),{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var e=this.renderer,n=this.element,r=this.translateX||0,i=this.translateY||0,s=this.x||0,o=this.y||0,u=this.textAlign||"left",a={left:0,center:.5,right:1}[u],l=this.shadows,c=this.styles;h(n,{marginLeft:r,marginTop:i}),l&&$t(l,function(e){h(e,{marginLeft:r+1,marginTop:i+1})}),this.inverted&&$t(n.childNodes,function(t){e.invertChild(t,n)});if(n.tagName==="SPAN"){var p=this.rotation,d,v=t(this.textWidth),m=[p,u,n.innerHTML,this.textWidth,this.textAlign].join(",");m!==this.cTT&&(d=e.fontMetrics(n.style.fontSize).b,f(p)&&this.setSpanRotation(p,a,d),l=qt(this.elemWidth,n.offsetWidth),l>v&&/[ \-]/.test(n.textContent||n.innerText)&&(h(n,{width:v+"px",display:"block",whiteSpace:c&&c.whiteSpace||"normal"}),l=v),this.getSpanCorrection(l,d,a,p,u)),h(n,{left:s+(this.xCorr||0)+"px",top:o+(this.yCorr||0)+"px"}),Q&&(d=n.offsetHeight),this.cTT=m}}else this.alignOnAdd=!0},setSpanRotation:function(e,t,n){var r={},i=J?"-ms-transform":Q?"-webkit-transform":G?"MozTransform":$?"-o-transform":"";r[i]=r.transform="rotate("+e+"deg)",r[i+(G?"Origin":"-origin")]=r.transformOrigin=t*100+"% "+n+"px",h(this.element,r)},getSpanCorrection:function(e,t,n){this.xCorr=-e*n,this.yCorr=-t}}),It(fn.prototype,{html:function(e,t,n){var r=this.createElement("span"),i=r.element,s=r.renderer;return r.textSetter=function(e){e!==i.innerHTML&&delete this.bBox,i.innerHTML=this.textStr=e,r.htmlUpdateTransform()},r.xSetter=r.ySetter=r.alignSetter=r.rotationSetter=function(e,t){t==="align"&&(t="textAlign"),r[t]=e,r.htmlUpdateTransform()},r.attr({text:e,x:B(t),y:B(n)}).css({position:"absolute",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),i.style.whiteSpace="nowrap",r.css=r.htmlCss,s.isSVG&&(r.add=function(e){var t,n=s.box.parentNode,o=[];if(this.parentGroup=e){if(t=e.div,!t){for(;e;)o.push(e),e=e.parentGroup;$t(o.reverse(),function(e){var r,i=l(e.element,"class");i&&(i={className:i}),t=e.div=e.div||p(vt,i,{position:"absolute",left:(e.translateX||0)+"px",top:(e.translateY||0)+"px"},t||n),r=t.style,It(e,{translateXSetter:function(t,n){r.left=t+"px",e[n]=t,e.doTransform=!0},translateYSetter:function(t,n){r.top=t+"px",e[n]=t,e.doTransform=!0}}),Rt(e,"visibilitySetter",function(e,t,n,i){e.call(this,t,n,i),r[n]=t})})}}else t=n;return t.appendChild(i),r.added=!0,r.alignOnAdd&&r.htmlUpdateTransform(),r}),r}});if(!et&&!nt){zt={init:function(e,t){var n=["<",t,' filled="f" stroked="f"'],r=["position: ","absolute",";"],i=t===vt;(t==="shape"||i)&&r.push("left:0;top:0;width:1px;height:1px;"),r.push("visibility: ",i?"hidden":"visible"),n.push(' style="',r.join(""),'"/>'),t&&(n=i||t==="span"||t==="img"?n.join(""):e.prepVML(n),this.element=p(n)),this.renderer=e},add:function(e){var t=this.renderer,n=this.element,r=t.box,r=e?e.element||e:r;return e&&e.inverted&&t.invertChild(n,r),r.appendChild(n),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this},updateTransform:A.prototype.htmlUpdateTransform,setSpanRotation:function(){var e=this.rotation,t=U(e*X),n=z(e*X);h(this.element,{filter:e?["progid:DXImageTransform.Microsoft.Matrix(M11=",t,", M12=",-n,", M21=",n,", M22=",t,", sizingMethod='auto expand')"].join(""):mt})},getSpanCorrection:function(e,t,n,r,i){var s=r?U(r*X):1,o=r?z(r*X):0,u=qt(this.elemHeight,this.element.offsetHeight),a;this.xCorr=s<0&&-e,this.yCorr=o<0&&-u,a=s*o<0,this.xCorr+=o*t*(a?1-n:n),this.yCorr-=s*t*(r?a?n:1-n:1),i&&i!=="left"&&(this.xCorr-=e*n*(s<0?-1:1),r&&(this.yCorr-=u*n*(o<0?-1:1)),h(this.element,{textAlign:i}))},pathToVML:function(e){for(var t=e.length,n=[];t--;)if(s(e[t]))n[t]=B(e[t]*10)-5;else if(e[t]==="Z")n[t]="x";else if(n[t]=e[t],e.isArc&&(e[t]==="wa"||e[t]==="at"))n[t+5]===n[t+7]&&(n[t+7]+=e[t+7]>e[t+5]?1:-1),n[t+6]===n[t+8]&&(n[t+8]+=e[t+8]>e[t+6]?1:-1);return n.join(" ")||"x"},clip:function(e){var t=this,n;return e?(n=e.members,a(n,t),n.push(t),t.destroyClip=function(){a(n,t)},e=e.getCSS(t)):(t.destroyClip&&t.destroyClip(),e={clip:K?"inherit":"rect(auto)"}),t.css(e)},css:A.prototype.htmlCss,safeRemoveChild:function(e){e.parentNode&&T(e)},destroy:function(){return this.destroyClip&&this.destroyClip(),A.prototype.destroy.apply(this)},on:function(e,t){return this.element["on"+e]=function(){var e=P.event;e.target=e.srcElement,t(e)},this},cutOffPath:function(e,n){var r,e=e.split(/[ ,]/);r=e.length;if(r===9||r===11)e[r-4]=e[r-2]=t(e[r-2])-10*n;return e.join(" ")},shadow:function(e,n,r){var i=[],s,o=this.element,u=this.renderer,a,f=o.style,l,c=o.path,h,d,v,m;c&&typeof c.value!="string"&&(c="x"),d=c;if(e){v=qt(e.width,3),m=(e.opacity||.15)/v;for(s=1;s<=3;s++)h=v*2+1-2*s,r&&(d=this.cutOffPath(c.value,h+.5)),l=['<shape isShadow="true" strokeweight="',h,'" filled="false" path="',d,'" coordsize="10 10" style="',o.style.cssText,'" />'],a=p(u.prepVML(l),null,{left:t(f.left)+qt(e.offsetX,1),top:t(f.top)+qt(e.offsetY,1)}),r&&(a.cutOff=h+1),l=['<stroke color="',e.color||"black",'" opacity="',m*s,'"/>'],p(u.prepVML(l),null,null,a),n?n.element.appendChild(a):o.parentNode.insertBefore(a,o),i.push(a);this.shadows=i}return this},updateShadows:ht,setAttr:function(e,t){K?this.element[e]=t:this.element.setAttribute(e,t)},classSetter:function(e){this.element.className=e},dashstyleSetter:function(e,t,n){(n.getElementsByTagName("stroke")[0]||p(this.renderer.prepVML(["<stroke/>"]),null,null,n))[t]=e||"solid",this[t]=e},dSetter:function(e,t,n){var r=this.shadows,e=e||[];this.d=e.join&&e.join(" "),n.path=e=this.pathToVML(e);if(r)for(n=r.length;n--;)r[n].path=r[n].cutOff?this.cutOffPath(e,r[n].cutOff):e;this.setAttr(t,e)},fillSetter:function(e,t,n){var r=n.nodeName;r==="SPAN"?n.style.color=e:r!=="IMG"&&(n.filled=e!==mt,this.setAttr("fillcolor",this.renderer.color(e,n,t,this)))},opacitySetter:ht,rotationSetter:function(e,t,n){n=n.style,this[t]=n[t]=e,n.left=-B(z(e*X)+1)+"px",n.top=B(U(e*X))+"px"},strokeSetter:function(e,t,n){this.setAttr("strokecolor",this.renderer.color(e,n,t))},"stroke-widthSetter":function(e,t,n){n.stroked=!!e,this[t]=e,s(e)&&(e+="px"),this.setAttr("strokeweight",e)},titleSetter:function(e,t){this.setAttr(t,e)},visibilitySetter:function(e,t,n){e==="inherit"&&(e="visible"),this.shadows&&$t(this.shadows,function(n){n.style[t]=e}),n.nodeName==="DIV"&&(e=e==="hidden"?"-999em":0,K||(n.style[t]=e?"visible":"hidden"),t="top"),n.style[t]=e},xSetter:function(e,t,n){this[t]=e,t==="x"?t="left":t==="y"&&(t="top"),this.updateClipping?(this[t]=e,this.updateClipping()):n.style[t]=e},zIndexSetter:function(e,t,n){n.style[t]=e}},Ft.VMLElement=zt=d(A,zt),zt.prototype.ySetter=zt.prototype.widthSetter=zt.prototype.heightSetter=zt.prototype.xSetter;var ln={Element:zt,isIE8:V.indexOf("MSIE 8.0")>-1,init:function(e,t,n,r){var i;this.alignedObjects=[],r=this.createElement(vt).css(It(this.getStyle(r),{position:"relative"})),i=r.element,e.appendChild(r.element),this.isVML=!0,this.box=i,this.boxWrapper=r,this.cache={},this.setSize(t,n,!1);if(!D.namespaces.hcv){D.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{D.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(s){D.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,t,n,i){var s=this.createElement(),o=r(e);return It(s,{members:[],count:0,left:(o?e.x:e)+1,top:(o?e.y:t)+1,width:(o?e.width:n)-1,height:(o?e.height:i)-1,getCSS:function(e){var t=e.element,n=t.nodeName,e=e.inverted,r=this.top-(n==="shape"?t.offsetTop:0),i=this.left,t=i+this.width,s=r+this.height,r={clip:"rect("+B(e?i:r)+"px,"+B(e?s:t)+"px,"+B(e?t:s)+"px,"+B(e?r:i)+"px)"};return!e&&K&&n==="DIV"&&It(r,{width:t+"px",height:s+"px"}),r},updateClipping:function(){$t(s.members,function(e){e.element&&e.css(s.getCSS(e))})}})},color:function(e,t,n,r){var i=this,s,o=/^rgba/,u,a,f=mt;e&&e.linearGradient?a="gradient":e&&e.radialGradient&&(a="pattern");if(a){var l,c,h=e.linearGradient||e.radialGradient,d,v,m,g,y,b="",e=e.stops,w,E=[],S=function(){u=['<fill colors="'+E.join(",")+'" opacity="',m,'" o:opacity2="',v,'" type="',a,'" ',b,'focus="100%" method="any" />'],p(i.prepVML(u),null,null,t)};d=e[0],w=e[e.length-1],d[0]>0&&e.unshift([0,d[1]]),w[0]<1&&e.push([1,w[1]]),$t(e,function(e,t){o.test(e[1])?(s=an(e[1]),l=s.get("rgb"),c=s.get("a")):(l=e[1],c=1),E.push(e[0]*100+"% "+l),t?(m=c,g=l):(v=c,y=l)});if(n==="fill")if(a==="gradient")n=h.x1||h[0]||0,e=h.y1||h[1]||0,d=h.x2||h[2]||0,h=h.y2||h[3]||0,b='angle="'+(90-H.atan((h-e)/(d-n))*180/W)+'"',S();else{var f=h.r,x=f*2,T=f*2,N=h.cx,C=h.cy,k=t.radialReference,L,f=function(){k&&(L=r.getBBox(),N+=(k[0]-L.x)/L.width-.5,C+=(k[1]-L.y)/L.height-.5,x*=k[2]/L.width,T*=k[2]/L.height),b='src="'+at.global.VMLRadialGradientURL+'" size="'+x+","+T+'" origin="0.5,0.5" position="'+N+","+C+'" color2="'+y+'" ',S()};r.added?f():r.onAdd=f,f=g}else f=l}else o.test(e)&&t.tagName!=="IMG"?(s=an(e),u=["<",n,' opacity="',s.get("a"),'"/>'],p(this.prepVML(u),null,null,t),f=s.get("rgb")):(f=t.getElementsByTagName(n),f.length&&(f[0].opacity=1,f[0].type="solid"),f=e);return f},prepVML:function(e){var t=this.isIE8,e=e.join("");return t?(e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),e=e.indexOf('style="')===-1?e.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):e.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):e=e.replace("<","<hcv:"),e},text:fn.prototype.html,path:function(e){var t={coordsize:"10 10"};return i(e)?t.d=e:r(e)&&It(t,e),this.createElement("shape").attr(t)},circle:function(e,t,n){var i=this.symbol("circle");return r(e)&&(n=e.r,t=e.y,e=e.x),i.isCircle=!0,i.r=n,i.attr({x:e,y:t})},g:function(e){var t;return e&&(t={className:"highcharts-"+e,"class":"highcharts-"+e}),this.createElement(vt).attr(t)},image:function(e,t,n,r,i){var s=this.createElement("img").attr({src:e});return arguments.length>1&&s.attr({x:t,y:n,width:r,height:i}),s},createElement:function(e){return e==="rect"?this.symbol(e):fn.prototype.createElement.call(this,e)},invertChild:function(e,n){var r=this,i=n.style,s=e.tagName==="IMG"&&e.style;h(e,{flip:"x",left:t(i.width)-(s?t(s.top):1),top:t(i.height)-(s?t(s.left):1),rotation:-90}),$t(e.childNodes,function(t){r.invertChild(t,e)})},symbols:{arc:function(e,t,n,r,i){var s=i.start,o=i.end,u=i.r||n||r,n=i.innerR,r=U(s),a=z(s),f=U(o),l=z(o);return o-s===0?["x"]:(s=["wa",e-u,t-u,e+u,t+u,e+u*r,t+u*a,e+u*f,t+u*l],i.open&&!n&&s.push("e","M",e,t),s.push("at",e-n,t-n,e+n,t+n,e+n*f,t+n*l,e+n*r,t+n*a,"x","e"),s.isArc=!0,s)},circle:function(e,t,n,r,i){return i&&(n=r=2*i.r),i&&i.isCircle&&(e-=n/2,t-=r/2),["wa",e,t,e+n,t+r,e+n,t+r/2,e+n,t+r/2,"e"]},rect:function(e,t,n,r,i){return fn.prototype.symbols[!f(i)||!i.r?"square":"callout"].call(0,e,t,n,r,i)}}};Ft.VMLRenderer=zt=function(){this.init.apply(this,arguments)},zt.prototype=e(fn.prototype,ln),rt=zt}fn.prototype.measureSpanWidth=function(e,t){var n=D.createElement("span"),r;return r=D.createTextNode(e),n.appendChild(r),h(n,t),this.box.appendChild(n),r=n.offsetWidth,T(n),r};var cn;nt&&(Ft.CanVGRenderer=zt=function(){Z="http://www.w3.org/1999/xhtml"},zt.prototype.symbols={},cn=function(){function e(){var e=t.length,n;for(n=0;n<e;n++)t[n]();t=[]}var t=[];return{push:function(n,r){t.length===0&&Xt(r,e),t.push(n)}}}(),rt=zt),O.prototype={addLabel:function(){var t=this.axis,n=t.options,r=t.chart,i=t.categories,s=t.names,o=this.pos,a=n.labels,l=t.tickPositions,c=o===l[0],h=o===l[l.length-1],s=i?qt(i[o],s[o],o):o,i=this.label,l=l.info,p;t.isDatetimeAxis&&l&&(p=n.dateTimeLabelFormats[l.higherRanks[o]||l.unitName]),this.isFirst=c,this.isLast=h,n=t.labelFormatter.call({axis:t,chart:r,isFirst:c,isLast:h,dateTimeLabelFormat:p,value:t.isLog?C(u(s)):s}),f(i)?i&&i.attr({text:n}):(this.labelLength=(this.label=i=f(n)&&a.enabled?r.renderer.text(n,0,0,a.useHTML).css(e(a.style)).add(t.labelGroup):null)&&i.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(e){var t=this.axis,n=e.x,r=t.chart.chartWidth,i=t.chart.spacing,s=qt(t.labelLeft,q(t.pos,i[3])),i=qt(t.labelRight,I(t.pos+t.len,r-i[1])),o=this.label,u=this.rotation,a={left:0,center:.5,right:1}[t.labelAlign],f=o.getBBox().width,l=t.slotWidth,c=1,h,p={};if(u)u<0&&n-a*f<s?h=B(n/U(u*X)-s):u>0&&n+a*f>i&&(h=B((r-n)/U(u*X)));else if(r=n+(1-a)*f,n-a*f<s?l=e.x+l*(1-a)-s:r>i&&(l=i-e.x+l*a,c=-1),l=q(t.slotWidth,l),l<t.slotWidth&&t.labelAlign==="center"&&(e.x+=c*(t.slotWidth-l-a*(t.slotWidth-q(f,l)))),f>l||t.autoRotation&&o.styles.width)h=l;h&&(p.width=h,t.options.labels.style.textOverflow||(p.textOverflow="ellipsis"),o.css(p))},getPosition:function(e,t,n,r){var i=this.axis,s=i.chart,o=r&&s.oldChartHeight||s.chartHeight;return{x:e?i.translate(t+n,null,null,r)+i.transB:i.left+i.offset+(i.opposite?(r&&s.oldChartWidth||s.chartWidth)-i.right-i.left:0),y:e?o-i.bottom+i.offset-(i.opposite?i.height:0):o-i.translate(t+n,null,null,r)-i.transB}},getLabelPosition:function(e,t,n,r,i,s,o,u){var a=this.axis,f=a.transA,l=a.reversed,c=a.staggerLines,h=a.tickRotCorr||{x:0,y:0},n=qt(i.y,h.y+(a.side===2?8:-(n.getBBox().height/2))),e=e+i.x+h.x-(s&&r?s*f*(l?-1:1):0),t=t+n-(s&&!r?s*f*(l?1:-1):0);return c&&(t+=o/(u||1)%c*(a.labelOffset/c)),{x:e,y:B(t)}},getMarkPath:function(e,t,n,r,i,s){return s.crispLine(["M",e,t,"L",e+(i?0:-n),t+(i?n:0)],r)},render:function(e,t,n){var r=this.axis,i=r.options,s=r.chart.renderer,o=r.horiz,u=this.type,a=this.label,f=this.pos,l=i.labels,c=this.gridLine,h=u?u+"Grid":"grid",p=u?u+"Tick":"tick",d=i[h+"LineWidth"],v=i[h+"LineColor"],m=i[h+"LineDashStyle"],g=i[p+"Length"],h=qt(i[p+"Width"],!u&&r.isXAxis?1:0),y=i[p+"Color"],b=i[p+"Position"],p=this.mark,w=l.step,E=!0,S=r.tickmarkOffset,x=this.getPosition(o,f,S,t),T=x.x,x=x.y,N=o&&T===r.pos+r.len||!o&&x===r.pos?-1:1,n=qt(n,1);this.isActive=!0,d&&(f=r.getPlotLinePath(f+S,d*N,t,!0),c===_&&(c={stroke:v,"stroke-width":d},m&&(c.dashstyle=m),u||(c.zIndex=1),t&&(c.opacity=0),this.gridLine=c=d?s.path(f).attr(c).add(r.gridGroup):null),!t&&c&&f&&c[this.isNew?"attr":"animate"]({d:f,opacity:n})),h&&g&&(b==="inside"&&(g=-g),r.opposite&&(g=-g),u=this.getMarkPath(T,x,g,h*N,o,s),p?p.animate({d:u,opacity:n}):this.mark=s.path(u).attr({stroke:y,"stroke-width":h,opacity:n}).add(r.axisGroup)),a&&!isNaN(T)&&(a.xy=x=this.getLabelPosition(T,x,a,o,l,S,e,w),this.isFirst&&!this.isLast&&!qt(i.showFirstLabel,1)||this.isLast&&!this.isFirst&&!qt(i.showLastLabel,1)?E=!1:o&&!r.isRadial&&!l.step&&!l.rotation&&!t&&n!==0&&this.handleOverflow(x),w&&e%w&&(E=!1),E&&!isNaN(x.y)?(x.opacity=n,a[this.isNew?"attr":"animate"](x),this.isNew=!1):a.attr("y",-9999))},destroy:function(){x(this,this.axis)}},Ft.PlotLineOrBand=function(e,t){this.axis=e,t&&(this.options=t,this.id=t.id)},Ft.PlotLineOrBand.prototype={render:function(){var t=this,n=t.axis,r=n.horiz,i=t.options,s=i.label,u=t.label,a=i.width,l=i.to,c=i.from,h=f(c)&&f(l),p=i.value,d=i.dashStyle,v=t.svgElem,m=[],g,y=i.color,b=i.zIndex,w=i.events,x={},T=n.chart.renderer;n.isLog&&(c=o(c),l=o(l),p=o(p));if(a){if(m=n.getPlotLinePath(p,a),x={stroke:y,"stroke-width":a},d)x.dashstyle=d}else{if(!h)return;m=n.getPlotBandPath(c,l,i),y&&(x.fill=y),i.borderWidth&&(x.stroke=i.borderColor,x["stroke-width"]=i.borderWidth)}f(b)&&(x.zIndex=b);if(v){if(m)v.animate({d:m},null,v.onGetPath);else if(v.hide(),v.onGetPath=function(){v.show()},u)t.label=u=u.destroy()}else if(m&&m.length&&(t.svgElem=v=T.path(m).attr(x).add(),w))for(g in i=function(e){v.on(e,function(n){w[e].apply(t,[n])})},w)i(g);return s&&f(s.text)&&m&&m.length&&n.width>0&&n.height>0?(s=e({align:r&&h&&"center",x:r?!h&&4:10,verticalAlign:!r&&h&&"middle",y:r?h?16:10:h?6:-4,rotation:r&&!h&&90},s),u||(x={align:s.textAlign||s.align,rotation:s.rotation},f(b)&&(x.zIndex=b),t.label=u=T.text(s.text,0,0,s.useHTML).attr(x).css(s.style).add()),n=[m[1],m[4],h?m[6]:m[1]],h=[m[2],m[5],h?m[7]:m[2]],m=E(n),r=E(h),u.align(s,!1,{x:m,y:r,width:S(n)-m,height:S(h)-r}),u.show()):u&&u.hide(),t},destroy:function(){a(this.axis.plotLinesAndBands,this),delete this.axis,x(this)}};var hn=Ft.Axis=function(){this.init.apply(this,arguments)};hn.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#D8D8D8",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0,y:15},lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return Ft.numberFormat(this.total,-1)},style:e(rn.line.dataLabels.style,{color:"#000000"})}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0,y:-15},title:{rotation:0}},init:function(e,t){var n=t.isX;this.chart=e,this.horiz=e.inverted?!n:n,this.coll=(this.isXAxis=n)?"xAxis":"yAxis",this.opposite=t.opposite,this.side=t.side||(this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(t);var r=this.options,i=r.type;this.labelFormatter=r.labels.formatter||this.defaultLabelFormatter,this.userOptions=t,this.minPixelPadding=0,this.reversed=r.reversed,this.zoomEnabled=r.zoomEnabled!==!1,this.categories=r.categories||i==="category",this.names=this.names||[],this.isLog=i==="logarithmic",this.isDatetimeAxis=i==="datetime",this.isLinked=f(r.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=r.minRange||r.maxZoom,this.range=r.range,this.offset=r.offset||0,this.stacks={},this.oldStacks={},this.stacksTouched=0,this.min=this.max=null,this.crosshair=qt(r.crosshair,c(e.options.tooltip.crosshairs)[n?0:1],!1);var s,r=this.options.events;Vt(this,e.axes)===-1&&(n&&!this.isColorAxis?e.axes.splice(e.xAxis.length,0,this):e.axes.push(this),e[this.coll].push(this)),this.series=this.series||[],e.inverted&&n&&this.reversed===_&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(s in r)Gt(this,s,r[s]);this.isLog&&(this.val2lin=o,this.lin2val=u)},setOptions:function(t){this.options=e(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],e(at[this.coll],t))},defaultLabelFormatter:function(){var e=this.axis,t=this.value,n=e.categories,r=this.dateTimeLabelFormat,i=at.lang.numericSymbols,s=i&&i.length,o,u=e.options.labels.format,e=e.isLog?t:e.tickInterval;if(u)o=g(u,this);else if(n)o=t;else if(r)o=ft(r,t);else if(s&&e>=1e3)for(;s--&&o===_;)n=Math.pow(1e3,s+1),e>=n&&t*10%n===0&&i[s]!==null&&(o=Ft.numberFormat(t/n,-1)+i[s]);return o===_&&(o=R(t)>=1e4?Ft.numberFormat(t,-1):Ft.numberFormat(t,-1,_,"")),o},getSeriesExtremes:function(){var e=this,t=e.chart;e.hasVisibleSeries=!1,e.dataMin=e.dataMax=e.ignoreMinPadding=e.ignoreMaxPadding=null,e.buildStacks&&e.buildStacks(),$t(e.series,function(n){if(n.visible||!t.options.chart.ignoreHiddenSeries){var r;r=n.options.threshold;var i;e.hasVisibleSeries=!0,e.isLog&&r<=0&&(r=null);if(e.isXAxis){if(r=n.xData,r.length)e.dataMin=q(qt(e.dataMin,r[0]),E(r)),e.dataMax=I(qt(e.dataMax,r[0]),S(r))}else n.getExtremes(),i=n.dataMax,n=n.dataMin,f(n)&&f(i)&&(e.dataMin=q(qt(e.dataMin,n),n),e.dataMax=I(qt(e.dataMax,i),i)),f(r)&&(e.dataMin>=r?(e.dataMin=r,e.ignoreMinPadding=!0):e.dataMax<r&&(e.dataMax=r,e.ignoreMaxPadding=!0))}})},translate:function(e,t,n,r,i,o){var u=this.linkedParent||this,a=1,f=0,l=r?u.oldTransA:u.transA,r=r?u.oldMin:u.min,c=u.minPixelPadding,i=(u.doPostTranslate||u.isLog&&i)&&u.lin2val;return l||(l=u.transA),n&&(a*=-1,f=u.len),u.reversed&&(a*=-1,f-=a*(u.sector||u.len)),t?(e=e*a+f,e-=c,e=e/l+r,i&&(e=u.lin2val(e))):(i&&(e=u.val2lin(e)),o==="between"&&(o=.5),e=a*(e-r)*l+f+a*c+(s(o)?l*o*u.pointRange:0)),e},toPixels:function(e,t){return this.translate(e,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(e,t){return this.translate(e-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(e,t,n,r,i){var s=this.chart,o=this.left,u=this.top,a,f,l=n&&s.oldChartHeight||s.chartHeight,c=n&&s.oldChartWidth||s.chartWidth,h;a=this.transB;var p=function(e,t,n){if(e<t||e>n)r?e=q(I(t,e),n):h=!0;return e},i=qt(i,this.translate(e,null,null,n)),e=n=B(i+a);return a=f=B(l-i-a),isNaN(i)?h=!0:this.horiz?(a=u,f=l-this.bottom,e=n=p(e,o,o+this.width)):(e=o,n=c-this.right,a=f=p(a,u,u+this.height)),h&&!r?null:s.renderer.crispLine(["M",e,a,"L",n,f],t||1)},getLinearTickPositions:function(e,t,n){var r,i=C(j(t/e)*e),o=C(F(n/e)*
e),u=[];if(t===n&&s(t))return[t];for(t=i;t<=o;){u.push(t),t=C(t+e);if(t===r)break;r=t}return u},getMinorTickPositions:function(){var e=this.options,t=this.tickPositions,n=this.minorTickInterval,r=[],i,s=this.pointRangePadding||0;i=this.min-s;var s=this.max+s,o=s-i;if(o&&o/n<this.len/3)if(this.isLog){s=t.length;for(i=1;i<s;i++)r=r.concat(this.getLogTickPositions(n,t[i-1],t[i],!0))}else if(this.isDatetimeAxis&&e.minorTickInterval==="auto")r=r.concat(this.getTimeTicks(this.normalizeTimeTickInterval(n),i,s,e.startOfWeek));else for(t=i+(t[0]-i)%n;t<=s;t+=n)r.push(t);return r.length!==0&&this.trimTicks(r,e.startOnTick,e.endOnTick),r},adjustForMinRange:function(){var e=this.options,t=this.min,n=this.max,r,i=this.dataMax-this.dataMin>=this.minRange,s,o,u,a,l;this.isXAxis&&this.minRange===_&&!this.isLog&&(f(e.min)||f(e.max)?this.minRange=null:($t(this.series,function(e){a=e.xData;for(o=l=e.xIncrement?1:a.length-1;o>0;o--)if(u=a[o]-a[o-1],s===_||u<s)s=u}),this.minRange=q(s*5,this.dataMax-this.dataMin)));if(n-t<this.minRange){var c=this.minRange;r=(c-n+t)/2,r=[t-r,qt(e.min,t-r)],i&&(r[2]=this.dataMin),t=S(r),n=[t+c,qt(e.max,t+c)],i&&(n[2]=this.dataMax),n=E(n),n-t<c&&(r[0]=n-c,r[1]=qt(e.min,n-c),t=S(r))}this.min=t,this.max=n},setAxisTranslation:function(e){var t=this,r=t.max-t.min,i=t.axisPointRange||0,s,o=0,u=0,a=t.linkedParent,l=!!t.categories,c=t.transA,h=t.isXAxis;if(h||l||i)if(a?(o=a.minPointOffset,u=a.pointRangePadding):$t(t.series,function(e){var a=l?1:h?e.pointRange:t.axisPointRange||0,c=e.options.pointPlacement,p=e.closestPointRange;a>r&&(a=0),i=I(i,a),t.single||(o=I(o,n(c)?0:a/2),u=I(u,c==="on"?0:a)),!e.noSharedTooltip&&f(p)&&(s=f(s)?q(s,p):p)}),a=t.ordinalSlope&&s?t.ordinalSlope/s:1,t.minPointOffset=o*=a,t.pointRangePadding=u*=a,t.pointRange=q(i,r),h)t.closestPointRange=s;e&&(t.oldTransA=c),t.translationSlope=t.transA=c=t.len/(r+u||1),t.transB=t.horiz?t.left:t.bottom,t.minPixelPadding=c*o},minFromRange:function(){return this.max-this.range},setTickInterval:function(e){var t=this,n=t.chart,r=t.options,i=t.isLog,u=t.isDatetimeAxis,a=t.isXAxis,l=t.isLinked,c=r.maxPadding,h=r.minPadding,p=r.tickInterval,d=r.tickPixelInterval,v=t.categories;!u&&!v&&!l&&this.getTickAmount(),l?(t.linkedParent=n[t.coll][r.linkedTo],n=t.linkedParent.getExtremes(),t.min=qt(n.min,n.dataMin),t.max=qt(n.max,n.dataMax),r.type!==t.linkedParent.options.type&&N(11,1)):(t.min=qt(t.userMin,r.min,t.dataMin),t.max=qt(t.userMax,r.max,t.dataMax)),i&&(!e&&q(t.min,qt(t.dataMin,t.min))<=0&&N(10,1),t.min=C(o(t.min),15),t.max=C(o(t.max),15)),t.range&&f(t.max)&&(t.userMin=t.min=I(t.min,t.minFromRange()),t.userMax=t.max,t.range=null),t.beforePadding&&t.beforePadding(),t.adjustForMinRange(),!v&&!t.axisPointRange&&!t.usePercentage&&!l&&f(t.min)&&f(t.max)&&(n=t.max-t.min)&&(!f(r.min)&&!f(t.userMin)&&h&&(t.dataMin<0||!t.ignoreMinPadding)&&(t.min-=n*h),!f(r.max)&&!f(t.userMax)&&c&&(t.dataMax>0||!t.ignoreMaxPadding)&&(t.max+=n*c)),s(r.floor)&&(t.min=I(t.min,r.floor)),s(r.ceiling)&&(t.max=q(t.max,r.ceiling)),t.tickInterval=t.min===t.max||t.min===void 0||t.max===void 0?1:l&&!p&&d===t.linkedParent.options.tickPixelInterval?p=t.linkedParent.tickInterval:qt(p,this.tickAmount?(t.max-t.min)/I(this.tickAmount-1,1):void 0,v?1:(t.max-t.min)*d/I(t.len,d)),a&&!e&&$t(t.series,function(e){e.processData(t.min!==t.oldMin||t.max!==t.oldMax)}),t.setAxisTranslation(!0),t.beforeSetTickPositions&&t.beforeSetTickPositions(),t.postProcessTickInterval&&(t.tickInterval=t.postProcessTickInterval(t.tickInterval)),t.pointRange&&(t.tickInterval=I(t.pointRange,t.tickInterval)),e=qt(r.minTickInterval,t.isDatetimeAxis&&t.closestPointRange),!p&&t.tickInterval<e&&(t.tickInterval=e),!u&&!i&&!p&&(t.tickInterval=b(t.tickInterval,null,y(t.tickInterval),qt(r.allowDecimals,!(t.tickInterval>.5&&t.tickInterval<5&&t.max>1e3&&t.max<9999)),!!this.tickAmount)),!this.tickAmount&&this.len&&(t.tickInterval=t.unsquish()),this.setTickPositions()},setTickPositions:function(){var e=this.options,t,n=e.tickPositions,r=e.tickPositioner,i=e.startOnTick,s=e.endOnTick,o;this.tickmarkOffset=this.categories&&e.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.minorTickInterval=e.minorTickInterval==="auto"&&this.tickInterval?this.tickInterval/5:e.minorTickInterval,this.tickPositions=t=n&&n.slice(),!t&&(t=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,e.units),this.min,this.max,e.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),t.length>this.len&&(t=[t[0],t.pop()]),this.tickPositions=t,r&&(r=r.apply(this,[this.min,this.max])))&&(this.tickPositions=t=r),this.isLinked||(this.trimTicks(t,i,s),this.min===this.max&&f(this.min)&&!this.tickAmount&&(o=!0,this.min-=.5,this.max+=.5),this.single=o,!n&&!r&&this.adjustTickAmount())},trimTicks:function(e,t,n){var r=e[0],i=e[e.length-1],s=this.minPointOffset||0;t?this.min=r:this.min-s>r&&e.shift(),n?this.max=i:this.max+s<i&&e.pop(),e.length===0&&f(r)&&e.push((i+r)/2)},getTickAmount:function(){var e={},t,n=this.options,r=n.tickAmount,i=n.tickPixelInterval;!f(n.tickInterval)&&this.len<i&&!this.isRadial&&!this.isLog&&n.startOnTick&&n.endOnTick&&(r=2),!r&&this.chart.options.chart.alignTicks!==!1&&n.alignTicks!==!1&&($t(this.chart[this.coll],function(n){var r=n.options,i=n.horiz,r=[i?r.left:r.top,i?r.width:r.height,r.pane].join(",");e[r]?n.series.length&&(t=!0):e[r]=1}),t&&(r=F(this.len/i)+1)),r<4&&(this.finalTickAmt=r,r=5),this.tickAmount=r},adjustTickAmount:function(){var e=this.tickInterval,t=this.tickPositions,n=this.tickAmount,r=this.finalTickAmt,i=t&&t.length;if(i<n){for(;t.length<n;)t.push(C(t[t.length-1]+e));this.transA*=(i-1)/(n-1),this.max=t[t.length-1]}else i>n&&(this.tickInterval*=2,this.setTickPositions());if(f(r)){for(e=n=t.length;e--;)(r===3&&e%2===1||r<=2&&e>0&&e<n-1)&&t.splice(e,1);this.finalTickAmt=_}},setScale:function(){var e,t;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),t=this.len!==this.oldAxisLength,$t(this.series,function(t){if(t.isDirtyData||t.isDirty||t.xAxis.isDirty)e=!0});if(t||e||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,!this.isDirty)this.isDirty=t||this.min!==this.oldMin||this.max!==this.oldMax}else this.cleanStacks&&this.cleanStacks()},setExtremes:function(e,t,n,r,i){var s=this,o=s.chart,n=qt(n,!0);$t(s.series,function(e){delete e.kdTree}),i=It(i,{min:e,max:t}),Zt(s,"setExtremes",i,function(){s.userMin=e,s.userMax=t,s.eventArgs=i,n&&o.redraw(r)})},zoom:function(e,t){var n=this.dataMin,r=this.dataMax,i=this.options,s=q(n,qt(i.min,n)),i=I(r,qt(i.max,r));return this.allowZoomOutside||(f(n)&&e<=s&&(e=s),f(r)&&t>=i&&(t=i)),this.displayBtn=e!==_||t!==_,this.setExtremes(e,t,!1,_,{trigger:"zoom"}),!0},setAxisSize:function(){var e=this.chart,t=this.options,n=t.offsetLeft||0,r=this.horiz,i=qt(t.width,e.plotWidth-n+(t.offsetRight||0)),s=qt(t.height,e.plotHeight),o=qt(t.top,e.plotTop),t=qt(t.left,e.plotLeft+n),n=/%$/;n.test(s)&&(s=parseFloat(s)/100*e.plotHeight),n.test(o)&&(o=parseFloat(o)/100*e.plotHeight+e.plotTop),this.left=t,this.top=o,this.width=i,this.height=s,this.bottom=e.chartHeight-s-o,this.right=e.chartWidth-i-t,this.len=I(r?i:s,0),this.pos=r?t:o},getExtremes:function(){var e=this.isLog;return{min:e?C(u(this.min)):this.min,max:e?C(u(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(e){var t=this.isLog,n=t?u(this.min):this.min,t=t?u(this.max):this.max;return e===null?e=t<0?t:n:n>e?e=n:t<e&&(e=t),this.translate(e,0,1,0,1)},autoLabelAlign:function(e){return e=(qt(e,0)-this.side*90+720)%360,e>15&&e<165?"right":e>195&&e<345?"left":"center"},unsquish:function(){var e=this.ticks,t=this.options.labels,n=this.horiz,r=this.tickInterval,i=r,s=this.len/(((this.categories?1:0)+this.max-this.min)/r),o,u=t.rotation,a=this.chart.renderer.fontMetrics(t.style.fontSize,e[0]&&e[0].label),l,c=Number.MAX_VALUE,h,p=function(e){return e/=s||1,e=e>1?F(e):1,e*r};return n?(h=f(u)?[u]:s<qt(t.autoRotationLimit,80)&&!t.staggerLines&&!t.step&&t.autoRotation)&&$t(h,function(e){var t;if(e===u||e&&e>=-90&&e<=90)l=p(R(a.h/z(X*e))),t=l+R(e/360),t<c&&(c=t,o=e,i=l)}):t.step||(i=p(a.h)),this.autoRotation=h,this.labelRotation=o,i},renderUnsquish:function(){var t=this.chart,r=t.renderer,i=this.tickPositions,s=this.ticks,o=this.options.labels,u=this.horiz,a=t.margin,f=this.categories?i.length:i.length-1,l=this.slotWidth=u&&!o.step&&!o.rotation&&(this.staggerLines||1)*t.plotWidth/f||!u&&(a[3]&&a[3]-t.spacing[3]||t.chartWidth*.33),c=I(1,B(l-2*(o.padding||5))),h={},a=r.fontMetrics(o.style.fontSize,s[0]&&s[0].label),f=o.style.textOverflow,p,d=0;n(o.rotation)||(h.rotation=o.rotation||0);if(this.autoRotation)$t(i,function(e){(e=s[e])&&e.labelLength>d&&(d=e.labelLength)}),d>c&&d>a.h?h.rotation=this.labelRotation:this.labelRotation=0;else if(l&&(p={width:c+"px"},!f)){p.textOverflow="clip";for(l=i.length;!u&&l--;)if(c=i[l],c=s[c].label)if(c.styles.textOverflow==="ellipsis"&&c.css({textOverflow:"clip"}),c.getBBox().height>this.len/i.length-(a.h-a.f))c.specCss={textOverflow:"ellipsis"}}h.rotation&&(p={width:(d>t.chartHeight*.5?t.chartHeight*.33:t.chartHeight)+"px"},!f)&&(p.textOverflow="ellipsis"),this.labelAlign=h.align=o.align||this.autoLabelAlign(this.labelRotation),$t(i,function(t){var n=(t=s[t])&&t.label;n&&(p&&n.css(e(p,n.specCss)),delete n.specCss,n.attr(h),t.rotation=h.rotation)}),this.tickRotCorr=r.rotCorr(a.b,this.labelRotation||0,this.side===2)},hasData:function(){return this.hasVisibleSeries||f(this.min)&&f(this.max)&&!!this.tickPositions},getOffset:function(){var e=this,t=e.chart,n=t.renderer,r=e.options,i=e.tickPositions,s=e.ticks,o=e.horiz,u=e.side,a=t.inverted?[1,0,3,2][u]:u,l,c,h=0,p,d=0,v=r.title,m=r.labels,g=0,y=t.axisOffset,t=t.clipOffset,b=[-1,1,1,-1][u],w;l=e.hasData(),e.showAxis=c=l||qt(r.showEmpty,!0),e.staggerLines=e.horiz&&m.staggerLines,e.axisGroup||(e.gridGroup=n.g("grid").attr({zIndex:r.gridZIndex||1}).add(),e.axisGroup=n.g("axis").attr({zIndex:r.zIndex||2}).add(),e.labelGroup=n.g("axis-labels").attr({zIndex:m.zIndex||7}).addClass("highcharts-"+e.coll.toLowerCase()+"-labels").add());if(l||e.isLinked){if($t(i,function(t){s[t]?s[t].addLabel():s[t]=new O(e,t)}),e.renderUnsquish(),$t(i,function(t){if(u===0||u===2||{1:"left",3:"right"}[u]===e.labelAlign)g=I(s[t].getLabelSize(),g)}),e.staggerLines)g*=e.staggerLines,e.labelOffset=g}else for(w in s)s[w].destroy(),delete s[w];v&&v.text&&v.enabled!==!1&&(e.axisTitle||(e.axisTitle=n.text(v.text,0,0,v.useHTML).attr({zIndex:7,rotation:v.rotation||0,align:v.textAlign||{low:"left",middle:"center",high:"right"}[v.align]}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(v.style).add(e.axisGroup),e.axisTitle.isNew=!0),c&&(h=e.axisTitle.getBBox()[o?"height":"width"],p=v.offset,d=f(p)?0:qt(v.margin,o?5:10)),e.axisTitle[c?"show":"hide"]()),e.offset=b*qt(r.offset,y[u]),e.tickRotCorr=e.tickRotCorr||{x:0,y:0},n=u===2?e.tickRotCorr.y:0,o=g+d+(g&&b*(o?qt(m.y,e.tickRotCorr.y+8):m.x)-n),e.axisTitleMargin=qt(p,o),y[u]=I(y[u],e.axisTitleMargin+h+b*e.offset,o),r=r.offset?0:j(r.lineWidth/2)*2,t[a]=I(t[a],r)},getLinePath:function(e){var t=this.chart,n=this.opposite,r=this.offset,i=this.horiz,s=this.left+(n?this.width:0)+r,r=t.chartHeight-this.bottom-(n?this.height:0)+r;return n&&(e*=-1),t.renderer.crispLine(["M",i?this.left:s,i?r:this.top,"L",i?t.chartWidth-this.right:s,i?r:t.chartHeight-this.bottom],e)},getTitlePosition:function(){var e=this.horiz,n=this.left,r=this.top,i=this.len,s=this.options.title,o=e?n:r,u=this.opposite,a=this.offset,f=s.x||0,l=s.y||0,c=t(s.style.fontSize||12),i={low:o+(e?0:i),middle:o+i/2,high:o+(e?i:0)}[s.align],n=(e?r+this.height:n)+(e?1:-1)*(u?-1:1)*this.axisTitleMargin+(this.side===2?c:0);return{x:e?i+f:n+(u?this.width:0)+a+f,y:e?n+l-(u?this.height:0)+a:i+l}},render:function(){var e=this,t=e.chart,n=t.renderer,r=e.options,i=e.isLog,s=e.isLinked,o=e.tickPositions,a=e.axisTitle,l=e.ticks,c=e.minorTicks,h=e.alternateBands,p=r.stackLabels,d=r.alternateGridColor,v=e.tickmarkOffset,m=r.lineWidth,g,y=t.hasRendered&&f(e.oldMin)&&!isNaN(e.oldMin),b=e.showAxis,w=n.globalAnimation,E,S;e.labelEdge.length=0,e.overlap=!1,$t([l,c,h],function(e){for(var t in e)e[t].isActive=!1});if(e.hasData()||s)e.minorTickInterval&&!e.categories&&$t(e.getMinorTickPositions(),function(t){c[t]||(c[t]=new O(e,t,"minor")),y&&c[t].isNew&&c[t].render(null,!0),c[t].render(null,!1,1)}),o.length&&($t(o,function(t,n){if(!s||t>=e.min&&t<=e.max)l[t]||(l[t]=new O(e,t)),y&&l[t].isNew&&l[t].render(n,!0,.1),l[t].render(n)}),v&&(e.min===0||e.single))&&(l[-1]||(l[-1]=new O(e,-1,null,!0)),l[-1].render(-1)),d&&$t(o,function(t,n){n%2===0&&t<e.max&&(h[t]||(h[t]=new Ft.PlotLineOrBand(e)),E=t+v,S=o[n+1]!==_?o[n+1]+v:e.max,h[t].options={from:i?u(E):E,to:i?u(S):S,color:d},h[t].render(),h[t].isActive=!0)}),e._addedPlotLB||($t((r.plotLines||[]).concat(r.plotBands||[]),function(t){e.addPlotBandOrLine(t)}),e._addedPlotLB=!0);$t([l,c,h],function(e){var n,r,i=[],s=w?w.duration||500:0,o=function(){for(r=i.length;r--;)e[i[r]]&&!e[i[r]].isActive&&(e[i[r]].destroy(),delete e[i[r]])};for(n in e)e[n].isActive||(e[n].render(n,!1,0),e[n].isActive=!1,i.push(n));e===h||!t.hasRendered||!s?o():s&&setTimeout(o,s)}),m&&(g=e.getLinePath(m),e.axisLine?e.axisLine.animate({d:g}):e.axisLine=n.path(g).attr({stroke:r.lineColor,"stroke-width":m,zIndex:7}).add(e.axisGroup),e.axisLine[b?"show":"hide"]()),a&&b&&(a[a.isNew?"attr":"animate"](e.getTitlePosition()),a.isNew=!1),p&&p.enabled&&e.renderStackTotals(),e.isDirty=!1},redraw:function(){this.render(),$t(this.plotLinesAndBands,function(e){e.render()}),$t(this.series,function(e){e.isDirty=!0})},destroy:function(e){var t=this,n=t.stacks,r,i=t.plotLinesAndBands;e||Yt(t);for(r in n)x(n[r]),n[r]=null;$t([t.ticks,t.minorTicks,t.alternateBands],function(e){x(e)});for(e=i.length;e--;)i[e].destroy();$t("stackTotalGroup,axisLine,axisTitle,axisGroup,cross,gridGroup,labelGroup".split(","),function(e){t[e]&&(t[e]=t[e].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(e,t){var n,r=this.crosshair,i=r.animation;!this.crosshair||(f(t)||!qt(this.crosshair.snap,!0))===!1||t&&t.series&&t.series[this.coll]!==this?this.hideCrosshair():(qt(r.snap,!0)?f(t)&&(n=this.isXAxis?t.plotX:this.len-t.plotY):n=this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos,n=this.isRadial?this.getPlotLinePath(this.isXAxis?t.x:qt(t.stackY,t.y))||null:this.getPlotLinePath(null,null,null,null,n)||null,n===null)?this.hideCrosshair():this.cross?this.cross.attr({visibility:"visible"})[i?"animate":"attr"]({d:n},i):(i=this.categories&&!this.isRadial,i={"stroke-width":r.width||(i?this.transA:1),stroke:r.color||(i?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:r.zIndex||2},r.dashStyle&&(i.dashstyle=r.dashStyle),this.cross=this.chart.renderer.path(n).attr(i).add())},hideCrosshair:function(){this.cross&&this.cross.hide()}},It(hn.prototype,{getPlotBandPath:function(e,t){var n=this.getPlotLinePath(t,null,null,!0),r=this.getPlotLinePath(e,null,null,!0);return r&&n&&r.toString()!==n.toString()?r.push(n[4],n[5],n[1],n[2]):r=null,r},addPlotBand:function(e){return this.addPlotBandOrLine(e,"plotBands")},addPlotLine:function(e){return this.addPlotBandOrLine(e,"plotLines")},addPlotBandOrLine:function(e,t){var n=(new Ft.PlotLineOrBand(this,e)).render(),r=this.userOptions;return n&&(t&&(r[t]=r[t]||[],r[t].push(e)),this.plotLinesAndBands.push(n)),n},removePlotBandOrLine:function(e){for(var t=this.plotLinesAndBands,n=this.options,r=this.userOptions,i=t.length;i--;)t[i].id===e&&t[i].destroy();$t([n.plotLines||[],r.plotLines||[],n.plotBands||[],r.plotBands||[]],function(t){for(i=t.length;i--;)t[i].id===e&&a(t,t[i])})}}),hn.prototype.getTimeTicks=function(e,t,n,r){var i=[],s={},o=at.global.useUTC,u,a=new wt(t-m(t)),l=e.unitRange,c=e.count;if(f(t)){a[Ot](l>=ct.second?0:c*j(a.getMilliseconds()/c)),l>=ct.second&&a[Mt](l>=ct.minute?0:c*j(a.getSeconds()/c)),l>=ct.minute&&a[_t](l>=ct.hour?0:c*j(a[Tt]()/c)),l>=ct.hour&&a[Dt](l>=ct.day?0:c*j(a[Nt]()/c)),l>=ct.day&&a[Pt](l>=ct.month?1:c*j(a[kt]()/c)),l>=ct.month&&(a[Ht](l>=ct.year?0:c*j(a[Lt]()/c)),u=a[At]()),l>=ct.year&&(u-=u%c,a[Bt](u)),l===ct.week&&a[Pt](a[kt]()-a[Ct]()+qt(r,1)),t=1;if(St||xt)a=a.getTime(),a=new wt(a+m(a));u=a[At]();for(var r=a.getTime(),h=a[Lt](),p=a[kt](),d=(ct.day+(o?m(a):a.getTimezoneOffset()*6e4))%ct.day;r<n;)i.push(r),l===ct.year?r=Et(u+t*c,0):l===ct.month?r=Et(u,h+t*c):!!o||l!==ct.day&&l!==ct.week?r+=l*c:r=Et(u,h,p+t*c*(l===ct.day?1:7)),t++;i.push(r),$t(Jt(i,function(e){return l<=ct.hour&&e%ct.day===d}),function(e){s[e]="day"})}return i.info=It(e,{higherRanks:s,totalRange:l*c}),i},hn.prototype.normalizeTimeTickInterval=function(e,t){var n=t||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],r=n[n.length-1],i=ct[r[0]],s=r[1],o;for(o=0;o<n.length;o++)if(r=n[o],i=ct[r[0]],s=r[1],n[o+1]&&e<=(i*s[s.length-1]+ct[n[o+1][0]])/2)break;return i===ct.year&&e<5*i&&(s=[1,2,5]),n=b(e/i,s,r[0]==="year"?I(y(e/i),1):1),{unitRange:i,count:n,unitName:r[0]}},hn.prototype.getLogTickPositions=function(e,t,n,r){var i=this.options,s=this.len,a=[];r||(this._minorAutoInterval=null);if(e>=.5)e=B(e),a=this.getLinearTickPositions(e,t,n);else if(e>=.08)for(var s=j(t),f,l,c,h,p,i=e>.3?[1,2,4]:e>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];s<n+1&&!p;s++){l=i.length;for(f=0;f<l&&!p;f++)c=o(u(s)*i[f]),c>t&&(!r||h<=n)&&h!==_&&a.push(h),h>n&&(p=!0),h=c}else if(t=u(t),n=u(n),e=i[r?"minorTickInterval":"tickInterval"],e=qt(e==="auto"?null:e,this._minorAutoInterval,(n-t)*(i.tickPixelInterval/(r?5:1))/((r?s/this.tickPositions.length:s)||1)),e=b(e,null,y(e)),a=Qt(this.getLinearTickPositions(e,t,n),o),!r)this._minorAutoInterval=e/5;return r||(this.tickInterval=e),a};var pn=Ft.Tooltip=function(){this.init.apply(this,arguments)};pn.prototype={init:function(e,n){var r=n.borderWidth,i=n.style,s=t(i.padding);this.chart=e,this.options=n,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=e.renderer.label("",0,0,n.shape||"callout",null,null,n.useHTML,null,"tooltip").attr({padding:s,fill:n.backgroundColor,"stroke-width":r,r:n.borderRadius,zIndex:8}).css(i).css({padding:0}).add().attr({y:-9999}),nt||this.label.shadow(n.shadow),this.shared=n.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(e,t,n,r){var i=this,s=i.now,o=i.options.animation!==!1&&!i.isHidden&&(R(e-s.x)>1||R(t-s.y)>1),u=i.followPointer||i.len>1;It(s,{x:o?(2*s.x+e)/3:e,y:o?(s.y+t)/2:t,anchorX:u?_:o?(2*s.anchorX+n)/3:n,anchorY:u?_:o?(s.anchorY+r)/2:r}),i.label.attr(s),o&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){i&&i.move(e,t,n,r)},32))},hide:function(e){var t=this;clearTimeout(this.hideTimer),this.isHidden||(this.hideTimer=setTimeout(function(){t.label.fadeOut(),t.isHidden=!0},qt(e,this.options.hideDelay,500)))},getAnchor:function(e,t){var n,r=this.chart,i=r.inverted,s=r.plotTop,o=r.plotLeft,u=0,a=0,f,l,e=c(e);return n=e[0].tooltipPos,this.followPointer&&t&&(t.chartX===_&&(t=r.pointer.normalize(t)),n=[t.chartX-r.plotLeft,t.chartY-s]),n||($t(e,function(e){f=e.series.yAxis,l=e.series.xAxis,u+=e.plotX+(!i&&l?l.left-o:0),a+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!i&&f?f.top-s:0)}),u/=e.length,a/=e.length,n=[i?r.plotWidth-a:u,this.shared&&!i&&e.length>1&&t?t.chartY-s:i?r.plotHeight-u:a]),Qt(n,B)},getPosition:function(e,t,n){var r=this.chart,i=this.distance,s={},o=n.h||0,u,a=["y",r.chartHeight,t,n.plotY+r.plotTop,r.plotTop,r.plotTop+r.plotHeight],f=["x",r.chartWidth,e,n.plotX+r.plotLeft,r.plotLeft,r.plotLeft+r.plotWidth],l=qt(n.ttBelow,r.inverted&&!n.negative||!r.inverted&&n.negative),c=function(e,t,n,r,u,a){var f=n<r-i,c=r+i+n<t,h=r-i-n;r+=i;if(l&&c)s[e]=r;else if(!l&&f)s[e]=h;else if(f)s[e]=q(a-n,h-o<0?h:h-o);else{if(!c)return!1;s[e]=I(u,r+o+n>t?r:r+o)}},h=function(e,t,n,r){if(r<i||r>t-i)return!1;s[e]=r<n/2?1:r>t-n/2?t-n-2:r-n/2},p=function(e){var t=a;a=f,f=t,u=e},d=function(){c.apply(0,a)!==!1?h.apply(0,f)===!1&&!u&&(p(!0),d()):u?s.x=s.y=0:(p(!0),d())};return(r.inverted||this.len>1)&&p(),d(),s},defaultFormatter:function(e){var t=this.points||c(this),n;return n=[e.tooltipFooterHeaderFormatter(t[0])],n=n.concat(e.bodyFormatter(t)),n.push(e.tooltipFooterHeaderFormatter(t[0],!0)),n.join("")},refresh:function(e,t){var n=this.chart,r=this.label,i=this.options,s,o,u,a={},f,l=[];f=i.formatter||this.defaultFormatter;var a=n.hoverPoints,h,p=this.shared;clearTimeout(this.hideTimer),this.followPointer=c(e)[0].series.tooltipOptions.followPointer,u=this.getAnchor(e,t),s=u[0],o=u[1],p&&(!e.series||!e.series.noSharedTooltip)?(n.hoverPoints=e,a&&$t(a,function(e){e.setState()}),$t(e,function(e){e.setState("hover"),l.push(e.getLabelConfig())}),a={x:e[0].category,y:e[0].y},a.points=l,this.len=l.length,e=e[0]):a=e.getLabelConfig(),f=f.call(a,this),a=e.series,this.distance=qt(a.tooltipOptions.distance,16),f===!1?this.hide():(this.isHidden&&(nn(r),r.attr("opacity",1).show()),r.attr({text:f}),h=i.borderColor||e.color||a.color||"#606060",r.attr({stroke:h}),this.updatePosition({plotX:s,plotY:o,negative:e.negative,ttBelow:e.ttBelow,h:u[2]||0}),this.isHidden=!1),Zt(n,"tooltipRefresh",{text:f,x:s+n.plotLeft,y:o+n.plotTop,borderColor:h})},updatePosition:function(e){var t=this.chart,n=this.label,n=(this.options.positioner||this.getPosition).call(this,n.width,n.height,e);this.move(B(n.x),B(n.y||0),e.plotX+t.plotLeft,e.plotY+t.plotTop)},getXDateFormat:function(e,t,n){var r,t=t.dateTimeLabelFormats,i=n&&n.closestPointRange,s,o={millisecond:15,second:12,minute:9,hour:6,day:3},u,a="millisecond";if(i){u=ft("%m-%d %H:%M:%S.%L",e.x);for(s in ct){if(i===ct.week&&+ft("%w",e.x)===n.options.startOfWeek&&u.substr(6)==="00:00:00.000"){s="week";break}if(ct[s]>i){s=a;break}if(o[s]&&u.substr(o[s])!=="01-01 00:00:00.000".substr(o[s]))break;s!=="week"&&(a=s)}s&&(r=t[s])}else r=t.day;return r||t.year},tooltipFooterHeaderFormatter:function(e,t){var n=t?"footer":"header",r=e.series,i=r.tooltipOptions,o=i.xDateFormat,u=r.xAxis,a=u&&u.options.type==="datetime"&&s(e.key),n=i[n+"Format"];return a&&!o&&(o=this.getXDateFormat(e,i,u)),a&&o&&(n=n.replace("{point.key}","{point.key:"+o+"}")),g(n,{point:e,series:r})},bodyFormatter:function(e){return Qt(e,function(e){var t=e.series.tooltipOptions;return(t.pointFormatter||e.point.tooltipFormatter).call(e.point,t.pointFormat)})}};var dn;it=D.documentElement.ontouchstart!==_;var vn=Ft.Pointer=function(e,t){this.init(e,t)};vn.prototype={init:function(e,t){var n=t.chart,r=n.events,i=nt?"":n.zoomType,n=e.inverted,s;this.options=t,this.chart=e,this.zoomX=s=/x/.test(i),this.zoomY=i=/y/.test(i),this.zoomHor=s&&!n||i&&n,this.zoomVert=i&&!n||s&&n,this.hasZoom=s||i,this.runChartClick=r&&!!r.click,this.pinchDown=[],this.lastValidTouch={},Ft.Tooltip&&t.tooltip.enabled&&(e.tooltip=new pn(e,t.tooltip),this.followTouchMove=qt(t.tooltip.followTouchMove,!0)),this.setDOMEvents()},normalize:function(e,t){var n,r,e=e||window.event,e=en(e);return e.target||(e.target=e.srcElement),r=e.touches?e.touches.length?e.touches.item(0):e.changedTouches[0]:e,t||(this.chartPosition=t=Kt(this.chart.container)),r.pageX===_?(n=I(e.x,e.clientX-t.left),r=e.y):(n=r.pageX-t.left,r=r.pageY-t.top),It(e,{chartX:B(n),chartY:B(r)})},getCoordinates:function(e){var t={xAxis:[],yAxis:[]};return $t(this.chart.axes,function(n){t[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(e[n.horiz?"chartX":"chartY"])})}),t},runPointActions:function(e){var t=this.chart,n=t.series,r=t.tooltip,i=r?r.shared:!1,s=t.hoverPoint,o=t.hoverSeries,u,a=t.chartWidth,f,l,c=[],h,p;if(!i&&!o)for(u=0;u<n.length;u++)if(n[u].directTouch||!n[u].options.stickyTracking)n=[];!i&&o&&o.directTouch&&s?h=s:($t(n,function(t){f=t.noSharedTooltip&&i,l=!i&&t.directTouch,t.visible&&!f&&!l&&qt(t.options.enableMouseTracking,!0)&&(p=t.searchPoint(e,!f&&t.kdDimensions===1))&&c.push(p)}),$t(c,function(e){e&&typeof e.dist=="number"&&e.dist<a&&(a=e.dist,h=e)}));if(h&&(h!==this.prevKDPoint||r&&r.isHidden)){if(i&&!h.series.noSharedTooltip){for(u=c.length;u--;)(c[u].clientX!==h.clientX||c[u].series.noSharedTooltip)&&c.splice(u,1);c.length&&r&&r.refresh(c,e),$t(c,function(t){t.onMouseOver(e,t!==(o&&o.directTouch&&s||h))})}else(r&&r.refresh(h,e),!o||!o.directTouch)&&h.onMouseOver(e);this.prevKDPoint=h}else n=o&&o.tooltipOptions.followPointer,r&&n&&!r.isHidden&&(n=r.getAnchor([{}],e),r.updatePosition({plotX:n[0],plotY:n[1]}));r&&!this._onDocumentMouseMove&&(this._onDocumentMouseMove=function(e){pt[dn]&&pt[dn].pointer.onDocumentMouseMove(e)},Gt(D,"mousemove",this._onDocumentMouseMove)),$t(t.axes,function(t){t.drawCrosshair(e,qt(h,s))})},reset:function(e,t){var n=this.chart,r=n.hoverSeries,i=n.hoverPoint,s=n.hoverPoints,o=n.tooltip,u=o&&o.shared?s:i;(e=e&&o&&u)&&c(u)[0].plotX===_&&(e=!1),e?(o.refresh(u),i&&(i.setState(i.state,!0),$t(n.axes,function(e){qt(e.options.crosshair&&e.options.crosshair.snap,!0)?e.drawCrosshair(null,i):e.hideCrosshair()}))):(i&&i.onMouseOut(),s&&$t(s,function(e){e.setState()}),r&&r.onMouseOut(),o&&o.hide(t),this._onDocumentMouseMove&&(Yt(D,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null),$t(n.axes,function(e){e.hideCrosshair()}),this.hoverX=n.hoverPoints=n.hoverPoint=null)},scaleGroups:function(e,t){var n=this.chart,r;$t(n.series,function(i){r=e||i.getPlotBox(),i.xAxis&&i.xAxis.zoomEnabled&&(i.group.attr(r),i.markerGroup&&(i.markerGroup.attr(r),i.markerGroup.clip(t?n.clipRect:null)),i.dataLabelsGroup&&i.dataLabelsGroup.attr(r))}),n.clipRect.attr(t||n.clipBox)},dragStart:function(e){var t=this.chart;t.mouseIsDown=e.type,t.cancelClick=!1,t.mouseDownX=this.mouseDownX=e.chartX,t.mouseDownY=this.mouseDownY=e.chartY},drag:function(e){var t=this.chart,n=t.options.chart,r=e.chartX,i=e.chartY,s=this.zoomHor,o=this.zoomVert,u=t.plotLeft,a=t.plotTop,f=t.plotWidth,l=t.plotHeight,c,h=this.selectionMarker,p=this.mouseDownX,d=this.mouseDownY,v=n.panKey&&e[n.panKey+"Key"];if(!h||!h.touch)if(r<u?r=u:r>u+f&&(r=u+f),i<a?i=a:i>a+l&&(i=a+l),this.hasDragged=Math.sqrt(Math.pow(p-r,2)+Math.pow(d-i,2)),this.hasDragged>10)c=t.isInsidePlot(p-u,d-a),t.hasCartesianSeries&&(this.zoomX||this.zoomY)&&c&&!v&&!h&&(this.selectionMarker=h=t.renderer.rect(u,a,s?1:f,o?1:l,0).attr({fill:n.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),h&&s&&(r-=p,h.attr({width:R(r),x:(r>0?0:r)+p})),h&&o&&(r=i-d,h.attr({height:R(r),y:(r>0?0:r)+d})),c&&!h&&n.panning&&t.pan(e,n.panning)},drop:function(e){var t=this,n=this.chart,r=this.hasPinched;if(this.selectionMarker){var i={xAxis:[],yAxis:[],originalEvent:e.originalEvent||e},s=this.selectionMarker,o=s.attr?s.attr("x"):s.x,u=s.attr?s.attr("y"):s.y,a=s.attr?s.attr("width"):s.width,l=s.attr?s.attr("height"):s.height,c;if(this.hasDragged||r)$t(n.axes,function(n){if(n.zoomEnabled&&f(n.min)&&(r||t[{xAxis:"zoomX",yAxis:"zoomY"}[n.coll]])){var s=n.horiz,h=e.type==="touchend"?n.minPixelPadding:0,p=n.toValue((s?o:u)+h),s=n.toValue((s?o+a:u+l)-h);i[n.coll].push({axis:n,min:q(p,s),max:I(p,s)}),c=!0}}),c&&Zt(n,"selection",i,function(e){n.zoom(It(e,r?{animation:!1}:null))});this.selectionMarker=this.selectionMarker.destroy(),r&&this.scaleGroups()}n&&(h(n.container,{cursor:n._cursor}),n.cancelClick=this.hasDragged>10,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(e){e=this.normalize(e),e.preventDefault&&e.preventDefault(),this.dragStart(e)},onDocumentMouseUp:function(e){pt[dn]&&pt[dn].pointer.drop(e)},onDocumentMouseMove:function(e){var t=this.chart,n=this.chartPosition,e=this.normalize(e,n);n&&!this.inClass(e.target,"highcharts-tracker")&&!t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)&&this.reset()},onContainerMouseLeave:function(){var e=pt[dn];e&&(e.pointer.reset(),e.pointer.chartPosition=null)},onContainerMouseMove:function(e){var t=this.chart;dn=t.index,e=this.normalize(e),e.returnValue=!1,t.mouseIsDown==="mousedown"&&this.drag(e),(this.inClass(e.target,"highcharts-tracker")||t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop))&&!t.openMenu&&this.runPointActions(e)},inClass:function(e,t){for(var n;e;){if(n=l(e,"class")){if(n.indexOf(t)!==-1)return!0;if(n.indexOf("highcharts-container")!==-1)return!1}e=e.parentNode}},onTrackerMouseOut:function(e){var t=this.chart.hoverSeries,n=(e=e.relatedTarget||e.toElement)&&e.point&&e.point.series;t&&!t.options.stickyTracking&&!this.inClass(e,"highcharts-tooltip")&&n!==t&&t.onMouseOut()},onContainerClick:function(e){var t=this.chart,n=t.hoverPoint,r=t.plotLeft,i=t.plotTop,e=this.normalize(e);e.originalEvent=e,t.cancelClick||(n&&this.inClass(e.target,"highcharts-tracker")?(Zt(n.series,"click",It(e,{point:n})),t.hoverPoint&&n.firePointEvent("click",e)):(It(e,this.getCoordinates(e)),t.isInsidePlot(e.chartX-r,e.chartY-i)&&Zt(t,"click",e)))},setDOMEvents:function(){var e=this,t=e.chart.container;t.onmousedown=function(t){e.onContainerMouseDown(t)},t.onmousemove=function(t){e.onContainerMouseMove(t)},t.onclick=function(t){e.onContainerClick(t)},Gt(t,"mouseleave",e.onContainerMouseLeave),dt===1&&Gt(D,"mouseup",e.onDocumentMouseUp),it&&(t.ontouchstart=function(t){e.onContainerTouchStart(t)},t.ontouchmove=function(t){e.onContainerTouchMove(t)},dt===1&&Gt(D,"touchend",e.onDocumentTouchEnd))},destroy:function(){var e;Yt(this.chart.container,"mouseleave",this.onContainerMouseLeave),dt||(Yt(D,"mouseup",this.onDocumentMouseUp),Yt(D,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(e in this)this[e]=null}},It(Ft.Pointer.prototype,{pinchTranslate:function(e,t,n,r,i,s){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,e,t,n,r,i,s),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,e,t,n,r,i,s)},pinchTranslateDirection:function(e,t,n,r,i,s,o,u){var a=this.chart,f=e?"x":"y",l=e?"X":"Y",c="chart"+l,h=e?"width":"height",p=a["plot"+(e?"Left":"Top")],d,v,m=u||1,g=a.inverted,y=a.bounds[e?"h":"v"],b=t.length===1,w=t[0][c],E=n[0][c],S=!b&&t[1][c],x=!b&&n[1][c],T,n=function(){!b&&R(w-S)>20&&(m=u||R(E-x)/R(w-S)),v=(p-E)/m+w,d=a["plot"+(e?"Width":"Height")]/m};n(),t=v,t<y.min?(t=y.min,T=!0):t+d>y.max&&(t=y.max-d,T=!0),T?(E-=.8*(E-o[f][0]),b||(x-=.8*(x-o[f][1])),n()):o[f]=[E,x],g||(s[f]=v-p,s[h]=d),s=g?1/m:m,i[h]=d,i[f]=t,r[g?e?"scaleY":"scaleX":"scale"+l]=m,r["translate"+l]=s*p+(E-s*w)},pinch:function(e){var t=this,n=t.chart,r=t.pinchDown,i=e.touches,s=i.length,o=t.lastValidTouch,u=t.hasZoom,a=t.selectionMarker,f={},l=s===1&&(t.inClass(e.target,"highcharts-tracker")&&n.runTrackerClick||t.runChartClick),c={};s>1&&(t.initiated=!0),u&&t.initiated&&!l&&e.preventDefault(),Qt(i,function(e){return t.normalize(e)}),e.type==="touchstart"?($t(i,function(e,t){r[t]={chartX:e.chartX,chartY:e.chartY}}),o.x=[r[0].chartX,r[1]&&r[1].chartX],o.y=[r[0].chartY,r[1]&&r[1].chartY],$t(n.axes,function(e){if(e.zoomEnabled){var t=n.bounds[e.horiz?"h":"v"],r=e.minPixelPadding,i=e.toPixels(qt(e.options.min,e.dataMin)),s=e.toPixels(qt(e.options.max,e.dataMax)),o=q(i,s),i=I(i,s);t.min=q(e.pos,o-r),t.max=I(e.pos+e.len,i+r)}}),t.res=!0):r.length&&(a||(t.selectionMarker=a=It({destroy:ht,touch:!0},n.plotBox)),t.pinchTranslate(r,i,f,a,c,o),t.hasPinched=u,t.scaleGroups(f,c),!u&&t.followTouchMove&&s===1?this.runPointActions(t.normalize(e)):t.res&&(t.res=!1,this.reset(!1,0)))},touch:function(e,t){var n=this.chart;dn=n.index,e.touches.length===1?(e=this.normalize(e),n.isInsidePlot(e.chartX-n.plotLeft,e.chartY-n.plotTop)&&!n.openMenu?(t&&this.runPointActions(e),this.pinch(e)):t&&this.reset()):e.touches.length===2&&this.pinch(e)},onContainerTouchStart:function(e){this.touch(e,!0)},onContainerTouchMove:function(e){this.touch(e)},onDocumentTouchEnd:function(e){pt[dn]&&pt[dn].pointer.drop(e)}});if(P.PointerEvent||P.MSPointerEvent){var mn={},gn=!!P.PointerEvent,yn=function(){var e,t=[];t.item=function(e){return this[e]};for(e in mn)mn.hasOwnProperty(e)&&t.push({pageX:mn[e].pageX,pageY:mn[e].pageY,target:mn[e].target});return t},bn=function(e,t,n,r){e=e.originalEvent||e,(e.pointerType==="touch"||e.pointerType===e.MSPOINTER_TYPE_TOUCH)&&pt[dn]&&(r(e),r=pt[dn].pointer,r[t]({type:n,target:e.currentTarget,preventDefault:ht,touches:yn()}))};It(vn.prototype,{onContainerPointerDown:function(e){bn(e,"onContainerTouchStart","touchstart",function(e){mn[e.pointerId]={pageX:e.pageX,pageY:e.pageY,target:e.currentTarget}})},onContainerPointerMove:function(e){bn(e,"onContainerTouchMove","touchmove",function(e){mn[e.pointerId]={pageX:e.pageX,pageY
:e.pageY},mn[e.pointerId].target||(mn[e.pointerId].target=e.currentTarget)})},onDocumentPointerUp:function(e){bn(e,"onDocumentTouchEnd","touchend",function(e){delete mn[e.pointerId]})},batchMSEvents:function(e){e(this.chart.container,gn?"pointerdown":"MSPointerDown",this.onContainerPointerDown),e(this.chart.container,gn?"pointermove":"MSPointerMove",this.onContainerPointerMove),e(D,gn?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),Rt(vn.prototype,"init",function(e,t,n){e.call(this,t,n),this.hasZoom&&h(t.container,{"-ms-touch-action":mt,"touch-action":mt})}),Rt(vn.prototype,"setDOMEvents",function(e){e.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(Gt)}),Rt(vn.prototype,"destroy",function(e){this.batchMSEvents(Yt),e.call(this)})}var wn=Ft.Legend=function(e,t){this.init(e,t)};wn.prototype={init:function(t,n){var r=this,i=n.itemStyle,s=n.itemMarginTop||0;this.options=n,n.enabled&&(r.itemStyle=i,r.itemHiddenStyle=e(i,n.itemHiddenStyle),r.itemMarginTop=s,r.padding=i=qt(n.padding,8),r.initialItemX=i,r.initialItemY=i-5,r.maxItemWidth=0,r.chart=t,r.itemHeight=0,r.symbolWidth=qt(n.symbolWidth,16),r.pages=[],r.render(),Gt(r.chart,"endResize",function(){r.positionCheckboxes()}))},colorizeItem:function(e,t){var n=this.options,r=e.legendItem,i=e.legendLine,s=e.legendSymbol,o=this.itemHiddenStyle.color,n=t?n.itemStyle.color:o,u=t?e.legendColor||e.color||"#CCC":o,o=e.options&&e.options.marker,a={fill:u},f;r&&r.css({fill:n,color:n}),i&&i.attr({stroke:u});if(s){if(o&&s.isMarker)for(f in a.stroke=u,o=e.convertAttribs(o),o)r=o[f],r!==_&&(a[f]=r);s.attr(a)}},positionItem:function(e){var t=this.options,n=t.symbolPadding,t=!t.rtl,r=e._legendItemPos,i=r[0],r=r[1],s=e.checkbox;(e=e.legendGroup)&&e.element&&e.translate(t?i:this.legendWidth-i-2*n-4,r),s&&(s.x=i,s.y=r)},destroyItem:function(e){var t=e.checkbox;$t(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){e[t]&&(e[t]=e[t].destroy())}),t&&T(e.checkbox)},destroy:function(){var e=this.group,t=this.box;t&&(this.box=t.destroy()),e&&(this.group=e.destroy())},positionCheckboxes:function(e){var t=this.group.alignAttr,n,r=this.clipHeight||this.legendHeight;t&&(n=t.translateY,$t(this.allItems,function(i){var s=i.checkbox,o;s&&(o=n+s.y+(e||0)+3,h(s,{left:t.translateX+i.checkboxOffset+s.x-20+"px",top:o+"px",display:o>n-6&&o<n+r-6?"":mt}))}))},renderTitle:function(){var e=this.padding,t=this.options.title,n=0;t.text&&(this.title||(this.title=this.chart.renderer.label(t.text,e-3,e-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(t.style).add(this.group)),e=this.title.getBBox(),n=e.height,this.offsetWidth=e.width,this.contentGroup.attr({translateY:n})),this.titleHeight=n},setText:function(e){var t=this.options;e.legendItem.attr({text:t.labelFormat?g(t.labelFormat,e):t.labelFormatter.call(e)})},renderItem:function(t){var n=this.chart,r=n.renderer,i=this.options,s=i.layout==="horizontal",o=this.symbolWidth,u=i.symbolPadding,a=this.itemStyle,f=this.itemHiddenStyle,l=this.padding,c=s?qt(i.itemDistance,20):0,h=!i.rtl,p=i.width,d=i.itemMarginBottom||0,v=this.itemMarginTop,m=this.initialItemX,g=t.legendItem,y=t.series&&t.series.drawLegendSymbol?t.series:t,b=y.options,b=this.createCheckboxForItem&&b&&b.showCheckbox,w=i.useHTML;g||(t.legendGroup=r.g("legend-item").attr({zIndex:1}).add(this.scrollGroup),t.legendItem=g=r.text("",h?o+u:-u,this.baseline||0,w).css(e(t.visible?a:f)).attr({align:h?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(this.fontMetrics=r.fontMetrics(a.fontSize,g),this.baseline=this.fontMetrics.f+3+v,g.attr("y",this.baseline)),y.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,g,w,a,f),this.colorizeItem(t,t.visible),b&&this.createCheckboxForItem(t)),this.setText(t),r=g.getBBox(),o=t.checkboxOffset=i.itemWidth||t.legendItemWidth||o+u+r.width+c+(b?20:0),this.itemHeight=u=B(t.legendItemHeight||r.height),s&&this.itemX-m+o>(p||n.chartWidth-2*l-m-i.x)&&(this.itemX=m,this.itemY+=v+this.lastLineHeight+d,this.lastLineHeight=0),this.maxItemWidth=I(this.maxItemWidth,o),this.lastItemY=v+this.itemY+d,this.lastLineHeight=I(u,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],s?this.itemX+=o:(this.itemY+=v+u+d,this.lastLineHeight=u),this.offsetWidth=p||I((s?this.itemX-m-c:o)+l,this.offsetWidth)},getAllItems:function(){var e=[];return $t(this.chart.series,function(t){var n=t.options;qt(n.showInLegend,f(n.linkedTo)?!1:_,!0)&&(e=e.concat(t.legendItems||(n.legendType==="point"?t.data:t)))}),e},adjustMargins:function(e,t){var n=this.chart,r=this.options,i=r.align.charAt(0)+r.verticalAlign.charAt(0)+r.layout.charAt(0);this.display&&!r.floating&&$t([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(s,o){s.test(i)&&!f(e[o])&&(n[yt[o]]=I(n[yt[o]],n.legend[(o+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][o]*r[o%2?"x":"y"]+qt(r.margin,12)+t[o]))})},render:function(){var e=this,t=e.chart,n=t.renderer,r=e.group,i,s,o,u,a=e.box,f=e.options,l=e.padding,c=f.borderWidth,h=f.backgroundColor;e.itemX=e.initialItemX,e.itemY=e.initialItemY,e.offsetWidth=0,e.lastItemY=0,r||(e.group=r=n.g("legend").attr({zIndex:7}).add(),e.contentGroup=n.g().attr({zIndex:1}).add(r),e.scrollGroup=n.g().add(e.contentGroup)),e.renderTitle(),i=e.getAllItems(),w(i,function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)}),f.reversed&&i.reverse(),e.allItems=i,e.display=s=!!i.length,e.lastLineHeight=0,$t(i,function(t){e.renderItem(t)}),o=(f.width||e.offsetWidth)+l,u=e.lastItemY+e.lastLineHeight+e.titleHeight,u=e.handleOverflow(u),u+=l;if(c||h)a?o>0&&u>0&&(a[a.isNew?"attr":"animate"](a.crisp({width:o,height:u})),a.isNew=!1):(e.box=a=n.rect(0,0,o,u,f.borderRadius,c||0).attr({stroke:f.borderColor,"stroke-width":c||0,fill:h||mt}).add(r).shadow(f.shadow),a.isNew=!0),a[s?"show":"hide"]();e.legendWidth=o,e.legendHeight=u,$t(i,function(t){e.positionItem(t)}),s&&r.align(It({width:o,height:u},f),!0,"spacingBox"),t.isResizing||this.positionCheckboxes()},handleOverflow:function(e){var t=this,n=this.chart,r=n.renderer,i=this.options,s=i.y,s=n.spacingBox.height+(i.verticalAlign==="top"?-s:s)-this.padding,o=i.maxHeight,u,a=this.clipRect,f=i.navigation,l=qt(f.animation,!0),c=f.arrowSize||12,h=this.nav,p=this.pages,d=this.padding,v,m=this.allItems,g=function(e){a.attr({height:e}),t.contentGroup.div&&(t.contentGroup.div.style.clip="rect("+d+"px,9999px,"+(d+e)+"px,0)")};return i.layout==="horizontal"&&(s/=2),o&&(s=q(s,o)),p.length=0,e>s?(this.clipHeight=u=I(s-20-this.titleHeight-d,0),this.currentPage=qt(this.currentPage,1),this.fullHeight=e,$t(m,function(e,t){var n=e._legendItemPos[1],r=B(e.legendItem.getBBox().height),i=p.length;if(!i||n-p[i-1]>u&&(v||n)!==p[i-1])p.push(v||n),i++;t===m.length-1&&n+r-p[i-1]>u&&p.push(n),n!==v&&(v=n)}),a||(a=t.clipRect=r.clipRect(0,d,9999,0),t.contentGroup.clip(a)),g(u),h||(this.nav=h=r.g().attr({zIndex:1}).add(this.group),this.up=r.symbol("triangle",0,0,c,c).on("click",function(){t.scroll(-1,l)}).add(h),this.pager=r.text("",15,10).css(f.style).add(h),this.down=r.symbol("triangle-down",0,0,c,c).on("click",function(){t.scroll(1,l)}).add(h)),t.scroll(0),e=s):h&&(g(n.chartHeight),h.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),e},scroll:function(e,t){var n=this.pages,r=n.length,i=this.currentPage+e,s=this.clipHeight,o=this.options.navigation,u=o.activeColor,o=o.inactiveColor,a=this.pager,f=this.padding;i>r&&(i=r),i>0&&(t!==_&&k(t,this.chart),this.nav.attr({translateX:f,translateY:s+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:i===1?o:u}).css({cursor:i===1?"default":"pointer"}),a.attr({text:i+"/"+r}),this.down.attr({x:18+this.pager.getBBox().width,fill:i===r?o:u}).css({cursor:i===r?"default":"pointer"}),n=-n[i-1]+this.initialItemY,this.scrollGroup.animate({translateY:n}),this.currentPage=i,this.positionCheckboxes(n))}},ln=Ft.LegendSymbolMixin={drawRectangle:function(e,t){var n=e.options.symbolHeight||e.fontMetrics.f;t.legendSymbol=this.chart.renderer.rect(0,e.baseline-n+1,e.symbolWidth,n,e.options.symbolRadius||0).attr({zIndex:3}).add(t.legendGroup)},drawLineMarker:function(e){var t=this.options,n=t.marker,r;r=e.symbolWidth;var i=this.chart.renderer,s=this.legendGroup,e=e.baseline-B(e.fontMetrics.b*.3),o;t.lineWidth&&(o={"stroke-width":t.lineWidth},t.dashStyle&&(o.dashstyle=t.dashStyle),this.legendLine=i.path(["M",0,e,"L",r,e]).attr(o).add(s)),n&&n.enabled!==!1&&(t=n.radius,this.legendSymbol=r=i.symbol(this.symbol,r/2-t,e-t,2*t,2*t).add(s),r.isMarker=!0)}},(/Trident\/7\.0/.test(V)||G)&&Rt(wn.prototype,"positionItem",function(e,t){var n=this,r=function(){t._legendItemPos&&e.call(n,t)};r(),setTimeout(r)}),zt=Ft.Chart=function(){this.init.apply(this,arguments)},zt.prototype={callbacks:[],init:function(t,n){var r,i=t.series;t.series=null,r=e(at,t),r.series=t.series=i,this.userOptions=t,i=r.chart,this.margin=this.splashArray("margin",i),this.spacing=this.splashArray("spacing",i);var s=i.events;this.bounds={h:{},v:{}},this.callback=n,this.isResizing=0,this.options=r,this.axes=[],this.series=[],this.hasCartesianSeries=i.showAxes;var o=this,u;o.index=pt.length,pt.push(o),dt++,i.reflow!==!1&&Gt(o,"load",function(){o.initReflow()});if(s)for(u in s)Gt(o,u,s[u]);o.xAxis=[],o.yAxis=[],o.animation=nt?!1:qt(i.animation,!0),o.pointCount=o.colorCounter=o.symbolCounter=0,o.firstRender()},initSeries:function(e){var t=this.options.chart;return(t=jt[e.type||t.type||t.defaultSeriesType])||N(17,!0),t=new t,t.init(this,e),t},isInsidePlot:function(e,t,n){var r=n?t:e,e=n?e:t;return r>=0&&r<=this.plotWidth&&e>=0&&e<=this.plotHeight},redraw:function(e){var t=this.axes,n=this.series,r=this.pointer,i=this.legend,s=this.isDirtyLegend,o,u,a=this.hasCartesianSeries,f=this.isDirtyBox,l=n.length,c=l,h=this.renderer,p=h.isHidden(),d=[];k(e,this),p&&this.cloneRenderTo();for(this.layOutTitles();c--;)if(e=n[c],e.options.stacking&&(o=!0,e.isDirty)){u=!0;break}if(u)for(c=l;c--;)if(e=n[c],e.options.stacking)e.isDirty=!0;$t(n,function(e){e.isDirty&&e.options.legendType==="point"&&(e.updateTotals&&e.updateTotals(),s=!0)}),s&&i.options.enabled&&(i.render(),this.isDirtyLegend=!1),o&&this.getStacks(),a&&!this.isResizing&&(this.maxTicks=null,$t(t,function(e){e.setScale()})),this.getMargins(),a&&($t(t,function(e){e.isDirty&&(f=!0)}),$t(t,function(e){var t=e.min+","+e.max;e.extKey!==t&&(e.extKey=t,d.push(function(){Zt(e,"afterSetExtremes",It(e.eventArgs,e.getExtremes())),delete e.eventArgs})),(f||o)&&e.redraw()})),f&&this.drawChartBox(),$t(n,function(e){e.isDirty&&e.visible&&(!e.isCartesian||e.xAxis)&&e.redraw()}),r&&r.reset(!0),h.draw(),Zt(this,"redraw"),p&&this.cloneRenderTo(!0),$t(d,function(e){e.call()})},get:function(e){var t=this.axes,n=this.series,r,i;for(r=0;r<t.length;r++)if(t[r].options.id===e)return t[r];for(r=0;r<n.length;r++)if(n[r].options.id===e)return n[r];for(r=0;r<n.length;r++){i=n[r].points||[];for(t=0;t<i.length;t++)if(i[t].id===e)return i[t]}return null},getAxes:function(){var e=this,t=this.options,n=t.xAxis=c(t.xAxis||{}),t=t.yAxis=c(t.yAxis||{});$t(n,function(e,t){e.index=t,e.isX=!0}),$t(t,function(e,t){e.index=t}),n=n.concat(t),$t(n,function(t){new hn(e,t)})},getSelectedPoints:function(){var e=[];return $t(this.series,function(t){e=e.concat(Jt(t.points||[],function(e){return e.selected}))}),e},getSelectedSeries:function(){return Jt(this.series,function(e){return e.selected})},setTitle:function(t,n,r){var i,s=this,o=s.options,u;u=o.title=e(o.title,t),i=o.subtitle=e(o.subtitle,n),o=i,$t([["title",t,u],["subtitle",n,o]],function(e){var t=e[0],n=s[t],r=e[1],e=e[2];n&&r&&(s[t]=n=n.destroy()),e&&e.text&&!n&&(s[t]=s.renderer.text(e.text,0,0,e.useHTML).attr({align:e.align,"class":"highcharts-"+t,zIndex:e.zIndex||4}).css(e.style).add())}),s.layOutTitles(r)},layOutTitles:function(e){var t=0,n=this.title,r=this.subtitle,i=this.options,s=i.title,i=i.subtitle,o=this.renderer,u=this.spacingBox.width-44;n&&(n.css({width:(s.width||u)+"px"}).align(It({y:o.fontMetrics(s.style.fontSize,n).b-3},s),!1,"spacingBox"),!s.floating&&!s.verticalAlign)&&(t=n.getBBox().height),r&&(r.css({width:(i.width||u)+"px"}).align(It({y:t+(s.margin-13)+o.fontMetrics(s.style.fontSize,r).b},i),!1,"spacingBox"),!i.floating&&!i.verticalAlign&&(t=F(t+r.getBBox().height))),n=this.titleOffset!==t,this.titleOffset=t,!this.isDirtyBox&&n&&(this.isDirtyBox=n,this.hasRendered&&qt(e,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=this.options.chart,t=e.width,e=e.height,n=this.renderToClone||this.renderTo;f(t)||(this.containerWidth=Wt(n,"width")),f(e)||(this.containerHeight=Wt(n,"height")),this.chartWidth=I(0,t||this.containerWidth||600),this.chartHeight=I(0,qt(e,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(e){var t=this.renderToClone,n=this.container;e?t&&(this.renderTo.appendChild(n),T(t),delete this.renderToClone):(n&&n.parentNode===this.renderTo&&this.renderTo.removeChild(n),this.renderToClone=t=this.renderTo.cloneNode(0),h(t,{position:"absolute",top:"-9999px",display:"block"}),t.style.setProperty&&t.style.setProperty("display","block","important"),D.body.appendChild(t),n&&t.appendChild(n))},getContainer:function(){var e,r=this.options.chart,i,s,o;this.renderTo=e=r.renderTo,o="highcharts-"+ot++,n(e)&&(this.renderTo=e=D.getElementById(e)),e||N(13,!0),i=t(l(e,"data-highcharts-chart")),!isNaN(i)&&pt[i]&&pt[i].hasRendered&&pt[i].destroy(),l(e,"data-highcharts-chart",this.index),e.innerHTML="",!r.skipClone&&!e.offsetWidth&&this.cloneRenderTo(),this.getChartSize(),i=this.chartWidth,s=this.chartHeight,this.container=e=p(vt,{className:"highcharts-container"+(r.className?" "+r.className:""),id:o},It({position:"relative",overflow:"hidden",width:i+"px",height:s+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},r.style),this.renderToClone||e),this._cursor=e.style.cursor,this.renderer=r.forExport?new fn(e,i,s,r.style,!0):new rt(e,i,s,r.style),nt&&this.renderer.create(this,e,i,s),this.renderer.chartIndex=this.index},getMargins:function(e){var t=this.spacing,n=this.margin,r=this.titleOffset;this.resetMargins(),r&&!f(n[0])&&(this.plotTop=I(this.plotTop,r+this.options.title.margin+t[0])),this.legend.adjustMargins(n,t),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),e||this.getAxisMargins()},getAxisMargins:function(){var e=this,t=e.axisOffset=[0,0,0,0],n=e.margin;e.hasCartesianSeries&&$t(e.axes,function(e){e.getOffset()}),$t(yt,function(r,i){f(n[i])||(e[r]+=t[i])}),e.setChartSize()},reflow:function(e){var t=this,n=t.options.chart,r=t.renderTo,i=n.width||Wt(r,"width"),s=n.height||Wt(r,"height"),n=e?e.target:P,r=function(){t.container&&(t.setSize(i,s,!1),t.hasUserSize=null)};if(!t.hasUserSize&&!t.isPrinting&&i&&s&&(n===P||n===D)){if(i!==t.containerWidth||s!==t.containerHeight)clearTimeout(t.reflowTimeout),e?t.reflowTimeout=setTimeout(r,100):r();t.containerWidth=i,t.containerHeight=s}},initReflow:function(){var e=this,t=function(t){e.reflow(t)};Gt(P,"resize",t),Gt(e,"destroy",function(){Yt(P,"resize",t)})},setSize:function(e,t,n){var r=this,i,s,o,u=r.renderer,a=u.globalAnimation;r.isResizing+=1,o=function(){r&&Zt(r,"endResize",null,function(){r.isResizing-=1})},k(n,r),r.oldChartHeight=r.chartHeight,r.oldChartWidth=r.chartWidth,f(e)&&(r.chartWidth=i=I(0,B(e)),r.hasUserSize=!!i),f(t)&&(r.chartHeight=s=I(0,B(t))),(a?tn:h)(r.container,{width:i+"px",height:s+"px"},a),r.setChartSize(!0),u.setSize(i,s,n),r.maxTicks=null,$t(r.axes,function(e){e.isDirty=!0,e.setScale()}),$t(r.series,function(e){e.isDirty=!0}),r.isDirtyLegend=!0,r.isDirtyBox=!0,r.layOutTitles(),r.getMargins(),r.redraw(n),r.oldChartHeight=null,Zt(r,"resize"),a===!1?o():setTimeout(o,a&&a.duration||500)},setChartSize:function(e){var t=this.inverted,n=this.renderer,r=this.chartWidth,i=this.chartHeight,s=this.options.chart,o=this.spacing,u=this.clipOffset,a,f,l,c;this.plotLeft=a=B(this.plotLeft),this.plotTop=f=B(this.plotTop),this.plotWidth=l=I(0,B(r-a-this.marginRight)),this.plotHeight=c=I(0,B(i-f-this.marginBottom)),this.plotSizeX=t?c:l,this.plotSizeY=t?l:c,this.plotBorderWidth=s.plotBorderWidth||0,this.spacingBox=n.spacingBox={x:o[3],y:o[0],width:r-o[3]-o[1],height:i-o[0]-o[2]},this.plotBox=n.plotBox={x:a,y:f,width:l,height:c},r=2*j(this.plotBorderWidth/2),t=F(I(r,u[3])/2),n=F(I(r,u[0])/2),this.clipBox={x:t,y:n,width:j(this.plotSizeX-I(r,u[1])/2-t),height:I(0,j(this.plotSizeY-I(r,u[2])/2-n))},e||$t(this.axes,function(e){e.setAxisSize(),e.setAxisTranslation()})},resetMargins:function(){var e=this;$t(yt,function(t,n){e[t]=qt(e.margin[n],e.spacing[n])}),e.axisOffset=[0,0,0,0],e.clipOffset=[0,0,0,0]},drawChartBox:function(){var e=this.options.chart,t=this.renderer,n=this.chartWidth,r=this.chartHeight,i=this.chartBackground,s=this.plotBackground,o=this.plotBorder,u=this.plotBGImage,a=e.borderWidth||0,f=e.backgroundColor,l=e.plotBackgroundColor,c=e.plotBackgroundImage,h=e.plotBorderWidth||0,p,d=this.plotLeft,v=this.plotTop,m=this.plotWidth,g=this.plotHeight,y=this.plotBox,b=this.clipRect,w=this.clipBox;p=a+(e.shadow?8:0);if(a||f)i?i.animate(i.crisp({width:n-p,height:r-p})):(i={fill:f||mt},a&&(i.stroke=e.borderColor,i["stroke-width"]=a),this.chartBackground=t.rect(p/2,p/2,n-p,r-p,e.borderRadius,a).attr(i).addClass("highcharts-background").add().shadow(e.shadow));l&&(s?s.animate(y):this.plotBackground=t.rect(d,v,m,g,0).attr({fill:l}).add().shadow(e.plotShadow)),c&&(u?u.animate(y):this.plotBGImage=t.image(c,d,v,m,g).add()),b?b.animate({width:w.width,height:w.height}):this.clipRect=t.clipRect(w),h&&(o?o.animate(o.crisp({x:d,y:v,width:m,height:g,strokeWidth:-h})):this.plotBorder=t.rect(d,v,m,g,0,-h).attr({stroke:e.plotBorderColor,"stroke-width":h,fill:mt,zIndex:1}).add()),this.isDirtyBox=!1},propFromSeries:function(){var e=this,t=e.options.chart,n,r=e.options.series,i,s;$t(["inverted","angular","polar"],function(o){n=jt[t.type||t.defaultSeriesType],s=e[o]||t[o]||n&&n.prototype[o];for(i=r&&r.length;!s&&i--;)(n=jt[r[i].type])&&n.prototype[o]&&(s=!0);e[o]=s})},linkSeries:function(){var e=this,t=e.series;$t(t,function(e){e.linkedSeries.length=0}),$t(t,function(t){var r=t.options.linkedTo;n(r)&&(r=r===":previous"?e.series[t.index-1]:e.get(r))&&(r.linkedSeries.push(t),t.linkedParent=r,t.visible=qt(t.options.visible,r.options.visible,t.visible))})},renderSeries:function(){$t(this.series,function(e){e.translate(),e.render()})},renderLabels:function(){var e=this,n=e.options.labels;n.items&&$t(n.items,function(r){var i=It(n.style,r.style),s=t(i.left)+e.plotLeft,o=t(i.top)+e.plotTop+12;delete i.left,delete i.top,e.renderer.text(r.html,s,o).attr({zIndex:2}).css(i).add()})},render:function(){var e=this.axes,t=this.renderer,n=this.options,r,i,s,o;this.setTitle(),this.legend=new wn(this,n.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),r=this.plotWidth,i=this.plotHeight-=13,$t(e,function(e){e.setScale()}),this.getAxisMargins(),s=r/this.plotWidth>1.1,o=i/this.plotHeight>1.1;if(s||o)this.maxTicks=null,$t(e,function(e){(e.horiz&&s||!e.horiz&&o)&&e.setTickInterval(!0)}),this.getMargins();this.drawChartBox(),this.hasCartesianSeries&&$t(e,function(e){e.render()}),this.seriesGroup||(this.seriesGroup=t.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.showCredits(n.credits),this.hasRendered=!0},showCredits:function(e){e.enabled&&!this.credits&&(this.credits=this.renderer.text(e.text,0,0).on("click",function(){e.href&&(location.href=e.href)}).attr({align:e.position.align,zIndex:8}).css(e.style).add().align(e.position))},destroy:function(){var e=this,t=e.axes,n=e.series,r=e.container,i,s=r&&r.parentNode;Zt(e,"destroy"),pt[e.index]=_,dt--,e.renderTo.removeAttribute("data-highcharts-chart"),Yt(e);for(i=t.length;i--;)t[i]=t[i].destroy();for(i=n.length;i--;)n[i]=n[i].destroy();$t("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(t){var n=e[t];n&&n.destroy&&(e[t]=n.destroy())}),r&&(r.innerHTML="",Yt(r),s&&T(r));for(i in e)delete e[i]},isReadyToRender:function(){var e=this;return!et&&P==P.top&&D.readyState!=="complete"||nt&&!P.canvg?(nt?cn.push(function(){e.firstRender()},e.options.global.canvasToolsURL):D.attachEvent("onreadystatechange",function(){D.detachEvent("onreadystatechange",e.firstRender),D.readyState==="complete"&&e.firstRender()}),!1):!0},firstRender:function(){var e=this,t=e.options,n=e.callback;e.isReadyToRender()&&(e.getContainer(),Zt(e,"init"),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),$t(t.series||[],function(t){e.initSeries(t)}),e.linkSeries(),Zt(e,"beforeRender"),Ft.Pointer&&(e.pointer=new vn(e,t)),e.render(),e.renderer.draw(),n&&n.apply(e,[e]),$t(e.callbacks,function(t){e.index!==_&&t.apply(e,[e])}),Zt(e,"load"),e.cloneRenderTo(!0))},splashArray:function(e,t){var n=t[e],n=r(n)?n:[n,n,n,n];return[qt(t[e+"Top"],n[0]),qt(t[e+"Right"],n[1]),qt(t[e+"Bottom"],n[2]),qt(t[e+"Left"],n[3])]}};var En=Ft.CenteredSeriesMixin={getCenter:function(){var e=this.options,t=this.chart,n=2*(e.slicedOffset||0),r=t.plotWidth-2*n,t=t.plotHeight-2*n,i=e.center,i=[qt(i[0],"50%"),qt(i[1],"50%"),e.size||"100%",e.innerSize||0],s=q(r,t),o,u;for(o=0;o<4;++o)u=i[o],e=o<2||o===2&&/%$/.test(u),i[o]=(/%$/.test(u)?[r,t,s,i[2]][o]*parseFloat(u)/100:parseFloat(u))+(e?n:0);return i}},Sn=function(){};Sn.prototype={init:function(e,t,n){return this.series=e,this.color=e.color,this.applyOptions(t,n),this.pointAttr={},e.options.colorByPoint&&(t=e.options.colors||e.chart.options.colors,this.color=this.color||t[e.colorCounter++],e.colorCounter===t.length)&&(e.colorCounter=0),e.chart.pointCount++,this},applyOptions:function(e,t){var n=this.series,r=n.options.pointValKey||n.pointValKey,e=Sn.prototype.optionsToObject.call(this,e);return It(this,e),this.options=this.options?It(this.options,e):e,r&&(this.y=this[r]),this.x===_&&n&&(this.x=t===_?n.autoIncrement():t),this},optionsToObject:function(e){var t={},n=this.series,r=n.options.keys,s=r||n.pointArrayMap||["y"],o=s.length,u=0,a=0;if(typeof e=="number"||e===null)t[s[0]]=e;else if(i(e)){!r&&e.length>o&&(n=typeof e[0],n==="string"?t.name=e[0]:n==="number"&&(t.x=e[0]),u++);for(;a<o;)t[s[a++]]=e[u++]}else typeof e=="object"&&(t=e,e.dataLabels&&(n._hasPointLabels=!0),e.marker&&(n._hasPointMarkers=!0));return t},destroy:function(){var e=this.series.chart,t=e.hoverPoints,n;e.pointCount--,t&&(this.setState(),a(t,this),!t.length)&&(e.hoverPoints=null),this===e.hoverPoint&&this.onMouseOut();if(this.graphic||this.dataLabel)Yt(this),this.destroyElements();this.legendItem&&e.legend.destroyItem(this);for(n in this)this[n]=null},destroyElements:function(){for(var e="graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),t,n=6;n--;)t=e[n],this[t]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(e){var t=this.series,n=t.tooltipOptions,r=qt(n.valueDecimals,""),i=n.valuePrefix||"",s=n.valueSuffix||"";return $t(t.pointArrayMap||["y"],function(t){t="{point."+t;if(i||s)e=e.replace(t+"}",i+t+"}"+s);e=e.replace(t+"}",t+":,."+r+"f}")}),g(e,{point:this,series:this.series})},firePointEvent:function(e,t,n){var r=this,i=this.series.options;(i.point.events[e]||r.options&&r.options.events&&r.options.events[e])&&this.importEvents(),e==="click"&&i.allowPointSelect&&(n=function(e){r.select&&r.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}),Zt(this,e,t,n)}};var xn=Ft.Series=function(){};xn.prototype={isCartesian:!0,type:"line",pointClass:Sn,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(e,t){var n=this,r,i,s=e.series,o=function(e,t){return qt(e.options.index,e._i)-qt(t.options.index,t._i)};n.chart=e,n.options=t=n.setOptions(t),n.linkedSeries=[],n.bindAxes(),It(n,{name:t.name,state:"",pointAttr:{},visible:t.visible!==!1,selected:t.selected===!0}),nt&&(t.animation=!1),i=t.events;for(r in i)Gt(n,r,i[r]);if(i&&i.click||t.point&&t.point.events&&t.point.events.click||t.allowPointSelect)e.runTrackerClick=!0;n.getColor(),n.getSymbol(),$t(n.parallelArrays,function(e){n[e+"Data"]=[]}),n.setData(t.data,!1),n.isCartesian&&(e.hasCartesianSeries=!0),s.push(n),n._i=s.length-1,w(s,o),this.yAxis&&w(this.yAxis.series,o),$t(s,function(e,t){e.index=t,e.name=e.name||"Series "+(t+1)})},bindAxes:function(){var e=this,t=e.options,n=e.chart,r;$t(e.axisTypes||[],function(i){$t(n[i],function(n){r=n.options;if(t[i]===r.index||t[i]!==_&&t[i]===r.id||t[i]===_&&r.index===0)n.series.push(e),e[i]=n,n.isDirty=!0}),!e[i]&&e.optionalAxis!==i&&N(18,!0)})},updateParallelArrays:function(e,t){var n=e.series,r=arguments;$t(n.parallelArrays,typeof t=="number"?function(r){var i=r==="y"&&n.toYData?n.toYData(e):e[r];n[r+"Data"][t]=i}:function(e){Array.prototype[t].apply(n[e+"Data"],Array.prototype.slice.call(r,2))})},autoIncrement:function(){var e=this.options,t=this.xIncrement,n,r=e.pointIntervalUnit,t=qt(t,e.pointStart,0);this.pointInterval=n=qt(this.pointInterval,e.pointInterval,1);if(r==="month"||r==="year")e=new wt(t),e=r==="month"?+e[Ht](e[Lt]()+n):+e[Bt](e[At]()+n),n=e-t;return this.xIncrement=t+n,t},getSegments:function(){var e=-1,t=[],n,r=this.points,i=r.length;if(i)if(this.options.connectNulls){for(n=i;n--;)r[n].y===null&&r.splice(n,1);r.length&&(t=[r])}else $t(r,function(n,s){n.y===null?(s>e+1&&t.push(r.slice(e+1,s)),e=s):s===i-1&&t.push(r.slice(e+1,s+1))});this.segments=t},setOptions:function(t){var n=this.chart,r=n.options.plotOptions,n=n.userOptions||{},i=n.plotOptions||{},s=r[this.type];return this.userOptions=t,r=e(s,r.series,t),this.tooltipOptions=e(at.tooltip,at.plotOptions[this.type].tooltip,n.tooltip,i.series&&i.series.tooltip,i[this.type]&&i[this.type].tooltip,t.tooltip),s.marker===null&&delete r.marker,this.zoneAxis=r.zoneAxis,t=this.zones=(r.zones||[]).slice(),(r.negativeColor||r.negativeFillColor)&&!r.zones&&t.push({value:r[this.zoneAxis+"Threshold"]||r.threshold||0,color:r.negativeColor,fillColor:r.negativeFillColor}),t.length&&f(t[t.length-1].value)&&t.push({color:this.color,fillColor:this.fillColor}),r},getCyclic:function(e,t,n){var r=this.userOptions,i="_"+e+"Index",s=e+"Counter";t||(f(r[i])?t=r[i]:(r[i]=t=this.chart[s]%n.length,this.chart[s]+=1),t=n[t]),this[e]=t},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||rn[this.type].color,this.chart.options.colors)},getSymbol:function(){var e=this.options.marker;this.getCyclic("symbol",e.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(e.radius=0)},drawLegendSymbol:ln.drawLineMarker,setData:function(e,t,r,o){var u=this,a=u.points,l=a&&a.length||0,c,h=u.options,p=u.chart,d=null,v=u.xAxis,m=v&&!!v.categories,g=h.turboThreshold,y=this.xData,b=this.yData,w=(c=u.pointArrayMap)&&c.length,e=e||[];c=e.length,t=qt(t,!0);if(o!==!1&&c&&l===c&&!u.cropped&&!u.hasGroupedData&&u.visible)$t(e,function(e,t){a[t].update&&a[t].update(e,!1,null,!1)});else{u.xIncrement=null,u.pointRange=m?1:h.pointRange,u.colorCounter=0,$t(this.parallelArrays,function(e){u[e+"Data"].length=0});if(g&&c>g){for(r=0;d===null&&r<c;)d=e[r],r++;if(s(d)){m=qt(h.pointStart,0),h=qt(h.pointInterval,1);for(r=0;r<c;r++)y[r]=m,b[r]=e[r],m+=h;u.xIncrement=m}else if(i(d))if(w)for(r=0;r<c;r++)h=e[r],y[r]=h[0],b[r]=h.slice(1,w+1);else for(r=0;r<c;r++)h=e[r],y[r]=h[0],b[r]=h[1];else N(12)}else for(r=0;r<c;r++)e[r]!==_&&(h={series:u},u.pointClass.prototype.applyOptions.apply(h,[e[r]]),u.updateParallelArrays(h,r),m&&f(h.name))&&(v.names[h.x]=h.name);n(b[0])&&N(14,!0),u.data=[],u.options.data=e;for(r=l;r--;)a[r]&&a[r].destroy&&a[r].destroy();v&&(v.minRange=v.userMinRange),u.isDirty=u.isDirtyData=p.isDirtyBox=!0,r=!1}t&&p.redraw(r)},processData:function(e){var t=this.xData,n=this.yData,r=t.length,i;i=0;var s,o,u=this.xAxis,a,f=this.options;a=f.cropThreshold;var l=this.isCartesian,c,h;if(l&&!this.isDirty&&!u.isDirty&&!this.yAxis.isDirty&&!e)return!1;u&&(e=u.getExtremes(),c=e.min,h=e.max);if(l&&this.sorted&&(!a||r>a||this.forceCrop))if(t[r-1]<c||t[0]>h)t=[],n=[];else if(t[0]<c||t[r-1]>h)i=this.cropData(this.xData,this.yData,c,h),t=i.xData,n=i.yData,i=i.start,s=!0;for(a=t.length-1;a>=0;a--)r=t[a]-t[a-1],r>0&&(o===_||r<o)?o=r:r<0&&this.requireSorting&&N(15);this.cropped=s,this.cropStart=i,this.processedXData=t,this.processedYData=n,f.pointRange===null&&(this.pointRange=o||1),this.closestPointRange=o},cropData:function(e,t,n,r){var i=e.length,s=0,o=i,u=qt(this.cropShoulder,1),a;for(a=0;a<i;a++)if(e[a]>=n){s=I(0,a-u);break}for(;a<i;a++)if(e[a]>r){o=a+u;break}return{xData:e.slice(s,o),yData:t.slice(s,o),start:s,end:o}},generatePoints:function(){var e=this.options.data,t=this.data,n,r=this.processedXData,i=this.processedYData,s=this.pointClass,o=r.length,u=this.cropStart||0,a,f=this.hasGroupedData,l,h=[],p;!t&&!f&&(t=[],t.length=e.length,t=this.data=t);for(p=0;p<o;p++)a=u+p,f?h[p]=(new s).init(this,[r[p]].concat(c(i[p]))):(t[a]?l=t[a]:e[a]!==_&&(t[a]=l=(new s).init(this,e[a],r[p])),h[p]=l),h[p].index=a;if(t&&(o!==(n=t.length)||f))for(p=0;p<n;p++)if(p===u&&!f&&(p+=o),t[p])t[p].destroyElements(),t[p].plotX=_;this.data=t,this.points=h},getExtremes:function(e){var t=this.yAxis,n=this.processedXData,r,i=[],s=0;r=this.xAxis.getExtremes();var o=r.min,u=r.max,a,f,l,c,e=e||this.stackedYData||this.processedYData;r=e.length;for(c=0;c<r;c++)if(f=n[c],l=e[c],a=l!==null&&l!==_&&(!t.isLog||l.length||l>0),f=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(n[c+1]||f)>=o&&(n[c-1]||f)<=u,a&&f)if(a=l.length)for(;a--;)l[a]!==null&&(i[s++]=l[a]);else i[s++]=l;this.dataMin=E(i),this.dataMax=S(i)},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var e=this.options,t=e.stacking,n=this.xAxis,r=n.categories,i=this.yAxis,o=this.points,u=o.length,a=!!this.modifyValue,l=e.pointPlacement,c=l==="between"||s(l),h=e.threshold,p=e.startFromThreshold?h:0,d,v,m,g=Number.MAX_VALUE,e=0;e<u;e++){var y=o[e],b=y.x,w=y.y;v=y.low;var E=t&&i.stacks[(this.negStacks&&w<(p?0:h)?"-":"")+this.stackKey];i.isLog&&w!==null&&w<=0&&(y.y=w=null,N(10)),y.plotX=d=q(I(-1e5,n.translate(b,0,0,0,1,l,this.type==="flags")),1e5),t&&this.visible&&E&&E[b]&&(E=E[b],w=E.points[this.index+","+e],v=w[0],w=w[1],v===p&&(v=qt(h,i.min)),i.isLog&&v<=0&&(v=null),y.total=y.stackTotal=E.total,y.percentage=E.total&&y.y/E.total*100,y.stackY=w,E.setOffset(this.pointXOffset||0,this.barW||0)),y.yBottom=f(v)?i.translate(v,0,1,0,1):null,a&&(w=this.modifyValue(w,y)),y.plotY=v=typeof w=="number"&&w!==Infinity?q(I(-1e5,i.translate(w,0,1,0,1)),1e5):_,y.isInside=v!==_&&v>=0&&v<=i.len&&d>=0&&d<=n.len,y.clientX=c?n.translate(b,0,0,0,1):d,y.negative=y.y<(h||0),y.category=r&&r[y.x]!==_?r[y.x]:y.x,e&&(g=q(g,R(d-m))),m=d}this.closestPointRangePx=g,this.getSegments()},setClip:function(e){var t=this.chart,n=t.renderer,r=t.inverted,i=this.clipBox,s=i||t.clipBox,o=this.sharedClipKey||["_sharedClip",e&&e.duration,e&&e.easing,s.height].join(","),u=t[o],a=t[o+"m"];u||(e&&(s.width=0,t[o+"m"]=a=n.clipRect(-99,r?-t.plotLeft:-t.plotTop,99,r?t.chartWidth:t.chartHeight)),t[o]=u=n.clipRect(s)),e&&(u.count+=1),this.options.clip!==!1&&(this.group.clip(e||i?u:t.clipRect),this.markerGroup.clip(a),this.sharedClipKey=o),e||(u.count-=1,u.count<=0&&o&&t[o]&&(i||(t[o]=t[o].destroy()),t[o+"m"]&&(t[o+"m"]=t[o+"m"].destroy())))},animate:function(e){var t=this.chart,n=this.options.animation,i;n&&!r(n)&&(n=rn[this.type].animation),e?this.setClip(n):(i=this.sharedClipKey,(e=t[i])&&e.animate({width:t.plotSizeX},n),t[i+"m"]&&t[i+"m"].animate({width:t.plotSizeX+99},n),this.animate=null)},afterAnimate:function(){this.setClip(),Zt(this,"afterAnimate")},drawPoints:function(){var e,t=this.points,n=this.chart,r,i,s,o,u,a,f,l,c=this.options.marker,h=this.pointAttr[""],p,d,v,m=this.markerGroup,g=qt(c.enabled,this.xAxis.isRadial,this.closestPointRangePx>2*c.radius);if(c.enabled!==!1||this._hasPointMarkers)for(s=t.length;s--;)(o=t[s],r=j(o.plotX),i=o.plotY,l=o.graphic,p=o.marker||{},d=!!o.marker,e=g&&p.enabled===_||p.enabled,v=o.isInside,e&&i!==_&&!isNaN(i)&&o.y!==null)?(e=o.pointAttr[o.selected?"select":""]||h,u=e.r,a=qt(p.symbol,this.symbol),f=a.indexOf("url")===0,l)?l[v?"show":"hide"](!0).animate(It({x:r-u,y:i-u},l.symbolName?{width:2*u,height:2*u}:{})):v&&(u>0||f)&&(o.graphic=n.renderer.symbol(a,r-u,i-u,2*u,2*u,d?p:c).attr(e).add(m)):l&&(o.graphic=l.destroy())},convertAttribs:function(e,t,n,r){var i=this.pointAttrToOptions,s,o,u={},e=e||{},t=t||{},n=n||{},r=r||{};for(s in i)o=i[s],u[s]=qt(e[o],t[s],n[s],r[s])
;return u},getAttribs:function(){var e=this,t=e.options,n=rn[e.type].marker?t.marker:t,r=n.states,i=r.hover,s,o=e.color,u=e.options.negativeColor;s={stroke:o,fill:o};var a=e.points||[],l,c,h=[],p=e.pointAttrToOptions;l=e.hasPointSpecificOptions;var d=n.lineColor,v=n.fillColor;c=t.turboThreshold;var m=e.zones,g=e.zoneAxis||"y",y;t.marker?(i.radius=i.radius||n.radius+i.radiusPlus,i.lineWidth=i.lineWidth||n.lineWidth+i.lineWidthPlus):(i.color=i.color||an(i.color||o).brighten(i.brightness).get(),i.negativeColor=i.negativeColor||an(i.negativeColor||u).brighten(i.brightness).get()),h[""]=e.convertAttribs(n,s),$t(["hover","select"],function(t){h[t]=e.convertAttribs(r[t],h[""])}),e.pointAttr=h,o=a.length;if(!c||o<c||l)for(;o--;){c=a[o],(n=c.options&&c.options.marker||c.options)&&n.enabled===!1&&(n.radius=0);if(m.length){l=0;for(s=m[l];c[g]>=s.value;)s=m[++l];s.color&&(c.color=c.fillColor=s.color)}l=t.colorByPoint||c.color;if(c.options)for(y in p)f(n[p[y]])&&(l=!0);l?(n=n||{},l=[],r=n.states||{},s=r.hover=r.hover||{},t.marker||(s.color=s.color||!c.options.color&&i[c.negative&&u?"negativeColor":"color"]||an(c.color).brighten(s.brightness||i.brightness).get()),s={color:c.color},v||(s.fillColor=c.color),d||(s.lineColor=c.color),n.hasOwnProperty("color")&&!n.color&&delete n.color,l[""]=e.convertAttribs(It(s,n),h[""]),l.hover=e.convertAttribs(r.hover,h.hover,l[""]),l.select=e.convertAttribs(r.select,h.select,l[""])):l=h,c.pointAttr=l}},destroy:function(){var e=this,t=e.chart,n=/AppleWebKit\/533/.test(V),r,i=e.data||[],s,o,u;Zt(e,"destroy"),Yt(e),$t(e.axisTypes||[],function(t){if(u=e[t])a(u.series,e),u.isDirty=u.forceRedraw=!0}),e.legendItem&&e.chart.legend.destroyItem(e);for(r=i.length;r--;)(s=i[r])&&s.destroy&&s.destroy();e.points=null,clearTimeout(e.animationTimeout);for(o in e)e[o]instanceof A&&!e[o].survive&&(r=n&&o==="group"?"hide":"destroy",e[o][r]());t.hoverSeries===e&&(t.hoverSeries=null),a(t.series,e);for(o in e)delete e[o]},getSegmentPath:function(e){var t=this,n=[],r=t.options.step;return $t(e,function(i,s){var o=i.plotX,u=i.plotY,a;t.getPointSpline?n.push.apply(n,t.getPointSpline(e,i,s)):(n.push(s?"L":"M"),r&&s&&(a=e[s-1],r==="right"?n.push(a.plotX,u):r==="center"?n.push((a.plotX+o)/2,a.plotY,(a.plotX+o)/2,u):n.push(o,a.plotY)),n.push(i.plotX,i.plotY))}),n},getGraphPath:function(){var e=this,t=[],n,r=[];return $t(e.segments,function(i){n=e.getSegmentPath(i),i.length>1?t=t.concat(n):r.push(i[0])}),e.singlePoints=r,e.graphPath=t},drawGraph:function(){var e=this,t=this.options,n=[["graph",t.lineColor||this.color,t.dashStyle]],r=t.lineWidth,i=t.linecap!=="square",s=this.getGraphPath(),o=this.fillGraph&&this.color||mt;$t(this.zones,function(r,i){n.push(["zoneGraph"+i,r.color||e.color,r.dashStyle||t.dashStyle])}),$t(n,function(n,u){var a=n[0],f=e[a];f?f.animate({d:s}):(r||o)&&s.length&&(f={stroke:n[1],"stroke-width":r,fill:o,zIndex:1},n[2]?f.dashstyle=n[2]:i&&(f["stroke-linecap"]=f["stroke-linejoin"]="round"),e[a]=e.chart.renderer.path(s).attr(f).add(e.group).shadow(u<2&&t.shadow))})},applyZones:function(){var e=this,t=this.chart,n=t.renderer,r=this.zones,i,s,o=this.clips||[],u,a=this.graph,f=this.area,l=I(t.chartWidth,t.chartHeight),c=this[(this.zoneAxis||"y")+"Axis"],h,p=c.reversed,d=t.inverted,v=c.horiz,m,g,y,b=!1;r.length&&(a||f)&&c.min!==_&&(a&&a.hide(),f&&f.hide(),h=c.getExtremes(),$t(r,function(r,w){i=p?v?t.plotWidth:0:v?0:c.toPixels(h.min),i=q(I(qt(s,i),0),l),s=q(I(B(c.toPixels(qt(r.value,h.max),!0)),0),l),b&&(i=s=c.toPixels(h.max)),m=Math.abs(i-s),g=q(i,s),y=I(i,s);if(c.isXAxis){if(u={x:d?y:g,y:0,width:m,height:l},!v)u.x=t.plotHeight-u.x}else if(u={x:0,y:d?y:g,width:l,height:m},v)u.y=t.plotWidth-u.y;t.inverted&&n.isVML&&(u=c.isXAxis?{x:0,y:p?g:y,height:u.width,width:t.chartWidth}:{x:u.y-t.plotLeft-t.spacingBox.x,y:0,width:u.height,height:t.chartHeight}),o[w]?o[w].animate(u):(o[w]=n.clipRect(u),a&&e["zoneGraph"+w].clip(o[w]),f&&e["zoneArea"+w].clip(o[w])),b=r.value>h.max}),this.clips=o)},invertGroups:function(){function e(){var e={width:t.yAxis.len,height:t.xAxis.len};$t(["group","markerGroup"],function(n){t[n]&&t[n].attr(e).invert()})}var t=this,n=t.chart;t.xAxis&&(Gt(n,"resize",e),Gt(t,"destroy",function(){Yt(n,"resize",e)}),e(),t.invertGroups=e)},plotGroup:function(e,t,n,r,i){var s=this[e],o=!s;return o&&(this[e]=s=this.chart.renderer.g(t).attr({visibility:n,zIndex:r||.1}).add(i)),s[o?"attr":"animate"](this.getPlotBox()),s},getPlotBox:function(){var e=this.chart,t=this.xAxis,n=this.yAxis;return e.inverted&&(t=n,n=this.xAxis),{translateX:t?t.left:e.plotLeft,translateY:n?n.top:e.plotTop,scaleX:1,scaleY:1}},render:function(){var e=this,t=e.chart,n,r=e.options,i=(n=r.animation)&&!!e.animate&&t.renderer.isSVG&&qt(n.duration,500)||0,s=e.visible?"visible":"hidden",o=r.zIndex,u=e.hasRendered,a=t.seriesGroup;n=e.plotGroup("group","series",s,o,a),e.markerGroup=e.plotGroup("markerGroup","markers",s,o,a),i&&e.animate(!0),e.getAttribs(),n.inverted=e.isCartesian?t.inverted:!1,e.drawGraph&&(e.drawGraph(),e.applyZones()),$t(e.points,function(e){e.redraw&&e.redraw()}),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&e.options.enableMouseTracking!==!1&&e.drawTracker(),t.inverted&&e.invertGroups(),r.clip!==!1&&!e.sharedClipKey&&!u&&n.clip(t.clipRect),i&&e.animate(),u||(i?e.animationTimeout=setTimeout(function(){e.afterAnimate()},i):e.afterAnimate()),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var e=this.chart,t=this.isDirtyData,n=this.isDirty,r=this.group,i=this.xAxis,s=this.yAxis;r&&(e.inverted&&r.attr({width:e.plotWidth,height:e.plotHeight}),r.animate({translateX:qt(i&&i.left,e.plotLeft),translateY:qt(s&&s.top,e.plotTop)})),this.translate(),this.render(),t&&Zt(this,"updatedData"),(n||t)&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(e,t){var n=this.xAxis,r=this.yAxis,i=this.chart.inverted;return this.searchKDTree({clientX:i?n.len-e.chartY+n.pos:e.chartX-n.pos,plotY:i?r.len-e.chartX+r.pos:e.chartY-r.pos},t)},buildKDTree:function(){function e(t,r,i){var s,o;if(o=t&&t.length)return s=n.kdAxisArray[r%i],t.sort(function(e,t){return e[s]-t[s]}),o=Math.floor(o/2),{point:t[o],left:e(t.slice(0,o),r+1,i),right:e(t.slice(o+1),r+1,i)}}function t(){var t=Jt(n.points||[],function(e){return e.y!==null});n.kdTree=e(t,r,r)}var n=this,r=n.kdDimensions;delete n.kdTree,n.options.kdSync?t():setTimeout(t)},searchKDTree:function(e,t){function n(e,t,u,a){var l=t.point,c=r.kdAxisArray[u%a],h,p,d=l;return p=f(e[i])&&f(l[i])?Math.pow(e[i]-l[i],2):null,h=f(e[s])&&f(l[s])?Math.pow(e[s]-l[s],2):null,h=(p||0)+(h||0),l.dist=f(h)?Math.sqrt(h):Number.MAX_VALUE,l.distX=f(p)?Math.sqrt(p):Number.MAX_VALUE,c=e[c]-l[c],h=c<0?"left":"right",p=c<0?"right":"left",t[h]&&(h=n(e,t[h],u+1,a),d=h[o]<d[o]?h:l),t[p]&&Math.sqrt(c*c)<d[o]&&(e=n(e,t[p],u+1,a),d=e[o]<d[o]?e:d),d}var r=this,i=this.kdAxisArray[0],s=this.kdAxisArray[1],o=t?"distX":"dist";this.kdTree||this.buildKDTree();if(this.kdTree)return n(e,this.kdTree,this.kdDimensions,this.kdDimensions)}},M.prototype={destroy:function(){x(this,this.axis)},render:function(e){var t=this.options,n=t.format,n=n?g(n,this):t.formatter.call(this);this.label?this.label.attr({text:n,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(n,null,null,t.useHTML).css(t.style).attr({align:this.textAlign,rotation:t.rotation,visibility:"hidden"}).add(e)},setOffset:function(e,t){var n=this.axis,r=n.chart,i=r.inverted,s=n.reversed,s=this.isNegative&&!s||!this.isNegative&&s,o=n.translate(n.usePercentage?100:this.total,0,0,0,1),n=n.translate(0),n=R(o-n),u=r.xAxis[0].translate(this.x)+e,a=r.plotHeight,s={x:i?s?o:o-n:u,y:i?a-u-t:s?a-o-n:a-o,width:i?n:t,height:i?t:n};if(i=this.label)i.align(this.alignOptions,null,s),s=i.alignAttr,i[this.options.crop===!1||r.isInsidePlot(s.x,s.y)?"show":"hide"](!0)}},zt.prototype.getStacks=function(){var e=this;$t(e.yAxis,function(e){e.stacks&&e.hasVisibleSeries&&(e.oldStacks=e.stacks)}),$t(e.series,function(t){t.options.stacking&&(t.visible===!0||e.options.chart.ignoreHiddenSeries===!1)&&(t.stackKey=t.type+qt(t.options.stack,""))})},hn.prototype.buildStacks=function(){var e=this.series,t=qt(this.options.reversedStacks,!0),n=e.length;if(!this.isXAxis){for(this.usePercentage=!1;n--;)e[t?n:e.length-n-1].setStackedPoints();if(this.usePercentage)for(n=0;n<e.length;n++)e[n].setPercentStacks()}},hn.prototype.renderStackTotals=function(){var e=this.chart,t=e.renderer,n=this.stacks,r,i,s=this.stackTotalGroup;s||(this.stackTotalGroup=s=t.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),s.translate(e.plotLeft,e.plotTop);for(r in n)for(i in e=n[r],e)e[i].render(s)},hn.prototype.resetStacks=function(){var e=this.stacks,t,n;if(!this.isXAxis)for(t in e)for(n in e[t])e[t][n].touched<this.stacksTouched?(e[t][n].destroy(),delete e[t][n]):(e[t][n].total=null,e[t][n].cum=0)},hn.prototype.cleanStacks=function(){var e,t,n;if(!this.isXAxis){this.oldStacks&&(e=this.stacks=this.oldStacks);for(t in e)for(n in e[t])e[t][n].cum=e[t][n].total}},xn.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var e=this.processedXData,t=this.processedYData,n=[],r=t.length,i=this.options,s=i.threshold,o=i.startFromThreshold?s:0,u=i.stack,i=i.stacking,a=this.stackKey,f="-"+a,l=this.negStacks,c=this.yAxis,h=c.stacks,p=c.oldStacks,d,v,m,g,y,b;c.stacksTouched+=1;for(g=0;g<r;g++)y=e[g],b=t[g],m=this.index+","+g,v=(d=l&&b<(o?0:s))?f:a,h[v]||(h[v]={}),h[v][y]||(p[v]&&p[v][y]?(h[v][y]=p[v][y],h[v][y].total=null):h[v][y]=new M(c,c.options.stackLabels,d,y,u)),v=h[v][y],v.points[m]=[qt(v.cum,o)],v.touched=c.stacksTouched,i==="percent"?(d=d?a:f,l&&h[d]&&h[d][y]?(d=h[d][y],v.total=d.total=I(d.total,v.total)+R(b)||0):v.total=C(v.total+(R(b)||0))):v.total=C(v.total+(b||0)),v.cum=qt(v.cum,o)+(b||0),v.points[m].push(v.cum),n[g]=v.cum;i==="percent"&&(c.usePercentage=!0),this.stackedYData=n,c.oldStacks={}}},xn.prototype.setPercentStacks=function(){var e=this,t=e.stackKey,n=e.yAxis.stacks,r=e.processedXData;$t([t,"-"+t],function(t){var i;for(var s=r.length,o,u;s--;)if(o=r[s],i=(u=n[t]&&n[t][o])&&u.points[e.index+","+s],o=i)u=u.total?100/u.total:0,o[0]=C(o[0]*u),o[1]=C(o[1]*u),e.stackedYData[s]=o[1]})},It(zt.prototype,{addSeries:function(e,t,n){var r,i=this;return e&&(t=qt(t,!0),Zt(i,"addSeries",{options:e},function(){r=i.initSeries(e),i.isDirtyLegend=!0,i.linkSeries(),t&&i.redraw(n)})),r},addAxis:function(t,n,r,i){var s=n?"xAxis":"yAxis",o=this.options;new hn(this,e(t,{index:this[s].length,isX:n})),o[s]=c(o[s]||{}),o[s].push(t),qt(r,!0)&&this.redraw(i)},showLoading:function(e){var t=this,n=t.options,r=t.loadingDiv,i=n.loading,s=function(){r&&h(r,{left:t.plotLeft+"px",top:t.plotTop+"px",width:t.plotWidth+"px",height:t.plotHeight+"px"})};r||(t.loadingDiv=r=p(vt,{className:"highcharts-loading"},It(i.style,{zIndex:10,display:mt}),t.container),t.loadingSpan=p("span",null,i.labelStyle,r),Gt(t,"redraw",s)),t.loadingSpan.innerHTML=e||n.lang.loading,t.loadingShown||(h(r,{opacity:0,display:""}),tn(r,{opacity:i.style.opacity},{duration:i.showDuration||0}),t.loadingShown=!0),s()},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&tn(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){h(t,{display:mt})}}),this.loadingShown=!1}}),It(Sn.prototype,{update:function(e,t,n,s){function o(){u.applyOptions(e),u.y===null&&f&&(u.graphic=f.destroy()),r(e)&&!i(e)&&(u.redraw=function(){f&&f.element&&e&&e.marker&&e.marker.symbol&&(u.graphic=f.destroy()),e&&e.dataLabels&&u.dataLabel&&(u.dataLabel=u.dataLabel.destroy()),u.redraw=null}),l=u.index,a.updateParallelArrays(u,l),p&&u.name&&(p[u.x]=u.name),h.data[l]=u.options,a.isDirty=a.isDirtyData=!0,!a.fixedBox&&a.hasCartesianSeries&&(c.isDirtyBox=!0),h.legendType==="point"&&(c.isDirtyLegend=!0),t&&c.redraw(n)}var u=this,a=u.series,f=u.graphic,l,c=a.chart,h=a.options,p=a.xAxis&&a.xAxis.names,t=qt(t,!0);s===!1?o():u.firePointEvent("update",{options:e},o)},remove:function(e,t){this.series.removePoint(Vt(this,this.series.data),e,t)}}),It(xn.prototype,{addPoint:function(e,t,n,r){var i=this,s=i.options,o=i.data,u=i.graph,a=i.area,f=i.chart,l=i.xAxis&&i.xAxis.names,c=u&&u.shift||0,h=["graph","area"],u=s.data,p,d=i.xData;k(r,f);if(n){for(r=i.zones.length;r--;)h.push("zoneGraph"+r,"zoneArea"+r);$t(h,function(e){i[e]&&(i[e].shift=c+1)})}a&&(a.isArea=!0),t=qt(t,!0),a={series:i},i.pointClass.prototype.applyOptions.apply(a,[e]),h=a.x,r=d.length;if(i.requireSorting&&h<d[r-1])for(p=!0;r&&d[r-1]>h;)r--;i.updateParallelArrays(a,"splice",r,0,0),i.updateParallelArrays(a,r),l&&a.name&&(l[h]=a.name),u.splice(r,0,e),p&&(i.data.splice(r,0,null),i.processData()),s.legendType==="point"&&i.generatePoints(),n&&(o[0]&&o[0].remove?o[0].remove(!1):(o.shift(),i.updateParallelArrays(a,"shift"),u.shift())),i.isDirty=!0,i.isDirtyData=!0,t&&(i.getAttribs(),f.redraw())},removePoint:function(e,t,n){var r=this,i=r.data,s=i[e],o=r.points,u=r.chart,a=function(){i.length===o.length&&o.splice(e,1),i.splice(e,1),r.options.data.splice(e,1),r.updateParallelArrays(s||{series:r},"splice",e,1),s&&s.destroy(),r.isDirty=!0,r.isDirtyData=!0,t&&u.redraw()};k(n,u),t=qt(t,!0),s?s.firePointEvent("remove",null,a):a()},remove:function(e,t){var n=this,r=n.chart,e=qt(e,!0);n.isRemoving||(n.isRemoving=!0,Zt(n,"remove",null,function(){n.destroy(),r.isDirtyLegend=r.isDirtyBox=!0,r.linkSeries(),e&&r.redraw(t)})),n.isRemoving=!1},update:function(t,n){var r=this,i=this.chart,s=this.userOptions,o=this.type,u=jt[o].prototype,a=["group","markerGroup","dataLabelsGroup"],f;if(t.type&&t.type!==o||t.zIndex!==void 0)a.length=0;$t(a,function(e){a[e]=r[e],delete r[e]}),t=e(s,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},t),this.remove(!1);for(f in u)this[f]=_;It(this,jt[t.type||o].prototype),$t(a,function(e){r[e]=a[e]}),this.init(i,t),i.linkSeries(),qt(n,!0)&&i.redraw(!1)}}),It(hn.prototype,{update:function(t,n){var r=this.chart,t=r.options[this.coll][this.options.index]=e(this.userOptions,t);this.destroy(!0),this._addedPlotLB=this.chart._labelPanes=_,this.init(r,It(t,{events:_})),r.isDirtyBox=!0,qt(n,!0)&&r.redraw()},remove:function(e){for(var t=this.chart,n=this.coll,r=this.series,i=r.length;i--;)r[i]&&r[i].remove(!1);a(t.axes,this),a(t[n],this),t.options[n].splice(this.options.index,1),$t(t[n],function(e,t){e.options.index=t}),this.destroy(),t.isDirtyBox=!0,qt(e,!0)&&t.redraw()},setTitle:function(e,t){this.update({title:e},t)},setCategories:function(e,t){this.update({categories:e},t)}});var Tn=d(xn);jt.line=Tn,rn.area=e(Ut,{threshold:0});var Nn=d(xn,{type:"area",getSegments:function(){var e=this,t=[],n=[],r=[],i=this.xAxis,s=this.yAxis,o=s.stacks[this.stackKey],u={},a,f,l=this.points,c=this.options.connectNulls,h,p;if(this.options.stacking&&!this.cropped){for(h=0;h<l.length;h++)u[l[h].x]=l[h];for(p in o)o[p].total!==null&&r.push(+p);r.sort(function(e,t){return e-t}),$t(r,function(t){var r=0,l;if(!c||u[t]&&u[t].y!==null)if(u[t])n.push(u[t]);else{for(h=e.index;h<=s.series.length;h++)if(l=o[t].points[h+","+t]){r=l[1];break}a=i.translate(t),f=s.toPixels(r,!0),n.push({y:null,plotX:a,clientX:a,plotY:f,yBottom:f,onMouseOver:ht})}}),n.length&&t.push(n)}else xn.prototype.getSegments.call(this),t=this.segments;this.segments=t},getSegmentPath:function(e){var t=xn.prototype.getSegmentPath.call(this,e),n=[].concat(t),r,i=this.options;r=t.length;var s=this.yAxis.getThreshold(i.threshold),o;r===3&&n.push("L",t[1],t[2]);if(i.stacking&&!this.closedStacks)for(r=e.length-1;r>=0;r--)o=qt(e[r].yBottom,s),r<e.length-1&&i.step&&n.push(e[r+1].plotX,o),n.push(e[r].plotX,o);else this.closeSegment(n,e,s);return this.areaPath=this.areaPath.concat(n),t},closeSegment:function(e,t,n){e.push("L",t[t.length-1].plotX,n,"L",t[0].plotX,n)},drawGraph:function(){this.areaPath=[],xn.prototype.drawGraph.apply(this);var e=this,t=this.areaPath,n=this.options,r=[["area",this.color,n.fillColor]];$t(this.zones,function(t,i){r.push(["zoneArea"+i,t.color||e.color,t.fillColor||n.fillColor])}),$t(r,function(r){var i=r[0],s=e[i];s?s.animate({d:t}):e[i]=e.chart.renderer.path(t).attr({fill:qt(r[2],an(r[1]).setOpacity(qt(n.fillOpacity,.75)).get()),zIndex:0}).add(e.group)})},drawLegendSymbol:ln.drawRectangle});jt.area=Nn,rn.spline=e(Ut),Tn=d(xn,{type:"spline",getPointSpline:function(e,t,n){var r=t.plotX,i=t.plotY,s=e[n-1],o=e[n+1],u,a,f,l;if(s&&o){e=s.plotY,f=o.plotX;var o=o.plotY,c;u=(1.5*r+s.plotX)/2.5,a=(1.5*i+e)/2.5,f=(1.5*r+f)/2.5,l=(1.5*i+o)/2.5,c=(l-a)*(f-r)/(f-u)+i-l,a+=c,l+=c,a>e&&a>i?(a=I(e,i),l=2*i-a):a<e&&a<i&&(a=q(e,i),l=2*i-a),l>o&&l>i?(l=I(o,i),a=2*i-l):l<o&&l<i&&(l=q(o,i),a=2*i-l),t.rightContX=f,t.rightContY=l}return n?(t=["C",s.rightContX||s.plotX,s.rightContY||s.plotY,u||r,a||i,r,i],s.rightContX=s.rightContY=null):t=["M",r,i],t}}),jt.spline=Tn,rn.areaspline=e(rn.area),Nn=Nn.prototype,Tn=d(Tn,{type:"areaspline",closedStacks:!0,getSegmentPath:Nn.getSegmentPath,closeSegment:Nn.closeSegment,drawGraph:Nn.drawGraph,drawLegendSymbol:ln.drawRectangle}),jt.areaspline=Tn,rn.column=e(Ut,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0}),Tn=d(xn,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){xn.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&$t(t.series,function(t){t.type===e.type&&(t.isDirty=!0)})},getColumnMetrics:function(){var e=this,t=e.options,n=e.xAxis,r=e.yAxis,i=n.reversed,s,o={},u,a=0;t.grouping===!1?a=1:$t(e.chart.series,function(t){var n=t.options,i=t.yAxis;t.type===e.type&&t.visible&&r.len===i.len&&r.pos===i.pos&&(n.stacking?(s=t.stackKey,o[s]===_&&(o[s]=a++),u=o[s]):n.grouping!==!1&&(u=a++),t.columnIndex=u)});var f=q(R(n.transA)*(n.ordinalSlope||t.pointRange||n.closestPointRange||n.tickInterval||1),n.len),l=f*t.groupPadding,c=(f-2*l)/a,t=q(t.maxPointWidth||n.len,qt(t.pointWidth,c*(1-2*t.pointPadding)));return e.columnMetrics={width:t,offset:(c-t)/2+(l+((i?a-(e.columnIndex||0):e.columnIndex)||0)*c-f/2)*(i?-1:1)}},translate:function(){var e=this,t=e.chart,n=e.options,r=e.borderWidth=qt(n.borderWidth,e.closestPointRange*e.xAxis.transA<2?0:1),i=e.yAxis,s=e.translatedThreshold=i.getThreshold(n.threshold),o=qt(n.minPointLength,5),u=e.getColumnMetrics(),a=u.width,f=e.barW=I(a,1+2*r),l=e.pointXOffset=u.offset,c=-(r%2?.5:0),h=r%2?.5:1;t.inverted&&(s-=.5,t.renderer.isVML&&(h+=1)),n.pointPadding&&(f=F(f)),xn.prototype.translate.apply(e),$t(e.points,function(n){var r=qt(n.yBottom,s),u=999+R(r),u=q(I(-u,n.plotY),i.len+u),p=n.plotX+l,d=f,v=q(u,r),m,g;m=I(u,r)-v,R(m)<o&&o&&(m=o,g=!i.reversed&&!n.negative||i.reversed&&n.negative,v=B(R(v-s)>o?r-o:s-(g?o:0))),n.barX=p,n.pointWidth=a,d=B(p+d)+c,p=B(p)+c,d-=p,r=R(v)<.5,m=q(B(v+m)+h,9e4),v=B(v)+h,m-=v,r&&(v-=1,m+=1),n.tooltipPos=t.inverted?[i.len+i.pos-t.plotLeft-u,e.xAxis.len-p-d/2,m]:[p+d/2,u+i.pos-t.plotTop,m],n.shapeType="rect",n.shapeArgs={x:p,y:v,width:d,height:m}})},getSymbol:ht,drawLegendSymbol:ln.drawRectangle,drawGraph:ht,drawPoints:function(){var t=this,n=this.chart,r=t.options,i=n.renderer,s=r.animationLimit||250,o,u;$t(t.points,function(a){var l=a.plotY,c=a.graphic;l!==_&&!isNaN(l)&&a.y!==null?(o=a.shapeArgs,l=f(t.borderWidth)?{"stroke-width":t.borderWidth}:{},u=a.pointAttr[a.selected?"select":""]||t.pointAttr[""],c?(nn(c),c.attr(l)[n.pointCount<s?"animate":"attr"](e(o))):a.graphic=i[a.shapeType](o).attr(l).attr(u).add(t.group).shadow(r.shadow,null,r.stacking&&!r.borderRadius)):c&&(a.graphic=c.destroy())})},animate:function(e){var t=this.yAxis,n=this.options,r=this.chart.inverted,i={};et&&(e?(i.scaleY=.001,e=q(t.pos+t.len,I(t.pos,t.toPixels(n.threshold))),r?i.translateX=e-t.len:i.translateY=e,this.group.attr(i)):(i.scaleY=1,i[r?"translateX":"translateY"]=t.pos,this.group.animate(i,this.options.animation),this.animate=null))},remove:function(){var e=this,t=e.chart;t.hasRendered&&$t(t.series,function(t){t.type===e.type&&(t.isDirty=!0)}),xn.prototype.remove.apply(e,arguments)}}),jt.column=Tn,rn.bar=e(rn.column),Nn=d(Tn,{type:"bar",inverted:!0}),jt.bar=Nn,rn.scatter=e(Ut,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}"></span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),Nn=d(xn,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&xn.prototype.drawGraph.call(this)}}),jt.scatter=Nn,rn.pie=e(Ut,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.y===null?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}}),Ut={type:"pie",isCartesian:!1,pointClass:d(Sn,{init:function(){Sn.prototype.init.apply(this,arguments);var e=this,t;return It(e,{visible:e.visible!==!1,name:qt(e.name,"Slice")}),t=function(t){e.slice(t.type==="select")},Gt(e,"select",t),Gt(e,"unselect",t),e},setVisible:function(e,t){var n=this,r=n.series,i=r.chart,s=r.options.ignoreHiddenPoint,t=qt(t,s);e!==n.visible&&(n.visible=n.options.visible=e=e===_?!n.visible:e,r.options.data[Vt(n,r.data)]=n.options,$t(["graphic","dataLabel","connector","shadowGroup"],function(t){n[t]&&n[t][e?"show":"hide"](!0)}),n.legendItem&&i.legend.colorizeItem(n,e),!e&&n.state==="hover"&&n.setState(""),s&&(r.isDirty=!0),t&&i.redraw())},slice:function(e,t,n){var r=this.series;k(n,r.chart),qt(t,!0),this.sliced=this.options.sliced=e=f(e)?e:!this.sliced,r.options.data[Vt(this,r.data)]=this.options,e=e?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(e),this.shadowGroup&&this.shadowGroup.animate(e)},haloPath:function(e){var t=this.shapeArgs,n=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(n.plotLeft+t.x,n.plotTop+t.y,t.r+e,t.r+e,{innerR:this.shapeArgs.r,start:t.start,end:t.end})}}),requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},animate:function(e){var t=this,n=t.points,r=t.startAngleRad;e||($t(n,function(e){var n=e.graphic,i=e.shapeArgs;n&&(n.attr({r:e.startR||t.center[3]/2,start:r,end:r}),n.animate({r:i.r,start:i.start,end:i.end},t.options.animation))}),t.animate=null)},setData:function(e,t,n,r){xn.prototype.setData.call(this,e,!1,n,r),this.processData(),this.generatePoints(),qt(t,!0)&&this.chart.redraw(n)},updateTotals:function(){var e,t=0,n=this.points,r=n.length,i,s=this.options.ignoreHiddenPoint;for(e=0;e<r;e++)i=n[e],t+=s&&!i.visible?0:i.y;this.total=t;for(e=0;e<r;e++)i=n[e],i.percentage=t>0&&(i.visible||!s)?i.y/t*100:0,i.total=t},generatePoints:function(){xn.prototype.generatePoints.call(this),this.updateTotals()},translate:function(e){this.generatePoints();var t=0,n=this.options,r=n.slicedOffset,i=r+n.borderWidth,s,o,u,a=n.startAngle||0,f=this.startAngleRad=W/180*(a-90),a=(this.endAngleRad=W/180*(qt(n.endAngle,a+360)-90))-f,l=this.points,c=n.dataLabels.distance,n=n.ignoreHiddenPoint,h,p=l.length,d;e||(this.center=e=this.getCenter()),this.getX=function(t,n){return u=H.asin(q((t-e[1])/(e[2]/2+c),1)),e[0]+(n?-1:1)*U(u)*(e[2]/2+c)};for(h=0;h<p;h++){d=l[h],s=f+t*a;if(!n||d.visible)t+=d.percentage/100;o=f+t*a,d.shapeType="arc",d.shapeArgs={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:B(s*1e3)/1e3,end:B(o*1e3)/1e3},u=(o+s)/2,u>1.5*W?u-=2*W:u<-W/2&&(u+=2*W),d.slicedTranslation={translateX:B(U(u)*r),translateY:B(z(u)*r)},s=U(u)*e[2]/2,o=z(u)*e[2]/2,d.tooltipPos=[e[0]+s*.7,e[1]+o*.7],d.half=u<-W/2||u>W/2?1:0,d.angle=u,i=q(i,c/2),d.labelPos=[e[0]+s+U(u)*c,e[1]+o+z(u)*c,e[0]+s+U(u)*i,e[1]+o+z(u)*i,e[0]+s,e[1]+o,c<0?"center":d.half?"right":"left",u]}},drawGraph:null,drawPoints:function(){var e=this,t=e.chart.renderer,n,r,i=e.options.shadow,s,o,u;i&&!e.shadowGroup&&(e.shadowGroup=t.g("shadow").add(e.group)),$t(e.points,function(a){a.y!==null&&(r=a.graphic,o=a.shapeArgs,s=a.shadowGroup,i&&!s&&(s=a.shadowGroup=t.g("shadow").add(e.shadowGroup)),n=a.sliced?a.slicedTranslation:{translateX:0,translateY:0},s&&s.attr(n),r?r.animate(It(o,n)):(u={"stroke-linejoin":"round"},a.visible||(u.visibility="hidden"),a.graphic=r=t[a.shapeType](o).setRadialReference(e.center).attr(a.pointAttr[a.selected?"select":""]).attr(u).attr(n).add(e.group).shadow(i,s)))})},searchPoint:ht,sortByAngle:function(e,t){e.sort(function(e,n){return e.angle!==void 0&&(n.angle-e.angle)*t})},drawLegendSymbol:ln.drawRectangle,getCenter:En.getCenter,getSymbol:ht},Ut=d(xn,Ut),jt.pie=Ut,xn.prototype.drawDataLabels=function(){var t=this,n=t.options,r=n.cursor,i=n.dataLabels,s=t.points,o,u,a=t.hasRendered||0,l,c,h=t.chart.renderer;if(i.enabled||t._hasPointLabels)t.dlProcessOptions&&t.dlProcessOptions(i),c=t.plotGroup("dataLabelsGroup","data-labels",i.defer?"hidden":"visible",i.zIndex||6),qt(i.defer,!0)&&(c.attr({opacity:+a}),a||Gt(t,"afterAnimate",function(){t.visible&&c.show(),c[n.animation?"animate":"attr"]({opacity:1},{duration:200})})),u=i,$t(s,function(s){var a,p=s.dataLabel,d,v,m=s.connector,y=!0,b,w={};o=s.dlOptions||s.options&&s.options.dataLabels,a=qt(o&&o.enabled,u.enabled);if(p&&!a)s.dataLabel=p.destroy();else if(a){i=e(u,o),b=i.style,a=i.rotation,d=s.getLabelConfig(),l=i.format?g(i.format,d):i.formatter.call(d,i),b.color=qt(i.color,b.color,t.color,"black");if(p){if(f(l))p.attr({text:l}),y=!1;else if(s.dataLabel=p=p.destroy(),m)s.connector=m.destroy()}else if(f(l)){p={fill:i.backgroundColor,stroke:i.borderColor,"stroke-width":i.borderWidth,r:i.borderRadius||0,rotation:a,padding:i.padding,zIndex:1},b.color==="contrast"&&(w.color=i.inside||i.distance<0||n.stacking?h.getContrast(s.color||t.color):"#000000"),r&&(w.cursor=r);for(v in p)p[v]===_&&delete p[v];p=s.dataLabel=h[a?"text":"label"](l,0,-999,i.shape,null,null,i.useHTML).attr(p).css(It(b,w)).add(c).shadow(i.shadow)}p&&t.alignDataLabel(s,p,i,null,y)}})},xn.prototype.alignDataLabel=function(e,t,n,r,i){var s=this.chart,o=s.inverted,u=qt(e.plotX,-999),a=qt(e.plotY,-999),f=t.getBBox(),l=s.renderer.fontMetrics(n.style.fontSize).b,c=this.visible&&(e.series.forceDL||s.isInsidePlot(u,B(a),o)||r&&s.isInsidePlot(u,o?r.x+1:r.y+r.height-1,o));c&&(r=It({x:o?s.plotWidth-a:u,y:B(o?s.plotHeight-u:a),width:0,height:0},r),It(n,{width:f.width,height:f.height}),n.rotation?(e=s.renderer.rotCorr(l,n.rotation),t[i?"attr":"animate"]({x:r.x+n.x+r.width/2+e.x,y:r.y+n.y+r.height/2}).attr({align:n.align})):(t.align(n,null,r),o=t.alignAttr,qt(n.overflow,"justify")==="justify"?this.justifyDataLabel(t,n,o,f,r,i):qt(n.crop,!0)&&(c=s.isInsidePlot(o.x,o.y)&&s.isInsidePlot(o.x+f.width,o.y+f.height)),n.shape&&t.attr({anchorX:e.plotX,anchorY:e.plotY}))),c||(t.attr({y:-999}),t.placed=!1)},xn.prototype.justifyDataLabel=function(e,t,n,r,i,s){var o=this.chart,u=t.align,a=t.verticalAlign,f,l,c=e.box?0:e.padding||0;f=n.x+c,f<0&&(u==="right"?t.align="left":t.x=-f,l=!0),f=n.x+r.width-c,f>o.plotWidth&&(u==="left"?t.align="right":t.x=o.plotWidth-f,l=!0),f=n.y+c,f<0&&(a==="bottom"?t.verticalAlign="top":t.y=-f,l=!0),f=n.y+r.height-c,f>o.plotHeight&&(a==="top"?t.verticalAlign="bottom":t.y=o.plotHeight-f,l=!0),l&&(e.placed=!s,e.align(t,null,i))},jt.pie&&(jt.pie.prototype.drawDataLabels=function(){var e=this,t=e.data,n,r=e.chart,i=e.options.dataLabels,s=qt(i.connectorPadding,10),o=qt(i.connectorWidth,1),u=r.plotWidth,a=r.plotHeight,f,l,c=qt(i.softConnector,!0),h=i.distance,p=e.center,d=p[2]/2,v=p[1],m=h>0,g,y,b,w=[[],[]],E,x,T,N,C,k=[0,0,0,0],L=function(e,t){return t.y-e.y};if(e.visible&&(i.enabled||e._hasPointLabels)){xn.prototype.drawDataLabels.apply(e),$t(t,function(e){e.dataLabel&&e.visible&&w[e.half].push(e)});for(N=2;N--;){var A=[],O=[],M=w[N],_=M.length,D;if(_){e.sortByAngle(M,N-.5);for(C=t=0;!t&&M[C];)t=M[C]&&M[C].dataLabel&&(M[C].dataLabel.getBBox().height||21),C++;if(h>0){y=q(v+d+h,r.plotHeight);for(C=I(0,v-d-h);C<=y;C+=t)A.push(C);y=A.length;if(_>y){n=[].concat(M),n.sort(L);for(C=_;C--;)n[C].rank=C;for(C=_;C--;)M[C].rank>=y&&M.splice(C,1);_=M.length}for(C=0;C<_;C++){n=M[C],b=n.labelPos,n=9999;var P,H;for(H=0;H<y;H++)P=R(A[H]-b[1]),P<n&&(n=P,D=H);if(D<C&&A[C]!==null)D=C;else for(y<_-C+D&&A[C]!==null&&(D=y-_+C);A[D]===null;)D++;O.push({i:D,y:A[D]}),A[D]=null}O.sort(L)}for(C=0;C<_;C++){n=M[C],b=n.labelPos,g=n.dataLabel,T=n.visible===!1?"hidden":"inherit",n=b[1];if(h>0){if(y=O.pop(),D=y.i,x=y.y,n>x&&A[D+1]!==null||n<x&&A[D-1]!==null)x=q(I(0,n),r.plotHeight)}else x=n;E=i.justify?p[0]+(N?-1:1)*(d+h):e.getX(x===v-d-h||x===v+d+h?n:x,N),g._attr={visibility:T,align:b[6]},g._pos={x:E+i.x+({left:s,right:-s}[b[6]]||0),y:x+i.y-10},g.connX=E,g.connY=x,this.options.size===null&&(y=g.width,E-y<s?k[3]=I(B(y-E+s),k[3]):E+y>u-s&&(k[1]=I(B(E+y-u+s),k[1])),x-t/2<0?k[0]=I(B(-x+t/2),k[0]):x+t/2>a&&(k[2]=I(B(x+t/2-a),k[2])))}}}if(S(k)===0||this.verifyDataLabelOverflow(k))this.placeDataLabels(),m&&o&&$t(this.points,function(t){f=t.connector,b=t.labelPos,(g=t.dataLabel)&&g._pos&&t.visible?(T=g._attr.visibility,E=g.connX,x=g.connY,l=c?["M",E+(b[6]==="left"?5:-5),x,"C",E,x,2*b[2]-b[4],2*b[3]-b[5],b[2],b[3],"L",b[4],b[5]]:["M",E+(b[6]==="left"?5:-5),x,"L",b[2],b[3],"L",b[4],b[5]],f?(f.animate({d:l}),f.attr("visibility",T)):t.connector=f=e.chart.renderer.path(l).attr({"stroke-width":o,stroke:i.connectorColor||t.color||"#606060",visibility:T}).add(e.dataLabelsGroup)):f&&(t.connector=f.destroy())})}},jt.pie.prototype.placeDataLabels=function(){$t(this.points,function(e){var t=e.dataLabel;t&&e.visible&&((e=t._pos)?(t.attr(t._attr),t[t.moved?"animate":"attr"](e),t.moved=!0):t&&t.attr({y:-999}))})},jt.pie.prototype.alignDataLabel=ht,jt.pie.prototype.verifyDataLabelOverflow=function(e){var t=this.center,n=this.options,r=n.center,i=n.minSize||80,s=i,o;return r[0]!==null?s=I(t[2]-I(e[1],e[3]),i):(s=I(t[2]-e[1]-e[3],i),t[0]+=(e[3]-e[1])/2),r[1]!==null?s=I(q(s,t[2]-I(e[0],e[2])),i):(s=I(q(s,t[2]-e[0]-e[2]),i),t[1]+=(e[0]-e[2])/2),s<t[2]?(t[2]=s,t[3]=/%$/.test(n.innerSize||0)?s*parseFloat(n.innerSize||0)/100:parseFloat(n.innerSize||0),this.translate(t),$t(this.points,function(e){e.dataLabel&&(e.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):o=!0,o}),jt.column&&(jt.column.prototype.alignDataLabel=function(t,n,r,i,s){var o=this.chart.inverted,u=t.series,a=t.dlBox||t.shapeArgs,f=qt(t.below,t.plotY>qt(this.translatedThreshold,u.yAxis.len)),l=qt(r.inside,!!this.options.stacking);a&&(i=e(a),o&&(i={x:u.yAxis.len-i.y-i.height,y:u.xAxis.len-i.x-i.width,width:i.height,height:i.width}),!l)&&(o?(i.x+=f?0:i.width,i.width=0):(i.y+=f?i.height:0,i.height=0)),r.align=qt(r.align,!o||l?"center":f?"right":"left"),r.verticalAlign=qt(r.verticalAlign,o||l?"middle":f?"top":"bottom"),xn.prototype.alignDataLabel.call(this,t,n,r,i,s)}),function(e){var t=e.Chart,n=e.each,r=e.pick,i=HighchartsAdapter.addEvent;t.prototype.callbacks.push(function(e){function t(){var t=[];n(e.series,function(e){var i=e.options.dataLabels,s=e.dataLabelCollections||["dataLabel"];(i.enabled||e._hasPointLabels)&&!i.allowOverlap&&e.visible&&n(s,function(i){n(e.points,function(e){e[i]&&(e[i].labelrank=r(e.labelrank,e.shapeArgs&&e.shapeArgs.height),t.push(e[i]))})})}),e.hideOverlappingLabels(t)}t(),i(e,"redraw",t)}),t.prototype.hideOverlappingLabels=function(e){var t=e.length,r,i,s,o,u,a,f;for(i=0;i<t;i++)if(r=e[i])r.oldOpacity=r.opacity,r.newOpacity=1;e.sort(function(e,t){return(t.labelrank||0)-(e.labelrank||0)});for(i=0;i<t;i++){s=e[i];for(r=i+1;r<t;++r)if(o=e[r],s&&o&&s.placed&&o.placed&&s.newOpacity!==0&&o.newOpacity!==0&&(u=s.alignAttr,a=o.alignAttr,f=2*(s.box?0:s.padding),u=!(a.x>u.x+(s.width-f)||a.x+(o.width-f)<u.x||a.y>u.y+(s.height-f)||a.y+(o.height-f)<u.y)))(s.labelrank<o.labelrank?s:o).newOpacity=0}n(e,function(e){var t,n;e&&(n=e.newOpacity,e.oldOpacity!==n&&e.placed&&(n?e.show(!0):t=function(){e.hide()},e.alignAttr.opacity=n,e[e.isOld?"animate":"attr"](e.alignAttr,null,t)),e.isOld=!0)})}}(Ft),Ut=Ft.TrackerMixin={drawTrackerPoint:function(){var e=this,t=e.chart,n=t.pointer,r=e.options.cursor,i=r&&{cursor:r},s=function(e){for(var n=e.target,r;n&&!r;)r=n.point,n=n.parentNode;r!==_&&r!==t.hoverPoint&&r.onMouseOver(e)};$t(e.points,function(e){e.graphic&&(e.graphic.element.point=e),e.dataLabel&&(e.dataLabel.element.point=e)}),e._hasTracking||($t(e.trackerGroups,function(t)
{e[t]&&(e[t].addClass("highcharts-tracker").on("mouseover",s).on("mouseout",function(e){n.onTrackerMouseOut(e)}).css(i),it)&&e[t].on("touchstart",s)}),e._hasTracking=!0)},drawTrackerGraph:function(){var e=this,t=e.options,n=t.trackByArea,r=[].concat(n?e.areaPath:e.graphPath),i=r.length,s=e.chart,o=s.pointer,u=s.renderer,a=s.options.tooltip.snap,f=e.tracker,l=t.cursor,c=l&&{cursor:l},l=e.singlePoints,h,p=function(){s.hoverSeries!==e&&e.onMouseOver()},d="rgba(192,192,192,"+(et?1e-4:.002)+")";if(i&&!n)for(h=i+1;h--;)r[h]==="M"&&r.splice(h+1,0,r[h+1]-a,r[h+2],"L"),(h&&r[h]==="M"||h===i)&&r.splice(h,0,"L",r[h-2]+a,r[h-1]);for(h=0;h<l.length;h++)i=l[h],r.push("M",i.plotX-a,i.plotY,"L",i.plotX+a,i.plotY);f?f.attr({d:r}):(e.tracker=u.path(r).attr({"stroke-linejoin":"round",visibility:e.visible?"visible":"hidden",stroke:d,fill:n?d:mt,"stroke-width":t.lineWidth+(n?0:2*a),zIndex:2}).add(e.group),$t([e.tracker,e.markerGroup],function(e){e.addClass("highcharts-tracker").on("mouseover",p).on("mouseout",function(e){o.onTrackerMouseOut(e)}).css(c),it&&e.on("touchstart",p)}))}},jt.column&&(Tn.prototype.drawTracker=Ut.drawTrackerPoint),jt.pie&&(jt.pie.prototype.drawTracker=Ut.drawTrackerPoint),jt.scatter&&(Nn.prototype.drawTracker=Ut.drawTrackerPoint),It(wn.prototype,{setItemEvents:function(e,t,n,r,i){var s=this;(n?t:e.legendGroup).on("mouseover",function(){e.setState("hover"),t.css(s.options.itemHoverStyle)}).on("mouseout",function(){t.css(e.visible?r:i),e.setState()}).on("click",function(t){var n=function(){e.setVisible()},t={browserEvent:t};e.firePointEvent?e.firePointEvent("legendItemClick",t,n):Zt(e,"legendItemClick",t,n)})},createCheckboxForItem:function(e){e.checkbox=p("input",{type:"checkbox",checked:e.selected,defaultChecked:e.selected},this.options.itemCheckboxStyle,this.chart.container),Gt(e.checkbox,"click",function(t){Zt(e.series||e,"checkboxClick",{checked:t.target.checked,item:e},function(){e.select()})})}}),at.legend.itemStyle.cursor="pointer",It(zt.prototype,{showResetZoom:function(){var e=this,t=at.lang,n=e.options.chart.resetZoomButton,r=n.theme,i=r.states,s=n.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=e.renderer.button(t.resetZoom,null,null,function(){e.zoomOut()},r,i&&i.hover).attr({align:n.position.align,title:t.resetZoomTitle}).add().align(n.position,!1,s)},zoomOut:function(){var e=this;Zt(e,"selection",{resetSelection:!0},function(){e.zoom()})},zoom:function(e){var t,n=this.pointer,i=!1,s;!e||e.resetSelection?$t(this.axes,function(e){t=e.zoom()}):$t(e.xAxis.concat(e.yAxis),function(e){var r=e.axis,s=r.isXAxis;if(n[s?"zoomX":"zoomY"]||n[s?"pinchX":"pinchY"])t=r.zoom(e.min,e.max),r.displayBtn&&(i=!0)}),s=this.resetZoomButton,i&&!s?this.showResetZoom():!i&&r(s)&&(this.resetZoomButton=s.destroy()),t&&this.redraw(qt(this.options.chart.animation,e&&e.animation,this.pointCount<100))},pan:function(e,t){var n=this,r=n.hoverPoints,i;r&&$t(r,function(e){e.setState()}),$t(t==="xy"?[1,0]:[1],function(t){var r=e[t?"chartX":"chartY"],s=n[t?"xAxis":"yAxis"][0],o=n[t?"mouseDownX":"mouseDownY"],u=(s.pointRange||0)/2,a=s.getExtremes(),f=s.toValue(o-r,!0)+u,u=s.toValue(o+n[t?"plotWidth":"plotHeight"]-r,!0)-u,o=o>r;s.series.length&&(o||f>q(a.dataMin,a.min))&&(!o||u<I(a.dataMax,a.max))&&(s.setExtremes(f,u,!1,!1,{trigger:"pan"}),i=!0),n[t?"mouseDownX":"mouseDownY"]=r}),i&&n.redraw(!1),h(n.container,{cursor:"move"})}}),It(Sn.prototype,{select:function(e,t){var n=this,r=n.series,i=r.chart,e=qt(e,!n.selected);n.firePointEvent(e?"select":"unselect",{accumulate:t},function(){n.selected=n.options.selected=e,r.options.data[Vt(n,r.data)]=n.options,n.setState(e&&"select"),t||$t(i.getSelectedPoints(),function(e){e.selected&&e!==n&&(e.selected=e.options.selected=!1,r.options.data[Vt(e,r.data)]=e.options,e.setState(""),e.firePointEvent("unselect"))})})},onMouseOver:function(e,t){var n=this.series,r=n.chart,i=r.tooltip,s=r.hoverPoint;r.hoverSeries!==n&&n.onMouseOver(),s&&s!==this&&s.onMouseOut(),this.series&&(this.firePointEvent("mouseOver"),i&&(!i.shared||n.noSharedTooltip)&&i.refresh(this,e),this.setState("hover"),!t)&&(r.hoverPoint=this)},onMouseOut:function(){var e=this.series.chart,t=e.hoverPoints;this.firePointEvent("mouseOut");if(!t||Vt(this,t)===-1)this.setState(),e.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var t=e(this.series.options.point,this.options).events,n;this.events=t;for(n in t)Gt(this,n,t[n]);this.hasImportedEvents=!0}},setState:function(t,n){var r=this.plotX,i=this.plotY,s=this.series,o=s.options.states,u=rn[s.type].marker&&s.options.marker,a=u&&!u.enabled,f=u&&u.states[t],l=f&&f.enabled===!1,c=s.stateMarkerGraphic,h=this.marker||{},p=s.chart,d=s.halo,v,t=t||"";v=this.pointAttr[t]||s.pointAttr[t],t===this.state&&!n||this.selected&&t!=="select"||o[t]&&o[t].enabled===!1||t&&(l||a&&f.enabled===!1)||t&&h.states&&h.states[t]&&h.states[t].enabled===!1||(this.graphic?(u=u&&this.graphic.symbolName&&v.r,this.graphic.attr(e(v,u?{x:r-u,y:i-u,width:2*u,height:2*u}:{})),c&&c.hide()):(t&&f&&((u=f.radius,h=h.symbol||s.symbol,c&&c.currentSymbol!==h&&(c=c.destroy()),c)?c[n?"animate":"attr"]({x:r-u,y:i-u}):h&&(s.stateMarkerGraphic=c=p.renderer.symbol(h,r-u,i-u,2*u,2*u).attr(v).add(s.markerGroup),c.currentSymbol=h)),c&&(c[t&&p.isInsidePlot(r,i,p.inverted)?"show":"hide"](),c.element.point=this)),(r=o[t]&&o[t].halo)&&r.size?(d||(s.halo=d=p.renderer.path().add(p.seriesGroup)),d.attr(It({fill:an(this.color||s.color).setOpacity(r.opacity).get()},r.attributes))[n?"animate":"attr"]({d:this.haloPath(r.size)})):d&&d.attr({d:[]}),this.state=t)},haloPath:function(e){var t=this.series,n=t.chart,r=t.getPlotBox(),i=n.inverted;return n.renderer.symbols.circle(r.translateX+(i?t.yAxis.len-this.plotY:this.plotX)-e,r.translateY+(i?t.xAxis.len-this.plotX:this.plotY)-e,e*2,e*2)}}),It(xn.prototype,{onMouseOver:function(){var e=this.chart,t=e.hoverSeries;t&&t!==this&&t.onMouseOut(),this.options.events.mouseOver&&Zt(this,"mouseOver"),this.setState("hover"),e.hoverSeries=this},onMouseOut:function(){var e=this.options,t=this.chart,n=t.tooltip,r=t.hoverPoint;t.hoverSeries=null,r&&r.onMouseOut(),this&&e.events.mouseOut&&Zt(this,"mouseOut"),n&&!e.stickyTracking&&(!n.shared||this.noSharedTooltip)&&n.hide(),this.setState()},setState:function(e){var t=this.options,n=this.graph,r=t.states,i=t.lineWidth,t=0,e=e||"";if(this.state!==e&&(this.state=e,(!r[e]||r[e].enabled!==!1)&&(e&&(i=r[e].lineWidth||i+(r[e].lineWidthPlus||0)),n&&!n.dashstyle))){e={"stroke-width":i};for(n.attr(e);this["zoneGraph"+t];)this["zoneGraph"+t].attr(e),t+=1}},setVisible:function(e,t){var n=this,r=n.chart,i=n.legendItem,s,o=r.options.chart.ignoreHiddenSeries,u=n.visible;s=(n.visible=e=n.userOptions.visible=e===_?!u:e)?"show":"hide",$t(["group","dataLabelsGroup","markerGroup","tracker"],function(e){n[e]&&n[e][s]()}),(r.hoverSeries===n||(r.hoverPoint&&r.hoverPoint.series)===n)&&n.onMouseOut(),i&&r.legend.colorizeItem(n,e),n.isDirty=!0,n.options.stacking&&$t(r.series,function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)}),$t(n.linkedSeries,function(t){t.setVisible(e,!1)}),o&&(r.isDirtyBox=!0),t!==!1&&r.redraw(),Zt(n,s)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(e){this.selected=e=e===_?!this.selected:e,this.checkbox&&(this.checkbox.checked=e),Zt(this,e?"select":"unselect")},drawTracker:Ut.drawTrackerGraph}),It(Ft,{Color:an,Point:Sn,Tick:O,Renderer:rt,SVGElement:A,SVGRenderer:fn,arrayMin:E,arrayMax:S,charts:pt,dateFormat:ft,error:N,format:g,pathAnim:lt,getOptions:function(){return at},hasBidiBug:tt,isTouchDevice:Y,setOptions:function(t){return at=e(!0,at,t),L(),at},addEvent:Gt,removeEvent:Yt,createElement:p,discardElement:T,css:h,each:$t,map:Qt,merge:e,splat:c,extendClass:d,pInt:t,svg:et,canvas:nt,vml:!et&&!nt,product:"Highcharts",version:"4.1.8"})}(),function(e,t){function n(e,t,n){this.init.call(this,e,t,n)}var r=e.arrayMin,i=e.arrayMax,s=e.each,o=e.extend,u=e.merge,a=e.map,f=e.pick,l=e.pInt,c=e.getOptions().plotOptions,h=e.seriesTypes,p=e.extendClass,d=e.splat,v=e.wrap,m=e.Axis,g=e.Tick,y=e.Point,b=e.Pointer,w=e.CenteredSeriesMixin,E=e.TrackerMixin,S=e.Series,x=Math,T=x.round,N=x.floor,C=x.max,k=e.Color,L=function(){};o(n.prototype,{init:function(e,t,n){var r=this,i=r.defaultOptions;r.chart=t,r.options=e=u(i,t.angular?{background:{}}:void 0,e),(e=e.background)&&s([].concat(d(e)).reverse(),function(e){var t=e.backgroundColor,i=n.userOptions,e=u(r.defaultBackgroundOptions,e);t&&(e.backgroundColor=t),e.color=e.backgroundColor,n.options.plotBands.unshift(e),i.plotBands=i.plotBands||[],i.plotBands.unshift(e)})},defaultOptions:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{shape:"circle",borderWidth:1,borderColor:"silver",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#DDD"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}});var A=m.prototype,g=g.prototype,O={getOffset:L,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},setScale:L,setCategories:L,setTitle:L},M={isRadial:!0,defaultRadialGaugeOptions:{labels:{align:"center",x:0,y:null},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},defaultRadialXOptions:{gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},defaultRadialYOptions:{gridLineInterpolation:"circle",labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},setOptions:function(e){e=this.options=u(this.defaultOptions,this.defaultRadialOptions,e),e.plotBands||(e.plotBands=[])},getOffset:function(){A.getOffset.call(this),this.chart.axisOffset[this.side]=0,this.center=this.pane.center=w.getCenter.call(this.pane)},getLinePath:function(e,t){var n=this.center,t=f(t,n[2]/2-this.offset);return this.chart.renderer.symbols.arc(this.left+n[0],this.top+n[1],t,t,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})},setAxisTranslation:function(){A.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.center[2]/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)},beforeSetTickPositions:function(){this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)},setAxisSize:function(){A.setAxisSize.call(this),this.isRadial&&(this.center=this.pane.center=e.CenteredSeriesMixin.getCenter.call(this.pane),this.isCircular&&(this.sector=this.endAngleRad-this.startAngleRad),this.len=this.width=this.height=this.center[2]*f(this.sector,1)/2)},getPosition:function(e,t){return this.postTranslate(this.isCircular?this.translate(e):0,f(this.isCircular?t:this.translate(e),this.center[2]/2)-this.offset)},postTranslate:function(e,t){var n=this.chart,r=this.center,e=this.startAngleRad+e;return{x:n.plotLeft+r[0]+Math.cos(e)*t,y:n.plotTop+r[1]+Math.sin(e)*t}},getPlotBandPath:function(e,t,n){var r=this.center,i=this.startAngleRad,s=r[2]/2,o=[f(n.outerRadius,"100%"),n.innerRadius,f(n.thickness,10)],u=/%$/,c,h=this.isCircular;return this.options.gridLineInterpolation==="polygon"?r=this.getPlotLinePath(e).concat(this.getPlotLinePath(t,!0)):(e=Math.max(e,this.min),t=Math.min(t,this.max),h||(o[0]=this.translate(e),o[1]=this.translate(t)),o=a(o,function(e){return u.test(e)&&(e=l(e,10)*s/100),e}),n.shape==="circle"||!h?(e=-Math.PI/2,t=Math.PI*1.5,c=!0):(e=i+this.translate(e),t=i+this.translate(t)),r=this.chart.renderer.symbols.arc(this.left+r[0],this.top+r[1],o[0],o[0],{start:Math.min(e,t),end:Math.max(e,t),innerR:f(o[1],o[0]-o[2]),open:c})),r},getPlotLinePath:function(e,t){var n=this,r=n.center,i=n.chart,o=n.getPosition(e),u,a,f;return n.isCircular?f=["M",r[0]+i.plotLeft,r[1]+i.plotTop,"L",o.x,o.y]:n.options.gridLineInterpolation==="circle"?(e=n.translate(e))&&(f=n.getLinePath(0,e)):(s(i.xAxis,function(e){e.pane===n.pane&&(u=e)}),f=[],e=n.translate(e),r=u.tickPositions,u.autoConnect&&(r=r.concat([r[0]])),t&&(r=[].concat(r).reverse()),s(r,function(t,n){a=u.getPosition(t,e),f.push(n?"L":"M",a.x,a.y)})),f},getTitlePosition:function(){var e=this.center,t=this.chart,n=this.options.title;return{x:t.plotLeft+e[0]+(n.x||0),y:t.plotTop+e[1]-{high:.5,middle:.25,low:0}[n.align]*e[2]+(n.y||0)}}};v(A,"init",function(e,r,i){var s,a=r.angular,l=r.polar,c=i.isX,h=a&&c,p,v;v=r.options;var m=i.pane||0;if(a){if(o(this,h?O:M),p=!c)this.defaultRadialOptions=this.defaultRadialGaugeOptions}else l&&(o(this,M),this.defaultRadialOptions=(p=c)?this.defaultRadialXOptions:u(this.defaultYAxisOptions,this.defaultRadialYOptions));e.call(this,r,i),!h&&(a||l)&&(e=this.options,r.panes||(r.panes=[]),this.pane=(s=r.panes[m]=r.panes[m]||new n(d(v.pane)[m],r,this),m=s),m=m.options,r.inverted=!1,v.chart.zoomType=null,this.startAngleRad=r=(m.startAngle-90)*Math.PI/180,this.endAngleRad=v=(f(m.endAngle,m.startAngle+360)-90)*Math.PI/180,this.offset=e.offset||0,(this.isCircular=p)&&i.max===t&&v-r===2*Math.PI&&(this.autoConnect=!0))}),v(g,"getPosition",function(e,t,n,r,i){var s=this.axis;return s.getPosition?s.getPosition(n):e.call(this,t,n,r,i)}),v(g,"getLabelPosition",function(e,t,n,r,i,s,o,u,a){var l=this.axis,c=s.y,h=20,p=s.align,d=(l.translate(this.pos)+l.startAngleRad+Math.PI/2)/Math.PI*180%360;return l.isRadial?(e=l.getPosition(this.pos,l.center[2]/2+f(s.distance,-25)),s.rotation==="auto"?r.attr({rotation:d}):c===null&&(c=l.chart.renderer.fontMetrics(r.styles.fontSize).b-r.getBBox().height/2),p===null&&(l.isCircular?(this.label.getBBox().width>l.len*l.tickInterval/(l.max-l.min)&&(h=0),p=d>h&&d<180-h?"left":d>180+h&&d<360-h?"right":"center"):p="center",r.attr({align:p})),e.x+=s.x,e.y+=c):e=e.call(this,t,n,r,i,s,o,u,a),e}),v(g,"getMarkPath",function(e,t,n,r,i,s,o){var u=this.axis;return u.isRadial?(e=u.getPosition(this.pos,u.center[2]/2+r),t=["M",t,n,"L",e.x,e.y]):t=e.call(this,t,n,r,i,s,o),t}),c.arearange=u(c.area,{lineWidth:1,marker:null,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}"></span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:null,verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0},states:{hover:{halo:!1}}}),h.arearange=p(h.area,{type:"arearange",pointArrayMap:["low","high"],dataLabelCollections:["dataLabel","dataLabelUpper"],toYData:function(e){return[e.low,e.high]},pointValKey:"low",deferTranslatePolar:!0,highToXY:function(e){var t=this.chart,n=this.xAxis.postTranslate(e.rectPlotX,this.yAxis.len-e.plotHigh);e.plotHighX=n.x-t.plotLeft,e.plotHigh=n.y-t.plotTop},getSegments:function(){var e=this;s(e.points,function(t){!!e.options.connectNulls||t.low!==null&&t.high!==null?t.low===null&&t.high!==null&&(t.y=t.high):t.y=null}),S.prototype.getSegments.call(this)},translate:function(){var e=this,t=e.yAxis;h.area.prototype.translate.apply(e),s(e.points,function(e){var n=e.low,r=e.high,i=e.plotY;r===null&&n===null?e.y=null:n===null?(e.plotLow=e.plotY=null,e.plotHigh=t.translate(r,0,1,0,1)):r===null?(e.plotLow=i,e.plotHigh=null):(e.plotLow=i,e.plotHigh=t.translate(r,0,1,0,1))}),this.chart.polar&&s(this.points,function(t){e.highToXY(t)})},getSegmentPath:function(e){var t,n=[],r=e.length,i=S.prototype.getSegmentPath,s,o;o=this.options;var u=o.step;for(t=HighchartsAdapter.grep(e,function(e){return e.plotLow!==null});r--;)s=e[r],s.plotHigh!==null&&n.push({plotX:s.plotHighX||s.plotX,plotY:s.plotHigh});return e=i.call(this,t),u&&(u===!0&&(u="left"),o.step={left:"right",center:"center",right:"left"}[u]),n=i.call(this,n),o.step=u,o=[].concat(e,n),this.chart.polar||(n[0]="L"),this.areaPath=this.areaPath.concat(e,n),o},drawDataLabels:function(){var e=this.data,t=e.length,n,r=[],i=S.prototype,s=this.options.dataLabels,o=s.align,u,a,f=this.chart.inverted;if(s.enabled||this._hasPointLabels){for(n=t;n--;)if(u=e[n])(a=u.plotHigh>u.plotLow,u.y=u.high,u._plotY=u.plotY,u.plotY=u.plotHigh,r[n]=u.dataLabel,u.dataLabel=u.dataLabelUpper,u.below=a,f)?(o||(s.align=a?"right":"left"),s.x=s.xHigh):s.y=s.yHigh;i.drawDataLabels&&i.drawDataLabels.apply(this,arguments);for(n=t;n--;)if(u=e[n])(a=u.plotHigh>u.plotLow,u.dataLabelUpper=u.dataLabel,u.dataLabel=r[n],u.y=u.low,u.plotY=u._plotY,u.below=!a,f)?(o||(s.align=a?"left":"right"),s.x=s.xLow):s.y=s.yLow;i.drawDataLabels&&i.drawDataLabels.apply(this,arguments)}s.align=o},alignDataLabel:function(){h.column.prototype.alignDataLabel.apply(this,arguments)},setStackedPoints:L,getSymbol:L,drawPoints:L}),c.areasplinerange=u(c.arearange),h.areasplinerange=p(h.arearange,{type:"areasplinerange",getPointSpline:h.spline.prototype.getPointSpline}),function(){var e=h.column.prototype;c.columnrange=u(c.column,c.arearange,{lineWidth:1,pointRange:null}),h.columnrange=p(h.arearange,{type:"columnrange",translate:function(){var t=this,n=t.yAxis,r;e.translate.apply(t),s(t.points,function(e){var i=e.shapeArgs,s=t.options.minPointLength,o;e.tooltipPos=null,e.plotHigh=r=n.translate(e.high,0,1,0,1),e.plotLow=e.plotY,o=r,e=e.plotY-r,Math.abs(e)<s?(s-=e,e+=s,o-=s/2):e<0&&(e*=-1,o-=e),i.height=e,i.y=o})},directTouch:!0,trackerGroups:["group","dataLabelsGroup"],drawGraph:L,pointAttrToOptions:e.pointAttrToOptions,drawPoints:e.drawPoints,drawTracker:e.drawTracker,animate:e.animate,getColumnMetrics:e.getColumnMetrics})}(),c.gauge=u(c.line,{dataLabels:{enabled:!0,defer:!1,y:15,borderWidth:1,borderColor:"silver",borderRadius:3,crop:!1,verticalAlign:"top",zIndex:2},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1}),E={type:"gauge",pointClass:p(y,{setState:function(e){this.state=e}}),angular:!0,drawGraph:L,fixedBox:!0,forceDL:!0,trackerGroups:["group","dataLabelsGroup"],translate:function(){var e=this.yAxis,t=this.options,n=e.center;this.generatePoints(),s(this.points,function(r){var i=u(t.dial,r.dial),s=l(f(i.radius,80))*n[2]/200,o=l(f(i.baseLength,70))*s/100,a=l(f(i.rearLength,10))*s/100,c=i.baseWidth||3,h=i.topWidth||1,p=t.overshoot,d=e.startAngleRad+e.translate(r.y,null,null,null,!0);p&&typeof p=="number"?(p=p/180*Math.PI,d=Math.max(e.startAngleRad-p,Math.min(e.endAngleRad+p,d))):t.wrap===!1&&(d=Math.max(e.startAngleRad,Math.min(e.endAngleRad,d))),d=d*180/Math.PI,r.shapeType="path",r.shapeArgs={d:i.path||["M",-a,-c/2,"L",o,-c/2,s,-h/2,s,h/2,o,c/2,-a,c/2,"z"],translateX:n[0],translateY:n[1],rotation:d},r.plotX=n[0],r.plotY=n[1]})},drawPoints:function(){var e=this,t=e.yAxis.center,n=e.pivot,r=e.options,i=r.pivot,o=e.chart.renderer;s(e.points,function(t){var n=t.graphic,i=t.shapeArgs,s=i.d,a=u(r.dial,t.dial);n?(n.animate(i),i.d=s):t.graphic=o[t.shapeType](i).attr({stroke:a.borderColor||"none","stroke-width":a.borderWidth||0,fill:a.backgroundColor||"black",rotation:i.rotation}).add(e.group)}),n?n.animate({translateX:t[0],translateY:t[1]}):e.pivot=o.circle(0,0,f(i.radius,5)).attr({"stroke-width":i.borderWidth||0,stroke:i.borderColor||"silver",fill:i.backgroundColor||"black"}).translate(t[0],t[1]).add(e.group)},animate:function(e){var t=this;e||(s(t.points,function(e){var n=e.graphic;n&&(n.attr({rotation:t.yAxis.startAngleRad*180/Math.PI}),n.animate({rotation:e.shapeArgs.rotation},t.options.animation))}),t.animate=null)},render:function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup),S.prototype.render.call(this),this.group.clip(this.chart.clipRect)},setData:function(e,t){S.prototype.setData.call(this,e,!1),this.processData(),this.generatePoints(),f(t,!0)&&this.chart.redraw()},drawTracker:E&&E.drawTrackerPoint},h.gauge=p(h.line,E),c.boxplot=u(c.column,{fillColor:"#FFFFFF",lineWidth:1,medianWidth:2,states:{hover:{brightness:-0.3}},threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}"></span> <b> {series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",whiskerWidth:2}),h.boxplot=p(h.column,{type:"boxplot",pointArrayMap:["low","q1","median","q3","high"],toYData:function(e){return[e.low,e.q1,e.median,e.q3,e.high]},pointValKey:"high",pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth"},drawDataLabels:L,translate:function(){var e=this.yAxis,t=this.pointArrayMap;h.column.prototype.translate.apply(this),s(this.points,function(n){s(t,function(t){n[t]!==null&&(n[t+"Plot"]=e.translate(n[t],0,1,0,1))})})},drawPoints:function(){var e=this,n=e.points,r=e.options,i=e.chart.renderer,o,u,a,l,c,h,p,d,v,m,g,y,b,w,E,S,x,C,k,L,A,O,M=e.doQuartiles!==!1,_=parseInt(e.options.whiskerLength,10)/100;s(n,function(n){v=n.graphic,A=n.shapeArgs,g={},w={},S={},O=n.color||e.color,n.plotY!==t&&((o=n.pointAttr[n.selected?"selected":""],x=A.width,C=N(A.x),k=C+x,L=T(x/2),u=N(M?n.q1Plot:n.lowPlot),a=N(M?n.q3Plot:n.lowPlot),l=N(n.highPlot),c=N(n.lowPlot),g.stroke=n.stemColor||r.stemColor||O,g["stroke-width"]=f(n.stemWidth,r.stemWidth,r.lineWidth),g.dashstyle=n.stemDashStyle||r.stemDashStyle,w.stroke=n.whiskerColor||r.whiskerColor||O,w["stroke-width"]=f(n.whiskerWidth,r.whiskerWidth,r.lineWidth),S.stroke=n.medianColor||r.medianColor||O,S["stroke-width"]=f(n.medianWidth,r.medianWidth,r.lineWidth),p=g["stroke-width"]%2/2,d=C+L+p,m=["M",d,a,"L",d,l,"M",d,u,"L",d,c],M&&(p=o["stroke-width"]%2/2,d=N(d)+p,u=N(u)+p,a=N(a)+p,C+=p,k+=p,y=["M",C,a,"L",C,u,"L",k,u,"L",k,a,"L",C,a,"z"]),_&&(p=w["stroke-width"]%2/2,l+=p,c+=p,b=["M",d-L*_,l,"L",d+L*_,l,"M",d-L*_,c,"L",d+L*_,c]),p=S["stroke-width"]%2/2,h=T(n.medianPlot)+p,E=["M",C,h,"L",k,h],v)?(n.stem.animate({d:m}),_&&n.whiskers.animate({d:b}),M&&n.box.animate({d:y}),n.medianShape.animate({d:E})):(n.graphic=v=i.g().add(e.group),n.stem=i.path(m).attr(g).add(v),_&&(n.whiskers=i.path(b).attr(w).add(v)),M&&(n.box=i.path(y).attr(o).add(v)),n.medianShape=i.path(E).attr(S).add(v)))})},setStackedPoints:L}),c.errorbar=u(c.boxplot,{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}"></span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}),h.errorbar=p(h.boxplot,{type:"errorbar",pointArrayMap:["low","high"],toYData:function(e){return[e.low,e.high]},pointValKey:"high",doQuartiles:!1,drawDataLabels:h.arearange?h.arearange.prototype.drawDataLabels:L,getColumnMetrics:function(){return this.linkedParent&&this.linkedParent.columnMetrics||h.column.prototype.getColumnMetrics.call(this)}}),c.waterfall=u(c.column,{lineWidth:1,lineColor:"#333",dashStyle:"dot",borderColor:"#333",dataLabels:{inside:!0},states:{hover:{lineWidthPlus:0}}}),h.waterfall=p(h.column,{type:"waterfall",upColorProp:"fill",pointValKey:"y",translate:function(){var e=this.options,t=this.yAxis,n,r,i,s,o,u,a,f,l,c=e.threshold,p=e.stacking;h.column.prototype.translate.apply(this),a=f=c,r=this.points;for(n=0,e=r.length;n<e;n++)i=r[n],u=this.processedYData[n],s=i.shapeArgs,l=(o=p&&t.stacks[(this.negStacks&&u<c?"-":"")+this.stackKey])?o[i.x].points[this.index+","+n]:[0,u],i.isSum?i.y=u:i.isIntermediateSum&&(i.y=u-f),o=C(a,a+i.y)+l[0],s.y=t.translate(o,0,1),i.isSum?(s.y=t.translate(l[1],0,1),s.height=Math.min(t.translate(l[0],0,1),t.len)-s.y):i.isIntermediateSum?(s.y=t.translate(l[1],0,1),s.height=Math.min(t.translate(f,0,1),t.len)-s.y,f=l[1]):(a!==0&&(s.height=u>0?t.translate(a,0,1)-s.y:t.translate(a,0,1)-t.translate(a-u,0,1)),a+=u),s.height<0&&(s.y+=s.height,s.height*=-1),i.plotY=s.y=T(s.y)-this.borderWidth%2/2,s.height=C(T(s.height),.001),i.yBottom=s.y+s.height,s=i.plotY+(i.negative?s.height:0),this.chart.inverted?i.tooltipPos[0]=t.len-s:i.tooltipPos[1]=s},processData:function(e){var t=this.yData,n=this.options.data,r,i=t.length,s,o,u,a,f,l;o=s=u=a=this.options.threshold||0;for(l=0;l<i;l++)f=t[l],r=n&&n[l]?n[l]:{},f==="sum"||r.isSum?t[l]=o:f==="intermediateSum"||r.isIntermediateSum?t[l]=s:(o+=f,s+=f),u=Math.min(o,u),a=Math.max(o,a);S.prototype.processData.call(this,e),this.dataMin=u,this.dataMax=a},toYData:function(e){return e.isSum?e.x===0?null:"sum":e.isIntermediateSum?e.x===0?null:"intermediateSum":e.y},getAttribs:function(){h.column.prototype.getAttribs.apply(this,arguments);var t=this,n=t.options,r=n.states,i=n.upColor||t.color,n=e.Color(i).brighten(.1).get(),o=u(t.pointAttr),a=t.upColorProp;o[""][a]=i,o.hover[a]=r.hover.upColor||n,o.select[a]=r.select.upColor||i,s(t.points,function(e){e.options.color||(e.y>0?(e.pointAttr=o,e.color=i):e.pointAttr=t.pointAttr)})},getGraphPath:function(){var e=this.data,t=e.length,n=T(this.options.lineWidth+this.borderWidth)%2/2,r=[],i,s,o;for(o=1;o<t;o++)s=e[o].shapeArgs,i=e[o-1].shapeArgs,s=["M",i.x+i.width,i.y+n,"L",s.x,i.y+n],e[o-1].y<0&&(s[2]+=i.height,s[5]+=i.height),r=r.concat(s);return r},getExtremes:L,drawGraph:S.prototype.drawGraph}),c.polygon=u(c.scatter,{marker:{enabled:!1}}),h.polygon=p(h.scatter,{type:"polygon",fillGraph:!0,getSegmentPath:function(e){return S.prototype.getSegmentPath.call(this,e).concat("z")},drawGraph:S.prototype.drawGraph,drawLegendSymbol:e.LegendSymbolMixin.drawRectangle}),c.bubble=u(c.scatter,{dataLabels:{formatter:function(){return this.point.z},inside:!0,verticalAlign:"middle"},marker:{lineColor:null,lineWidth:1},minSize:8,maxSize:"20%",states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),E=p(y,{haloPath:function(){return y.prototype.haloPath.call(this,this.shapeArgs.r+this.series.options.states.hover.halo.size)},ttBelow:!1}),h.bubble=p(h.scatter,{type:"bubble",pointClass:E,pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],bubblePadding:!0,zoneAxis:"z",pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor"},applyOpacity:function(e){var t=this.options.marker,n=f(t.fillOpacity,.5),e=e||t.fillColor||this.color;return n!==1&&(e=k(e).setOpacity(n).get("rgba")),e},convertAttribs:function(){var e=S.prototype.convertAttribs.apply(this,arguments);return e.fill=this.applyOpacity(e.fill),e},getRadii:function(e,t,n,r){var i,s,o=this.zData,u=[],a=this.options.sizeBy!=="width",f=t-e;for(i=0,t=o.length;i<t;i++)o[i]<e?u.push(n/2-1):(s=f>0?(o[i]-e)/f:.5,a&&s>=0&&(s=Math.sqrt(s)),u.push(x.ceil(n+s*(r-n))/2));this.radii=u},animate:function(e){var t=this.options.animation;e||(s(this.points,function(e){var n=e.graphic,e=e.shapeArgs;n&&e&&(n.attr("r",1),n.animate({r:e.r},t))}),this.animate=null)},translate:function(){var e,n=this.data,r,i,s=this.radii;h.scatter.prototype.translate.call(this);for(e=n.length;e--;)r=n[e],i=s?s[e]:0,i>=this.minPxSize/2?(r.shapeType="circle",r.shapeArgs={x:r.plotX,y:r.plotY,r:i},r.dlBox={x:r.plotX-i,y:r.plotY-i,width:2*i,height:2*i}):r.shapeArgs=r.plotY=r.dlBox=t},drawLegendSymbol:function(e,t){var n=l(e.itemStyle.fontSize)/2;t.legendSymbol=this.chart.renderer.circle(n,e.baseline-n,n).attr({zIndex:3}).add(t.legendGroup),t.legendSymbol.isMarker=!0},drawPoints:h.column.prototype.drawPoints,alignDataLabel:h.column.prototype.alignDataLabel,buildKDTree:L,applyZones:L}),m.prototype.beforePadding=function(){var e=this,n=this.len,o=this.chart,u=0,a=n,c=this.isXAxis,h=c?"xData":"yData",p=this.min,d={},v=x.min(o.plotWidth,o.plotHeight),m=Number.MAX_VALUE,g=-Number.MAX_VALUE,y=this.max-p,b=n/y,w=[];s(this.series,function(t){var n=t.options;t.bubblePadding&&(t.visible||!o.options.chart.ignoreHiddenSeries)&&(e.allowZoomOutside=!0,w.push(t),c)&&(s(["minSize","maxSize"],function(e){var t=n[e],r=/%$/.test(t),t=l(t);d[e]=r?v*t/100:t}),t.minPxSize=d.minSize,t.maxPxSize=d.maxSize,t=t.zData,t.length&&(m=f(n.zMin,x.min(m,x.max(r(t),n.displayNegative===!1?n.zThreshold:-Number.MAX_VALUE))),g=f(n.zMax,x.max(g,i(t)))))}),s(w,function(e){var t=e[h],n=t.length,r;c&&e.getRadii(m,g,e.minPxSize,e.maxPxSize);if(y>0)for(;n--;)typeof t[n]=="number"&&(r=e.radii[n],u=Math.min((t[n]-p)*b-r,u),a=Math.max((t[n]-p)*b+r,a))}),w.length&&y>0&&!this.isLog&&(a-=n,b*=(n+u-a)/n,s([["min","userMin",u],["max","userMax",a]],function(n){f(e.options[n[0]],e[n[1]])===t&&(e[n[0]]+=n[2]/b)}))},function(){function e(e,t,n){e.call(this,t,n),this.chart.polar&&(this.closeSegment=function(e){var t=this.xAxis.center;e.push("L",t[0],t[1])},this.closedStacks=!0)}function t(e,t){var n=this.chart,r=this.options.animation,i=this.group,s=this.markerGroup,o=this.xAxis.center,u=n.plotLeft,a=n.plotTop;n.polar?n.renderer.isSVG&&(r===!0&&(r={}),t?(n={translateX:o[0]+u,translateY:o[1]+a,scaleX:.001,scaleY:.001},i.attr(n),s&&s.attr(n)):(n={translateX:u,translateY:a,scaleX:1,scaleY:1},i.animate(n,r),s&&s.animate(n,r),this.animate=null)):e.call(this,t)}var n=S.prototype,r=b.prototype,i;n.searchPointByAngle=function(e){var t=this.chart,n=this.xAxis.pane.center;return this.searchKDTree({clientX:180+Math.atan2(e.chartX-n[0]-t.plotLeft,e.chartY-n[1]-t.plotTop)*(-180/Math.PI)})},v(n,"buildKDTree",function(e){this.chart.polar&&(this.kdByAngle?this.searchPoint=this.searchPointByAngle:this.kdDimensions=2),e.apply(this)}),n.toXY=function(e){var t,n=this.chart,r=e.plotX;t=e.plotY,e.rectPlotX=r,e.rectPlotY=t,t=this.xAxis.postTranslate(e.plotX,this.yAxis.len-t),e.plotX=e.polarPlotX=t.x-n.plotLeft,e.plotY=e.polarPlotY=t.y-n.plotTop,this.kdByAngle?(n=(r/Math.PI*180+this.xAxis.pane.options.startAngle)%360,n<0&&(n+=360),e.clientX=n):e.clientX=e.plotX},h.area&&v(h.area.prototype,"init",e),h.areaspline&&v(h.areaspline.prototype,"init",e),h.spline&&v(h.spline.prototype,"getPointSpline",function(e,t,n,r){var i,s,o,u,a,f,l;return this.chart.polar?(i=n.plotX,s=n.plotY,e=t[r-1],o=t[r+1],this.connectEnds&&(e||(e=t[t.length-2]),o||(o=t[1])),e&&o&&(u=e.plotX,a=e.plotY,t=o.plotX,f=o.plotY,u=(1.5*i+u)/2.5,a=(1.5*s+a)/2.5,o=(1.5*i+t)/2.5,l=(1.5*s+f)/2.5,t=Math.sqrt(Math.pow(u-i,2)+Math.pow(a-s,2)),f=Math.sqrt(Math.pow(o-i,2)+Math.pow(l-s,2)),u=Math.atan2(a-s,u-i),a=Math.atan2(l-s,o-i),l=Math.PI/2+(u+a)/2,Math.abs(u-l)>Math.PI/2&&(l-=Math.PI),u=i+Math.cos(l)*t,a=s+Math.sin(l)*t,o=i+Math.cos(Math.PI+l)*f,l=s+Math.sin(Math.PI+l)*f,n.rightContX=o,n.rightContY=l),r?(n=["C",e.rightContX||e.plotX,e.rightContY||e.plotY,u||i,a||s,i,s],e.rightContX=e.rightContY=null):n=["M",i,s]):n=e.call(this,t,n,r),n}),v(n,"translate",function(e){var t=this.chart;e.call(this);if(t.polar&&(this.kdByAngle=t.tooltip&&t.tooltip.shared,!this.preventPostTranslate)){e=this.points;for(t=e.length;t--;)this.toXY(e[t])}}),v(n,"getSegmentPath",function(e,t){var n=this.points;return this.chart.polar&&this.options.connectEnds!==!1&&t[t.length-1]===n[n.length-1]&&n[0].y!==null&&(this.connectEnds=!0,t=[].concat(t,[n[0]])),e.call(this,t)}),v(n,"animate",t),h.column&&(i=h.column.prototype,v(i,"animate",t),v(i,"translate",function(e){var t=this.xAxis,n=this.yAxis.len,r=t.center,i=t.startAngleRad,s=this.chart.renderer,o,u;this.preventPostTranslate=!0,e.call(this);if(t.isRadial){t=this.points;for(u=t.length;u--;)o=t[u],e=o.barX+i,o.shapeType="path",o.shapeArgs={d:s.symbols.arc(r[0],r[1],n-o.plotY,null,{start:e,end:e+o.pointWidth,innerR:n-f(o.yBottom,n)})},this.toXY(o),o.tooltipPos=[o.plotX,o.plotY],o.ttBelow=o.plotY>r[1]}}),v(i,"alignDataLabel",function(e,t,r,i,s,o){this.chart.polar?(e=t.rectPlotX/Math.PI*180,i.align===null&&(i.align=e>20&&e<160?"left":e>200&&e<340?"right":"center"),i.verticalAlign===null&&(i.verticalAlign=e<45||e>315?"bottom":e>135&&e<225?"top":"middle"),n.alignDataLabel.call(this,t,r,i,s,o)):e.call(this,t,r,i,s,o)})),v(r,"getCoordinates",function(e,t){var n=this.chart,r={xAxis:[],yAxis:[]};return n.polar?s(n.axes,function(e){var i=e.isXAxis,s=e.center,o=t.chartX-s[0]-n.plotLeft,s=t.chartY-s[1]-n.plotTop;r[i?"xAxis":"yAxis"].push({axis:e,value:e.translate(i?Math.PI-Math.atan2(o,s):Math.sqrt(Math.pow(o,2)+Math.pow(s,2)),!0)})}):r=e.call(this,t),r})}()}(Highcharts),function(e){var t=e.Chart,n=e.addEvent,r=e.removeEvent,i=HighchartsAdapter.fireEvent,s=e.createElement,o=e.discardElement,u=e.css,a=e.merge,f=e.each,l=e.extend,c=e.splat,h=Math.max,p=document,d=window,v=e.isTouchDevice,m=e.Renderer.prototype.symbols,g=e.getOptions(),y;l(g.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"}),g.navigation={menuStyle:{border:"1px solid #A0A0A0",background:"#FFFFFF",padding:"5px 0"},menuItemStyle:{padding:"0 10px",background:"none",color:"#303030",fontSize:v?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{symbolFill:"#E0E0E0",symbolSize:14,symbolStroke:"#666",symbolStrokeWidth:3,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,theme:{fill:"white",stroke:"none"},verticalAlign:"top",width:24}},g.exporting={type:"image/png",url:"http://export.highcharts.com/",buttons:{contextButton:{menuClassName:"highcharts-contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:[{textKey
:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]}}},e.post=function(e,t,n){var r,e=s("form",a({method:"post",action:e,enctype:"multipart/form-data"},n),{display:"none"},p.body);for(r in t)s("input",{type:"hidden",name:r,value:t[r]},null,e);e.submit(),o(e)},l(t.prototype,{sanitizeSVG:function(e){return e.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (NS[0-9]+\:)?href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g,"").replace(/&shy;/g,"").replace(/<IMG /g,"<image ").replace(/<(\/?)TITLE>/g,"<$1title>").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/ id=([^" >]+)/g,' id="$1"').replace(/class=([^" >]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(e){return e.toLowerCase()})},getChartHTML:function(){return this.container.innerHTML},getSVG:function(t){var n=this,r,i,u,h,d,v=a(n.options,t),m=v.exporting.allowHTML;return p.createElementNS||(p.createElementNS=function(e,t){return p.createElement(t)}),i=s("div",null,{position:"absolute",top:"-9999em",width:n.chartWidth+"px",height:n.chartHeight+"px"},p.body),u=n.renderTo.style.width,d=n.renderTo.style.height,u=v.exporting.sourceWidth||v.chart.width||/px$/.test(u)&&parseInt(u,10)||600,d=v.exporting.sourceHeight||v.chart.height||/px$/.test(d)&&parseInt(d,10)||400,l(v.chart,{animation:!1,renderTo:i,forExport:!m,width:u,height:d}),v.exporting.enabled=!1,delete v.data,v.series=[],f(n.series,function(e){h=a(e.options,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:e.visible}),h.isInternal||v.series.push(h)}),t&&f(["xAxis","yAxis"],function(e){f(c(t[e]),function(t,n){v[e][n]=a(v[e][n],t)})}),r=new e.Chart(v,n.callback),f(["xAxis","yAxis"],function(e){f(n[e],function(t,n){var i=r[e][n],s=t.getExtremes(),o=s.userMin,s=s.userMax;i&&(o!==void 0||s!==void 0)&&i.setExtremes(o,s,!0,!1)})}),u=r.getChartHTML(),v=null,r.destroy(),o(i),m&&(i=u.match(/<\/svg>(.*?$)/))&&(i='<foreignObject x="0" y="0 width="200" height="200"><body xmlns="http://www.w3.org/1999/xhtml">'+i[1]+"</body></foreignObject>",u=u.replace("</svg>",i+"</svg>")),u=this.sanitizeSVG(u),u=u.replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'")},getSVGForExport:function(e,t){var n=this.options.exporting;return this.getSVG(a({chart:{borderRadius:0}},n.chartOptions,t,{exporting:{sourceWidth:e&&e.sourceWidth||n.sourceWidth,sourceHeight:e&&e.sourceHeight||n.sourceHeight}}))},exportChart:function(t,n){var r=this.getSVGForExport(t,n),t=a(this.options.exporting,t);e.post(t.url,{filename:t.filename||"chart",type:t.type,width:t.width||0,scale:t.scale||2,svg:r},t.formAttributes)},print:function(){var e=this,t=e.container,n=[],r=t.parentNode,s=p.body,o=s.childNodes;e.isPrinting||(e.isPrinting=!0,i(e,"beforePrint"),f(o,function(e,t){e.nodeType===1&&(n[t]=e.style.display,e.style.display="none")}),s.appendChild(t),d.focus(),d.print(),setTimeout(function(){r.appendChild(t),f(o,function(e,t){e.nodeType===1&&(e.style.display=n[t])}),e.isPrinting=!1,i(e,"afterPrint")},1e3))},contextMenu:function(e,t,i,o,a,c,p){var d=this,v=d.options.navigation,m=v.menuItemStyle,g=d.chartWidth,y=d.chartHeight,b="cache-"+e,w=d[b],E=h(a,c),S,x,T,N=function(t){d.pointer.inClass(t.target,e)||x()};w||(d[b]=w=s("div",{className:e},{position:"absolute",zIndex:1e3,padding:E+"px"},d.container),S=s("div",null,l({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},v.menuStyle),w),x=function(){u(w,{display:"none"}),p&&p.setState(0),d.openMenu=!1},n(w,"mouseleave",function(){T=setTimeout(x,500)}),n(w,"mouseenter",function(){clearTimeout(T)}),n(document,"mouseup",N),n(d,"destroy",function(){r(document,"mouseup",N)}),f(t,function(e){if(e){var t=e.separator?s("hr",null,null,S):s("div",{onmouseover:function(){u(this,v.menuItemHoverStyle)},onmouseout:function(){u(this,m)},onclick:function(t){t.stopPropagation(),x(),e.onclick&&e.onclick.apply(d,arguments)},innerHTML:e.text||d.options.lang[e.textKey]},l({cursor:"pointer"},m),S);d.exportDivElements.push(t)}}),d.exportDivElements.push(S,w),d.exportMenuWidth=w.offsetWidth,d.exportMenuHeight=w.offsetHeight),t={display:"block"},i+d.exportMenuWidth>g?t.right=g-i-a-E+"px":t.left=i-E+"px",o+c+d.exportMenuHeight>y&&p.alignOptions.verticalAlign!=="top"?t.bottom=y-o-E+"px":t.top=o+c-E+"px",u(w,t),d.openMenu=!0},addButton:function(t){var n=this,r=n.renderer,i=a(n.options.navigation.buttonOptions,t),s=i.onclick,o=i.menuItems,u,f,c={stroke:i.symbolStroke,fill:i.symbolFill},h=i.symbolSize||12;n.btnCount||(n.btnCount=0),n.exportDivElements||(n.exportDivElements=[],n.exportSVGElements=[]);if(i.enabled!==!1){var p=i.theme,d=p.states,v=d&&d.hover,d=d&&d.select,m;delete p.states,s?m=function(e){e.stopPropagation(),s.call(n,e)}:o&&(m=function(){n.contextMenu(f.menuClassName,o,f.translateX,f.translateY,f.width,f.height,f),f.setState(2)}),i.text&&i.symbol?p.paddingLeft=e.pick(p.paddingLeft,25):i.text||l(p,{width:i.width,height:i.height,padding:0}),f=r.button(i.text,0,0,m,p,v,d).attr({title:n.options.lang[i._titleKey],"stroke-linecap":"round"}),f.menuClassName=t.menuClassName||"highcharts-menu-"+n.btnCount++,i.symbol&&(u=r.symbol(i.symbol,i.symbolX-h/2,i.symbolY-h/2,h,h).attr(l(c,{"stroke-width":i.symbolStrokeWidth||1,zIndex:1})).add(f)),f.add().align(l(i,{width:f.width,x:e.pick(i.x,y)}),!0,"spacingBox"),y+=(f.width+i.buttonSpacing)*(i.align==="right"?-1:1),n.exportSVGElements.push(f,u)}},destroyExport:function(e){var e=e.target,t,n;for(t=0;t<e.exportSVGElements.length;t++)if(n=e.exportSVGElements[t])n.onclick=n.ontouchstart=null,e.exportSVGElements[t]=n.destroy();for(t=0;t<e.exportDivElements.length;t++)n=e.exportDivElements[t],r(n,"mouseleave"),e.exportDivElements[t]=n.onmouseout=n.onmouseover=n.ontouchstart=n.onclick=null,o(n)}}),m.menu=function(e,t,n,r){return["M",e,t+2.5,"L",e+n,t+2.5,"M",e,t+r/2+.5,"L",e+n,t+r/2+.5,"M",e,t+r-1.5,"L",e+n,t+r-1.5]},t.prototype.callbacks.push(function(e){var t,r=e.options.exporting,i=r.buttons;y=0;if(r.enabled!==!1){for(t in i)e.addButton(i[t]);n(e,"destroy",e.destroyExport)}})}(Highcharts),function(){$(document).on("page:load ready",function(){var e,t,n,r;if($(".form-reports").length===0)return;return GD.charts={},$(".form-reports").on("click",".chart-download",function(){var e,t;e=GD.charts[$(this).data("target")],t=encodeURI($(this).data("chart-name")+"_chart");if(e)return e.exportChart({filename:t})}),e=function(){function e(e,t,n,r){var i,s,o,u,a,f,l,c,h,p,d;r==null&&(r=null),this.options=this.defaultOptions(),this.options.chart.renderTo=n,this.options.chart.type=t,s=$("#"+n).width(),a=$("#"+n).next().height(),this.options.chart.height=Math.min(s,a),l={showInLegend:!1,name:"",data:[]},d=0,i=[],p=e.choices;for(f=0,h=p.length;f<h;f++)o=p[f],c=o[0],u=o[1],l.data.push({name:c,y:u}),i.push(c),d+=u;e.sum!=null&&(d=e.sum),this.options.series.push(l),this.options.plotOptions.series.dataLabels.formatter=function(){var e;return e=Highcharts.numberFormat(this.y*100/d,1),e+" %"},this.options.xAxis.categories=i,r&&r(this.options)}return e.prototype.defaultOptions=function(){return{chart:{marginTop:36,backgroundColor:GD.isMobile?"transparent":"#FFFFFF"},colors:["#54C7FC","#FFB54D","#FF7466","#44DB5E","#4D9FFF","#FFD300"],credits:{enabled:!1},title:{text:null},xAxis:{labels:{style:{fontFamily:"verdana"},useHTML:!0,formatter:function(){return"<span>"+this.value+"</span>"}}},yAxis:{min:0,labels:{enabled:!1,style:{fontFamily:"verdana"}},title:{text:null},gridLineWidth:0},exporting:{enabled:!1,scale:1.6},tooltip:{borderRadius:0,borderColor:"#4D9FFF",shadow:!1,useHTML:!0},plotOptions:{bar:{shadow:!1},pie:{dataLabels:{distance:15,style:{fontFamily:"verdana"}}},series:{pointWidth:12,pointPadding:0,groupPadding:0,borderWidth:0,colorByPoint:!0,dataLabels:{enabled:!0}}},series:[]}},e.prototype.render=function(){return GD.charts[this.options.chart.renderTo]=new Highcharts.Chart(this.options)},e}(),t=function(){function t(t,n){this.chart=(new e(t,"bar",n,function(e){return e.chart.height=$("#"+n).next().height()})).render()}return t}(),n=function(){function t(t,n){this.chart=(new e(t,"column",n,function(e){e.xAxis.labels={align:"right",rotation:-45,useHTML:!1,style:{fontFamily:"verdana"},formatter:function(){return this.value.length>5?this.value.slice(0,5)+"...":this.value}},e.chart.height=$("#"+n).height();if($("#"+n).hasClass("compact"))return e.chart.marginTop=10})).render()}return t}(),r=function(){function t(t,n){this.chart=(new e(t,"pie",n,function(e){return e.plotOptions.series.dataLabels.formatter=function(){var e;return e=this.point.name.length>15?this.point.name.slice(0,15)+"...":this.point.name,e+" "+Highcharts.numberFormat(this.percentage,1)+" %"}})).render()}return t}(),GD.ReportChart=function(){function e(e){var i,s,o,u,a;u=e.attr("id"),i=_.clone(e.data("report")),i.choices=_.pairs(i.choices),o=e.data("sort"),!o||(s=_.sortBy(i.choices,function(e){return o==="down"?-e[1]:e[1]}),i.choices=s),a=e.data("chart-type");switch(a){case"column":new n(i,u);break;case"pie":new r(i,u);break;default:new t(i,u)}}return e}(),GD.ReportLineChart=function(){function e(e){this.options={chart:{renderTo:e.div_id,type:"line"},colors:["#73a8c7","#da6d4e","#edb055","#b1c95b","#c3aad0"],credits:{enabled:!1},title:{text:e.title},legend:{borderRadius:0},xAxis:{type:"datetime",dateTimeLabelFormats:{day:"%m-%d"}},yAxis:{title:{text:e.y_label},min:0,allowDecimals:!1},tooltip:{xDateFormat:"%Y-%m-%d",borderRadius:0,borderColor:"#333",shadow:!1,style:{lineHeight:"150%",padding:"8px"}},series:[{name:e.y_label,data:e.data,pointStart:e.start_date,pointInterval:864e5}]}}return e.prototype.render=function(){return Highcharts.setOptions({global:{useUTC:!1}}),new Highcharts.Chart(this.options)},e}()})}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;window.GD||(window.GD={}),$(function(){var t,n,r;return t=function(){function e(e){this.$container=e,this.mobile=$("body").hasClass("mobile"),this.initialMap()}return e.prototype._noOverrideError=function(e){throw"can't find "+e+" in subclass"},e.prototype._initMap=function(){return this._noOverrideError("_initMap")},e.prototype.initialMap=function(){return this.geoMapDom=this.$container.find(".map-container")[0],this.coordsList=$(this.geoMapDom).data("coordinates"),this.coordsList.length===0?$(this.geoMapDom).closest(".geo-map-container").html("<div class='no-geo-data'>"+l("%no_geo_data")+"</div>"):(this.fieldApiCode=$(this.geoMapDom).data("api-code"),this.urlPrefix=$(this.geoMapDom).data("url-prefix"),this._initMap(),this.initialExistedPositions())},e.prototype._initIcons=function(){return this._noOverrideError("_initIcons")},e.prototype._addMarker=function(e,t,n,r,i){return this._noOverrideError("_addMarker")},e.prototype._onMarkersAdded=function(){return this._noOverrideError("_onMarkersAdded")},e.prototype.initialExistedPositions=function(){return this._initIcons(),_.each(this.coordsList,function(e){return function(t,n){var r,i;return r=t.latitude,i=t.longitude,e._addMarker(parseFloat(r),parseFloat(i),t.address,t.entry_id,n)}}(this)),this._onMarkersAdded()},e.prototype._updateMarker=function(e){return this._noOverrideError("_updateMarker")},e.prototype.selectMarker=function(e,t){var n;this._updateMarker(e);if(!this.mobile)return n=this.urlPrefix+"/"+t+"/entry_for_geo_report",$.get(n,{id:t,field_api_code:this.fieldApiCode},function(e){return function(t){return e.$container.find(".geo-entry-container dl.details").html(t),e.$container.find(".selected-geo-entry").scrollTop(0)}}(this))},e}(),n=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype._initMap=function(){return this.mapObj=new AMap.Map(this.geoMapDom),this.mapObj.plugin(["AMap.ToolBar"],function(e){return function(){var t;return t=new AMap.ToolBar({direction:!1,offset:e.mobile?new AMap.Pixel(2,65):new AMap.Pixel(-10,5)}),e.mapObj.addControl(t)}}(this))},n.prototype._initIcons=function(){var e;return e=new AMap.Size(22,22),this.defaultIcon=new AMap.Icon({size:e,imageSize:e,image:GD.mapMarkerDefault}),this.selectedIcon=new AMap.Icon({size:e,imageSize:e,image:GD.mapMarkerSelected})},n.prototype._addMarker=function(e,t,n,r,i){var s,o;o=new AMap.LngLat(t,e),s=new AMap.Marker({icon:this.defaultIcon,position:o,title:n,animation:"AMAP_ANIMATION_DROP"}),s.setMap(this.mapObj);if(this.fieldApiCode!=null&&this.urlPrefix!=null){AMap.event.addListener(s,"click",function(e){return function(){return e.selectMarker(s,r)}}(this));if(i===0)return this.selectMarker(s,r)}},n.prototype._updateMarker=function(e){return!this.selectedMarker||this.selectedMarker.setIcon(this.defaultIcon),e.setIcon(this.selectedIcon),e.setzIndex(101),this.selectedMarker&&this.selectedMarker.setzIndex(100),this.selectedMarker=e,this.$container.find(".selected-geo-address").text(this.selectedMarker.getTitle())},n.prototype._onMarkersAdded=function(){return this.mapObj.setFitView()},n}(t),r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype._initMap=function(){var e;return e={zoom:4,mapTypeId:google.maps.MapTypeId.ROADMAP,streetViewControl:!1,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_TOP}},this.mapObj=new google.maps.Map(this.geoMapDom,e)},n.prototype._initIcons=function(){return this.defaultIcon=new google.maps.MarkerImage(GD.mapMarkerDefault,null,null,null,new google.maps.Size(22,22)),this.selectedIcon=new google.maps.MarkerImage(GD.mapMarkerSelected,null,null,null,new google.maps.Size(22,22)),this.bounds=new google.maps.LatLngBounds},n.prototype._addMarker=function(e,t,n,r,i){var s,o;o=new google.maps.LatLng(e,t),s=new google.maps.Marker({position:o,map:this.mapObj,animation:google.maps.Animation.Drop,title:n,icon:this.defaultIcon}),this.bounds.extend(o);if(this.fieldApiCode!=null&&this.urlPrefix!=null){google.maps.event.addListener(s,"click",function(e){return function(){return e.selectMarker(s,r)}}(this));if(i===0)return this.selectMarker(s,r)}},n.prototype._updateMarker=function(e){return!this.selectedMarker||this.selectedMarker.setIcon(this.defaultIcon),e.setIcon(this.selectedIcon),e.setZIndex(google.maps.Marker.MAX_ZINDEX+1),this.selectedMarker&&this.selectedMarker.setZIndex(google.maps.Marker.MAX_ZINDEX),this.selectedMarker=e,this.$container.find(".selected-geo-address").text(this.selectedMarker.getTitle())},n.prototype._onMarkersAdded=function(){return this.mapObj.fitBounds(this.bounds)},n}(t),GD.initGeoReportView=function(e){var t,i;return e==null&&(e=!1),t=function(){var t,i,s,o,u;o=$(".geo-reports .geo-map-container"),u=[];for(i=0,s=o.length;i<s;i++)t=o[i],u.push(new(e?r:n)($(t)));return u},i=$(".results_content .title .results_nav"),$("body").hasClass("mobile")&&(i=$('.mobile [data-role="navbar"] .results_nav')),i.length>0&&!i.hasClass("active")?i.find("a").click(function(){return setTimeout(t,10)}):t()}})}.call(this),function(){$(document).on("page:load ready",function(){var e;if($(".form-reports").length===0)return;return $(".form-reports").on("click",".chart-type-toggle .chart-type-switcher",function(){var e;return e=$(this).parents(".field-content").find(".field-chart"),e.data("chart-type",$(this).data("chart-type")),new GD.ReportChart(e)}),e=function(e,t){var n;return n=e.clone().sort(function(e,n){var r,i;return r=parseInt($(e).find(".c-value").html()),i=parseInt($(n).find(".c-value").html()),t===void 0&&(r=parseInt($(e).find(".c-value").data("index")),i=parseInt($(n).find(".c-value").data("index"))),t?i-r:r-i}),n},$(".form-reports").on("click",".data-count",function(){var t,n,r,i;r=$(this),n=$(r.closest("table").children("tbody")),t=$(r.closest(".field-data").siblings(".field-chart")),i=n.children("tr");if(r.hasClass("sortable"))return r.removeClass("sortable").addClass("sort-down"),n.html(e(i,!0)),t.data("sort","down"),new GD.ReportChart(t);if(r.hasClass("sort-down"))return r.removeClass("sort-down").addClass("sort-up"),n.html(e(i,!1)),t.data("sort","up"),new GD.ReportChart(t);if(r.hasClass("sort-up"))return r.removeClass("sort-up").addClass("sortable"),n.html(e(i)),t.removeData("sort"),new GD.ReportChart(t)}),GD.showReport=function(){if($("#reports_container:visible").length>0&&!$("#reports_container").data("charts-shown"))return $.each($(".field-chart[data-report]"),function(e,t){return new GD.ReportChart($(t))}),$("#reports_container").data("charts-shown",!0)},setTimeout(GD.showReport,10),$(".form-reports").on("ajax:complete",".reports_page .filter-content",function(){return setTimeout(GD.showReport,10)}),$(".form-reports").on("shown click",".results_nav, [data-role=navbar] a",function(){return setTimeout(GD.showReport,10)})})}.call(this),function(){}.call(this),function(){window.GD||(window.GD={}),$(function(){var e;return e=function(e,t){var n,r,i,s,o,u,a,f,c;c=e.find("option:selected"),t.html("<option value=''>"+l("%select_prompt")+"</option>"),a=(u=c.data("choices"))!=null?u:[];for(s=0,o=a.length;s<o;s++)n=a[s],typeof n=="object"?(r=n.name,i=(f=n.value)!=null?f:r):(r=n,i=n),t.append("<option value='"+i+"'>"+r+"</option>");t.val(t.data("value"));if($.mobile)return t.selectmenu("refresh",!0)},GD.initCascadeSelector=function(t){var n,r,i,s,o,u;o=$(t).find("[data-role=cascade]"),u=[];for(r=0,i=o.length;r<i;r++)n=o[r],s=$(n).find("[data-role=level_1]"),e(s,$(n).find("[data-role=level_2]")),u.push(s.on("change",function(){var t;return t=$(this).parents("[data-role=cascade]").find("[data-role=level_2]"),t.data("value",null),e($(this),t)}));return u},$(document).on("ready page:load ajax:complete",function(){if(!($(".dashboard").length>0))return GD.initCascadeSelector(document)})})}.call(this),function(){var e;GD.enhanceDateField=function(e){if(!$("body").is(".mobile-device"))return e.find("input[type=date]").attr({type:"text"}).addClass("transformed-date-input").wrap(function(){var e,t;return e=$(this).css("display"),t=[],e&&t.push("display: "+e+";"),"<div class='gd-input-container gd-input-date' style='"+t.join()+"'></div>"}).after('<i class="gd-input-icon gd-icon-calendar"></i>')},e=function(){function e(e,t){var n;n={language:String.locale||"zh-CN",format:"yyyy-mm-dd",autoclose:!0,orientation:"auto left",todayHighlight:!0},t=$.extend(n,t||{}),$(e).datepicker(t).on("show hide",function(e){return e.stopPropagation()}),$(e).siblings(".gd-input-icon").click(function(){return $(e).focus()})}return e}(),GD.initDatePicker=function(t,n){var r,i,s,o,u;n==null&&(n=null),GD.enhanceDateField(t),o=t.find(".transformed-date-input"),u=[];for(i=0,s=o.length;i<s;i++)r=o[i],u.push(new e(r,n));return u},$(function(){return $(document).on("ready page:load ajax:complete",function(){if(!($(".dashboard").length>0))return GD.initDatePicker($(document))})})}.call(this),function(){GD.updateRadioBtnGroupStatus=function(e){var t;return t=e.is(".gd-btn")?e:e.closest(".gd-btn"),t.siblings(".gd-btn.selected").removeClass("selected"),t.addClass("selected")},$(document).on("ready page:load",function(){return $(".results-content").on("click",".gd-btn-group .gd-btn.radio-inline",function(){return GD.updateRadioBtnGroupStatus($(this))}),$(".results-content").on("click","#entries_table tbody tr[data-url], #entries_table thead [data-url]",function(e){var t;if($(e.target).is("img"))return;t=$(this).data("url");if(t)return Turbolinks.visit(t)}),$(".results-content").on("change",".change-per-page",function(e){return Turbolinks.visit($(this).val())}),$("#result_view_password_modal").length>0&&$("#result_view_password_modal").modal("show"),$(".search-condition > form").on("submit",function(e){var t;return e.preventDefault(),t=$.param($(this).serializeArray()),Turbolinks.visit($(this).attr("action")+"?"+t)}),$(".search-hint + .search-form").slideUp(),$(".results-content").on("click",".search-hint",function(){return $(".search-form").slideToggle(),$(this).find(".expand-criteria").toggleClass("gd-icon-angle-up gd-icon-angle-down")})})}.call(this),function(e,t,n,r){"use strict";function l(e,t,n){return setTimeout(m(e,n),t)}function c(e,t,n){return Array.isArray(e)?(h(e,n[t],n),!0):!1}function h(e,t,n){var i;if(!e)return;if(e.forEach)e.forEach(t,n);else if(e.length!==r){i=0;while(i<e.length)t.call(n,e[i],i,e),i++}else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function p(e,t,n){var i=Object.keys(t),s=0;while(s<i.length){if(!n||n&&e[i[s]]===r)e[i[s]]=t[i[s]];s++}return e}function d(e,t){return p(e,t,!0)}function v(e,t,n){var r=t.prototype,i;i=e.prototype=Object.create(r),i.constructor=e,i._super=r,n&&p(i,n)}function m(e,t){return function(){return e.apply(t,arguments)}}function g(e,t){return typeof e==o?e.apply(t?t[0]||r:r,t):e}function y(e,t){return e===r?t:e}function b(e,t,n){h(x(t),function(t){e.addEventListener(t,n,!1)})}function w(e,t,n){h(x(t),function(t){e.removeEventListener(t,n,!1)})}function E(e,t){while(e){if(e==t)return!0;e=e.parentNode}return!1}function S(e,t){return e.indexOf(t)>-1}function x(e){return e.trim().split(/\s+/g)}function T(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);var r=0;while(r<e.length){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function N(e){return Array.prototype.slice.call(e,0)}function C(e,t,n){var r=[],i=[],s=0;while(s<e.length){var o=t?e[s][t]:e[s];T(i,o)<0&&r.push(e[s]),i[s]=o,s++}return n&&(t?r=r.sort(function(n,r){return n[t]>r[t]}):r=r.sort()),r}function k(e,t){var n,s,o=t[0].toUpperCase()+t.slice(1),u=0;while(u<i.length){n=i[u],s=n?n+o:t;if(s in e)return s;u++}return r}function A(){return L++}function O(e){var t=e.ownerDocument;return t.defaultView||t.parentWindow}function et(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){g(e.options.enable,[e])&&n.handler(t)},this.init()}function tt(e){var t,n=e.options.inputClass;return n?t=n:D?t=St:P?t=Ot:_?t=_t:t=gt,new t(e,nt)}function nt(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,s=t&q&&r-i===0,o=t&(U|z)&&r-i===0;n.isFirst=!!s,n.isFinal=!!o,s&&(e.session={}),n.eventType=t,rt(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function rt(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=ot(t)),i>1&&!n.firstMultiple?n.firstMultiple=ot(t):i===1&&(n.firstMultiple=!1);var s=n.firstInput,o=n.firstMultiple,u=o?o.center:s.center,a=t.center=ut(r);t.timeStamp=f(),t.deltaTime=t.timeStamp-s.timeStamp,t.angle=ct(u,a),t.distance=lt(u,a),it(n,t),t.offsetDirection=ft(t.deltaX,t.deltaY),t.scale=o?pt(o.pointers,r):1,t.rotation=o?ht(o.pointers,r):0,st(n,t);var l=e.element;E(t.srcEvent.target,l)&&(l=t.srcEvent.target),t.target=l}function it(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},s=e.prevInput||{};if(t.eventType===q||s.eventType===U)i=e.prevDelta={x:s.deltaX||0,y:s.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y};t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}function st(e,t){var n=e.lastInterval||t,i=t.timeStamp-n.timeStamp,s,o,u,f;if(t.eventType!=z&&(i>I||n.velocity===r)){var l=n.deltaX-t.deltaX,c=n.deltaY-t.deltaY,h=at(i,l,c);o=h.x,u=h.y,s=a(h.x)>a(h.y)?h.x:h.y,f=ft(l,c),e.lastInterval=t}else s=n.velocity,o=n.velocityX,u=n.velocityY,f=n.direction;t.velocity=s,t.velocityX=o,t.velocityY=u,t.direction=f}function ot(e){var t=[],n=0;while(n<e.pointers.length)t[n]={clientX:u(e.pointers[n].clientX),clientY:u(e.pointers[n].clientY)},n++;return{timeStamp:f(),pointers:t,center:ut(t),deltaX:e.deltaX,deltaY:e.deltaY}}function ut(e){var t=e.length;if(t===1)return{x:u(e[0].clientX),y:u(e[0].clientY)};var n=0,r=0,i=0;while(i<t)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:u(n/t),y:u(r/t)}}function at(e,t,n){return{x:t/e||0,y:n/e||0}}function ft(e,t){return e===t?W:a(e)>=a(t)?e>0?X:V:t>0?$:J}function lt(e,t,n){n||(n=Y);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function ct(e,t,n){n||(n=Y);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.atan2(i,r)*180/Math.PI}function ht(e,t){return ct(t[1],t[0],Z)-ct(e[1],e[0],Z)}function pt(e,t){return lt(t[0],t[1],Z)/lt(e[0],e[1],Z)}function gt(){this.evEl=vt,this.evWin=mt,this.allow=!0,this.pressed=!1,et.apply(this,arguments)}function St(){this.evEl=wt,this.evWin=Et,et.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function Ct(){this.evTarget=Tt,this.evWin=Nt,this.started=!1,et.apply(this,arguments)}function kt(e,t){var n=N(e.touches),r=N(e.changedTouches);return t&(U|z)&&(n=C(n.concat(r),"identifier",!0)),[n,r]}function Ot(){this.evTarget=At,this.targetIds={},et.apply(this,arguments)}function Mt(e,t){var n=N(e.touches),r=this.targetIds;if(t&(q|R)&&n.length===1)return r[n[0].identifier]=!0,[n,n];var i,s,o=N(e.changedTouches),u=[],a=this.target;s=n.filter(function(e){return E(e.target,a)});if(t===q){i=0;while(i<s.length)r[s[i].identifier]=!0,i++}i=0;while(i<o.length)r[o[i].identifier]&&u.push(o[i]),t&(U|z)&&delete r[o[i].identifier],i++;if(!u.length)return;return[C(s.concat(u),"identifier",!0),u]}function _t(){et.apply(this,arguments);var e=m(this.handler,this);this.touch=new Ot(this.manager,e),this.mouse=new gt(this.manager,e)}function Rt(e,t){this.manager=e,this.set(t)}function Ut(e){if(S(e,Ft))return Ft;var t=S(e,It),n=S(e,qt);return t&&n?It+" "+qt:t||n?t?It:qt:S(e,jt)?jt:Bt}function Qt(e){this.id=A(),this.manager=null,this.options=d(e||{},this.defaults),this.options.enable=y(this.options.enable,!0),this.state=zt,this.simultaneous={},this.requireFail=[]}function Gt(e){return e&Jt?"cancel":e&Vt?"end":e&Xt?"move":e&Wt?"start":""}function Yt(e){return e==J?"down":e==$?"up":e==X?"left":e==V?"right":""}function Zt(e,t){var n=t.manager;return n?n.get(e):e}function en(){Qt.apply(this,arguments)}function tn(){en.apply(this,arguments),this.pX=null,this.pY=null}function nn(){en.apply(this,arguments)}function rn(){Qt.apply(this,arguments),this._timer=null,this._input=null}function sn(){en.apply(this,arguments)}function on(){en.apply(this,arguments)}function un(){Qt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function an(e,t){return t=t||{},t.recognizers=y(t.recognizers,an.defaults.preset),new cn(e,t)}function cn(e,t){t=t||{},this.options=d(t,an.defaults),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.element=e,this.input=tt(this),this.touchAction=new Rt(this,this.options.touchAction),hn(this,!0),h(t.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function hn(e,t){var n=e.element;h(e.options.cssProps,function(e,r){n.style[k(n.style,r)]=t?e:""})}function pn(e,n){var r=t.createEvent("Event");r.initEvent(e,!0,!0),r.gesture=n,n.target.dispatchEvent(r)}var i=["","webkit","moz","MS","ms","o"],s=t.createElement("div"),o="function",u=Math.round,a=Math.abs,f=Date.now,L=1,M=/mobile|tablet|ip(ad|hone|od)|android/i,_="ontouchstart"in e,D=k(e,"PointerEvent")!==r,P=_&&M.test(navigator.userAgent),H="touch",B="pen",j="mouse",F="kinect",I=25,q=1,R=2,U=4,z=8,W=1,X=2,V=4,$=8,J=16,K=X|V,Q=$|J,G=K|Q,Y=["x","y"],Z=["clientX","clientY"];et.prototype={handler:function(){},init:function(){this.evEl&&b(this.element,this.evEl,this.domHandler),this.evTarget&&b(this.target,this.evTarget,this.domHandler),this.evWin&&b(O(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&w(this.element,this.evEl,this.domHandler),this.evTarget&&w(this.target,this.evTarget,this.domHandler),this.evWin&&w(O(this.element),this.evWin,this.domHandler)}};var dt={mousedown:q,mousemove:R,mouseup:U},vt="mousedown",mt="mousemove mouseup";v(gt,et,{handler:function(t){var n=dt[t.type];n&q&&t.button===0&&(this.pressed=!0),n&R&&t.which!==1&&(n=U);if(!this.pressed||!this.allow)return;n&U&&(this.pressed=!1),this.callback(this.manager,n,{pointers:[t],changedPointers:[t],pointerType:j,srcEvent:t})}});var yt={pointerdown:q,pointermove:R,pointerup:U,pointercancel:z,pointerout:z},bt={2:H,3:B,4:j,5:F},wt="pointerdown",Et="pointermove pointerup pointercancel";e.MSPointerEvent&&(wt="MSPointerDown",Et="MSPointerMove MSPointerUp MSPointerCancel"),v(St,et,{handler:function(t){var n=this.store,r=!1,i=t.type.toLowerCase().replace("ms",""),s=yt[i],o=bt[t.pointerType]||t.pointerType,u=o==H,a=T(n,t.pointerId,"pointerId");s&q&&(t.button===0||u)?a<0&&(n.push(t),a=n.length-1):s&(U|z)&&(r=!0);if(a<0)return;n[a]=t,this.callback(this.manager,s,{pointers:n,changedPointers:[t],pointerType:o,srcEvent:t}),r&&n.splice(a,1)}});var xt={touchstart:q,touchmove:R,touchend:U,touchcancel:z},Tt="touchstart",Nt="touchstart touchmove touchend touchcancel";v(Ct,et,{handler:function(t){var n=xt[t.type];n===q&&(this.started=!0);if(!this.started)return;var r=kt.call(this,t,n);n&(U|z)&&r[0].length-r[1].length===0&&(this.started=!1),this.callback(this.manager,n,{pointers:r[0],changedPointers:r[1],pointerType:H,srcEvent:t})}});var Lt={touchstart:q,touchmove:R,touchend:U,touchcancel:z},At="touchstart touchmove touchend touchcancel";v(Ot,et,{handler:function(t){var n=Lt[t.type],r=Mt.call(this,t,n);if(!r)return;this.callback(this.manager,n,{pointers:r[0],changedPointers:r[1],pointerType:H,srcEvent:t})}}),v(_t,et,{handler:function(t,n,r){var i=r.pointerType==H,s=r.pointerType==j;if(i)this.mouse.allow=!1;else if(s&&!this.mouse.allow)return;n&(U|z)&&(this.mouse.allow=!0),this.callback(t,n,r)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Dt=k(s.style,"touchAction"),Pt=Dt!==r,Ht="compute",Bt="auto",jt="manipulation",Ft="none",It="pan-x",qt="pan-y";Rt.prototype={set:function(e){e==Ht&&(e=this.compute()),Pt&&(this.manager.element.style[Dt]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return h(this.manager.recognizers,function(t){g(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),Ut(e.join(" "))},preventDefaults:function(e){if(Pt)return;var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented){t.preventDefault();return}var r=this.actions,i=S(r,Ft),s=S(r,qt),o=S(r,It);if(i||s&&n&K||o&&n&Q)return this.preventSrc(t)},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var zt=1,Wt=2,Xt=4,Vt=8,$t=Vt,Jt=16,Kt=32;Qt.prototype={defaults:{},set:function(e){return p(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(c(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=Zt(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return c(e,"dropRecognizeWith",this)?this:(e=Zt(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(c(e,"requireFailure",this))return this;var t=this.requireFail;return e=Zt(e,this),T(t,e)===-1&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(c(e,"dropRequireFailure",this))return this;e=Zt(e,this);var t=T(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function r(r){t.manager.emit(t.options.event+(r?Gt(n):""),e)}var t=this,n=this.state;n<Vt&&r(!0),r(),n>=Vt&&r(!0)},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=Kt},canEmit:function(){var e=0;while(e<this.requireFail.length){if(!(this.requireFail[e].state&(Kt|zt)))return!1;e++}return!0},recognize:function(e){var t=p({},e);if(!g(this.options.enable,[this,t])){this.reset(),this.state=Kt;return}this.state&($t|Jt|Kt)&&(this.state=zt),this.state=this.process(t),this.state&(Wt|Xt|Vt|Jt)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},v(en,Qt,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return t===0||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=t&(Wt|Xt),i=this.attrTest(e);if(r&&(n&z||!i))return t|Jt;if(r||i)return n&U?t|Vt:t&Wt?t|Xt:Wt;return Kt}}),v(tn,en,{defaults:{event:"pan",threshold:10,pointers:1,direction:G},getTouchAction:function(){var e=this.options
.direction,t=[];return e&K&&t.push(qt),e&Q&&t.push(It),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,s=e.deltaX,o=e.deltaY;return i&t.direction||(t.direction&K?(i=s===0?W:s<0?X:V,n=s!=this.pX,r=Math.abs(e.deltaX)):(i=o===0?W:o<0?$:J,n=o!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return en.prototype.attrTest.call(this,e)&&(this.state&Wt||!(this.state&Wt)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Yt(e.direction);t&&this.manager.emit(this.options.event+t,e),this._super.emit.call(this,e)}}),v(nn,en,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ft]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&Wt)},emit:function(e){this._super.emit.call(this,e);if(e.scale!==1){var t=e.scale<1?"in":"out";this.manager.emit(this.options.event+t,e)}}}),v(rn,Qt,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Bt]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;this._input=e;if(!r||!n||e.eventType&(U|z)&&!i)this.reset();else if(e.eventType&q)this.reset(),this._timer=l(function(){this.state=$t,this.tryEmit()},t.time,this);else if(e.eventType&U)return $t;return Kt},reset:function(){clearTimeout(this._timer)},emit:function(e){if(this.state!==$t)return;e&&e.eventType&U?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input))}}),v(sn,en,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ft]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&Wt)}}),v(on,en,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:K|Q,pointers:1},getTouchAction:function(){return tn.prototype.getTouchAction.call(this)},attrTest:function(e){var t=this.options.direction,n;return t&(K|Q)?n=e.velocity:t&K?n=e.velocityX:t&Q&&(n=e.velocityY),this._super.attrTest.call(this,e)&&t&e.direction&&e.distance>this.options.threshold&&a(n)>this.options.velocity&&e.eventType&U},emit:function(e){var t=Yt(e.direction);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),v(un,Qt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[jt]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;this.reset();if(e.eventType&q&&this.count===0)return this.failTimeout();if(r&&i&&n){if(e.eventType!=U)return this.failTimeout();var s=this.pTime?e.timeStamp-this.pTime<t.interval:!0,o=!this.pCenter||lt(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,!o||!s?this.count=1:this.count+=1,this._input=e;var u=this.count%t.taps;if(u===0)return this.hasRequireFailures()?(this._timer=l(function(){this.state=$t,this.tryEmit()},t.interval,this),Wt):$t}return Kt},failTimeout:function(){return this._timer=l(function(){this.state=Kt},this.options.interval,this),Kt},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==$t&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),an.VERSION="2.0.4",an.defaults={domEvents:!1,touchAction:Ht,enable:!0,inputTarget:null,inputClass:null,preset:[[sn,{enable:!1}],[nn,{enable:!1},["rotate"]],[on,{direction:K}],[tn,{direction:K},["swipe"]],[un],[un,{event:"doubletap",taps:2},["tap"]],[rn]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var fn=1,ln=2;cn.prototype={set:function(e){return p(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?ln:fn},recognize:function(e){var t=this.session;if(t.stopped)return;this.touchAction.preventDefaults(e);var n,r=this.recognizers,i=t.curRecognizer;if(!i||i&&i.state&$t)i=t.curRecognizer=null;var s=0;while(s<r.length)n=r[s],t.stopped!==ln&&(!i||n==i||n.canRecognizeWith(i))?n.recognize(e):n.reset(),!i&&n.state&(Wt|Xt|Vt)&&(i=t.curRecognizer=n),s++},get:function(e){if(e instanceof Qt)return e;var t=this.recognizers;for(var n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(c(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(c(e,"remove",this))return this;var t=this.recognizers;return e=this.get(e),t.splice(T(t,e),1),this.touchAction.update(),this},on:function(e,t){var n=this.handlers;return h(x(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this},off:function(e,t){var n=this.handlers;return h(x(e),function(e){t?n[e].splice(T(n[e],t),1):delete n[e]}),this},emit:function(e,t){this.options.domEvents&&pn(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(!n||!n.length)return;t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};var r=0;while(r<n.length)n[r](t),r++},destroy:function(){this.element&&hn(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},p(an,{INPUT_START:q,INPUT_MOVE:R,INPUT_END:U,INPUT_CANCEL:z,STATE_POSSIBLE:zt,STATE_BEGAN:Wt,STATE_CHANGED:Xt,STATE_ENDED:Vt,STATE_RECOGNIZED:$t,STATE_CANCELLED:Jt,STATE_FAILED:Kt,DIRECTION_NONE:W,DIRECTION_LEFT:X,DIRECTION_RIGHT:V,DIRECTION_UP:$,DIRECTION_DOWN:J,DIRECTION_HORIZONTAL:K,DIRECTION_VERTICAL:Q,DIRECTION_ALL:G,Manager:cn,Input:et,TouchAction:Rt,TouchInput:Ot,MouseInput:gt,PointerEventInput:St,TouchMouseInput:_t,SingleTouchInput:Ct,Recognizer:Qt,AttrRecognizer:en,Tap:un,Pan:tn,Swipe:on,Pinch:nn,Rotate:sn,Press:rn,on:b,off:w,each:h,merge:d,extend:p,inherit:v,bindFn:m,prefixed:k}),typeof define==o&&define.amd?define(function(){return an}):typeof module!="undefined"&&module.exports?module.exports=an:e[n]=an}(window,document,"Hammer"),function(e,t){typeof define=="function"&&define.amd?define(["jquery"],t):typeof exports=="object"?module.exports=t(require("jquery")):e.GD.lightbox=t(e.jQuery)}(this,function(e){function t(t){this.album=[],this.currentImageIndex=void 0,this.init(),this.options=e.extend({},this.constructor.defaults),this.option(t)}return t.defaults={albumLabel:"Image %1 of %2",alwaysShowNavOnTouchDevices:!1,fadeDuration:500,fitImagesInViewport:!0,positionFromTop:50,resizeDuration:700,showImageNumberLabel:!0,wrapAround:!1},t.prototype.option=function(t){e.extend(this.options,t)},t.prototype.imageCountLabel=function(e,t){return this.options.albumLabel.replace(/%1/g,e).replace(/%2/g,t)},t.prototype.init=function(){this.enable(),this.build()},t.prototype.enable=function(){var t=this;e("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(n){return t.start(e(n.currentTarget)),!1})},t.prototype.build=function(){var t=this;e('<div id="lightboxOverlay" class="lightboxOverlay"></div><div id="lightbox" class="lightbox"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" /><div class="lb-nav"><a class="lb-prev" href="" ></a><a class="lb-next" href="" ></a></div><div class="lb-loader"><a class="lb-cancel"></a></div></div></div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"></span><span class="lb-number"></span></div><div class="lb-closeContainer"><a class="lb-close"></a></div></div></div></div>').appendTo(e("body")),this.$lightbox=e("#lightbox"),this.$overlay=e("#lightboxOverlay"),this.$outerContainer=this.$lightbox.find(".lb-outerContainer"),this.$container=this.$lightbox.find(".lb-container"),this.containerTopPadding=parseInt(this.$container.css("padding-top"),10),this.containerRightPadding=parseInt(this.$container.css("padding-right"),10),this.containerBottomPadding=parseInt(this.$container.css("padding-bottom"),10),this.containerLeftPadding=parseInt(this.$container.css("padding-left"),10),this.$overlay.hide().on("click",function(){return t.end(),!1}),this.$lightbox.hide().on("click",function(n){return e(n.target).attr("id")==="lightbox"&&t.end(),!1}),this.$outerContainer.on("click",function(n){return e(n.target).attr("id")==="lightbox"&&t.end(),!1}),this.$lightbox.find(".lb-prev").on("click",function(){return t.currentImageIndex===0?t.changeImage(t.album.length-1):t.changeImage(t.currentImageIndex-1),!1}),this.$lightbox.find(".lb-next").on("click",function(){return t.currentImageIndex===t.album.length-1?t.changeImage(0):t.changeImage(t.currentImageIndex+1),!1}),this.$lightbox.find(".lb-loader, .lb-close").on("click",function(){return t.end(),!1})},t.prototype.start=function(t){function s(e){n.album.push({link:e.attr("href"),title:e.attr("data-title")||e.attr("title")})}var n=this,r=e(window);r.on("resize",e.proxy(this.sizeOverlay,this)),e("/*select, */object, embed").css({visibility:"hidden"}),this.sizeOverlay(),this.album=[];var i=0,o=t.attr("data-lightbox"),u;if(o){u=e(t.prop("tagName")+'[data-lightbox="'+o+'"]');for(var a=0;a<u.length;a=++a)s(e(u[a])),u[a]===t[0]&&(i=a)}else if(t.attr("rel")==="lightbox")s(t);else{u=e(t.prop("tagName")+'[rel="'+t.attr("rel")+'"]');for(var f=0;f<u.length;f=++f)s(e(u[f])),u[f]===t[0]&&(i=f)}var l=r.scrollTop()+this.options.positionFromTop,c=r.scrollLeft();this.$lightbox.css({top:l+"px",left:c+"px"}).fadeIn(this.options.fadeDuration),this.changeImage(i)},t.prototype.changeImage=function(t){var n=this;this.disableKeyboardNav();var r=this.$lightbox.find(".lb-image");this.$overlay.fadeIn(this.options.fadeDuration),e(".lb-loader").fadeIn("slow"),this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide(),this.$outerContainer.addClass("animating");var i=new Image;i.onload=function(){var s,o,u,a,f,l,c;r.attr("src",n.album[t].link),s=e(i),r.width(i.width),r.height(i.height);if(n.options.fitImagesInViewport){c=e(window).width(),l=e(window).height(),f=c-n.containerLeftPadding-n.containerRightPadding-20,a=l-n.containerTopPadding-n.containerBottomPadding-120,n.options.maxWidth&&n.options.maxWidth<f&&(f=n.options.maxWidth),n.options.maxHeight&&n.options.maxHeight<f&&(a=n.options.maxHeight);if(i.width>f||i.height>a)i.width/f>i.height/a?(u=f,o=parseInt(i.height/(i.width/u),10),r.width(u),r.height(o)):(o=a,u=parseInt(i.width/(i.height/o),10),r.width(u),r.height(o))}n.sizeContainer(r.width(),r.height())},i.src=this.album[t].link,this.currentImageIndex=t},t.prototype.sizeOverlay=function(){this.$overlay.width(e(window).width()).height(e(document).height())},t.prototype.sizeContainer=function(e,t){function u(){n.$lightbox.find(".lb-dataContainer").width(s),n.$lightbox.find(".lb-prevLink").height(o),n.$lightbox.find(".lb-nextLink").height(o),n.showImage()}var n=this,r=this.$outerContainer.outerWidth(),i=this.$outerContainer.outerHeight(),s=e+this.containerLeftPadding+this.containerRightPadding,o=t+this.containerTopPadding+this.containerBottomPadding;r!==s||i!==o?this.$outerContainer.animate({width:s,height:o},this.options.resizeDuration,"swing",function(){u()}):u()},t.prototype.showImage=function(){this.$lightbox.find(".lb-loader").stop(!0).hide(),this.$lightbox.find(".lb-image").fadeIn("slow"),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()},t.prototype.updateNav=function(){var e=!1;try{document.createEvent("TouchEvent"),e=this.options.alwaysShowNavOnTouchDevices?!0:!1}catch(t){}this.$lightbox.find(".lb-nav").show(),this.album.length>1&&(this.options.wrapAround?(e&&this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1"),this.$lightbox.find(".lb-prev, .lb-next").show()):(this.currentImageIndex>0&&(this.$lightbox.find(".lb-prev").show(),e&&this.$lightbox.find(".lb-prev").css("opacity","1")),this.currentImageIndex<this.album.length-1&&(this.$lightbox.find(".lb-next").show(),e&&this.$lightbox.find(".lb-next").css("opacity","1"))))},t.prototype.updateDetails=function(){var t=this;typeof this.album[this.currentImageIndex].title!="undefined"&&this.album[this.currentImageIndex].title!==""&&this.$lightbox.find(".lb-caption").html(this.album[this.currentImageIndex].title).fadeIn("fast").find("a").on("click",function(t){e(this).attr("target")!==undefined?window.open(e(this).attr("href"),e(this).attr("target")):location.href=e(this).attr("href")});if(this.album.length>1&&this.options.showImageNumberLabel){var n=this.imageCountLabel(this.currentImageIndex+1,this.album.length);this.$lightbox.find(".lb-number").text(n).fadeIn("fast")}else this.$lightbox.find(".lb-number").hide();this.$outerContainer.removeClass("animating"),this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration,function(){return t.sizeOverlay()})},t.prototype.preloadNeighboringImages=function(){if(this.album.length>this.currentImageIndex+1){var e=new Image;e.src=this.album[this.currentImageIndex+1].link}if(this.currentImageIndex>0){var t=new Image;t.src=this.album[this.currentImageIndex-1].link}},t.prototype.enableKeyboardNav=function(){e(document).on("keyup.keyboard",e.proxy(this.keyboardAction,this))},t.prototype.disableKeyboardNav=function(){e(document).off(".keyboard")},t.prototype.keyboardAction=function(e){var t=27,n=37,r=39,i=e.keyCode,s=String.fromCharCode(i).toLowerCase();if(i===t||s.match(/x|o|c/))this.end();else if(s==="p"||i===n)this.currentImageIndex!==0?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this.changeImage(this.album.length-1);else if(s==="n"||i===r)this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this.changeImage(0)},t.prototype.end=function(){this.disableKeyboardNav(),e(window).off("resize",this.sizeOverlay),this.$lightbox.fadeOut(this.options.fadeDuration),this.$overlay.fadeOut(this.options.fadeDuration),e("select, object, embed").css({visibility:"visible"})},new t}),function(){GD.lightbox.option({fadeDuration:200,resizeDuration:100}),GD.initLightbox=function(){return $(".lightbox-image-link").each(function(){var e,t;e=$(this).find(".image-loading"),t=e.data("url");if(t)return $(this).append("<img src="+t+" class='hide'>"),$(this).find("img").load(function(){return $(this).removeClass("hide"),e.remove()})}),$("#lightboxOverlay").length===0?GD.lightbox.init():GD.lightbox.enable()},$(document).on("page:load ready",function(){return GD.initLightbox()}),$(function(){return $(".mobile-device #lightbox").livequery(function(){var e,t,n;return e=new Hammer.Manager($(".lb-container")[0],{recognizers:[[Hammer.Pinch,{enable:!0}],[Hammer.Swipe,{direction:Hammer.DIRECTION_HORIZONTAL}]]}),t=1,n=function(e){return $(".lb-container .lb-image").css({transform:"scale("+e+", "+e+")"})},e.on("swiperight",function(){var e;return e=GD.lightbox.currentImageIndex,e!==0&&GD.lightbox.changeImage(e-1),t=1,n(t)}),e.on("swipeleft",function(){var e;return e=GD.lightbox.currentImageIndex,e!==GD.lightbox.album.length-1&&GD.lightbox.changeImage(e+1),t=1,n(t)}),e.on("pinch",function(e){return n(Math.max(1,Math.min(t*e.scale,10)))}),e.on("pinchend",function(e){return t=Math.max(1,Math.min(t*e.scale,10)),n(t)})})})}.call(this),function(){$(document).on("ready page:load",function(){return $(".results-content").on("click",".results-nav .shared-reports",function(){return setTimeout(GD.showReport,10)})})}.call(this),function(){$(document).on("ready",function(){if(typeof console=="undefined"||console===null||window.location.href.indexOf("jinshuju.net/f/")!==-1&&!$(".powered-by").is(":visible"))return;return console.info("n ttps://jinshuju.net/f/UwKHHq?x_field_1=console")})}.call(this),function(){$(function(){return $(document).on("page:load ready",function(){if(GD.isLowVersionIE()&&$(".goods-warning").length===0){$("body").prepend($('<div class="browser-version-warning">IE10<a href="http://rj.baidu.com/soft/detail/14744.html" target="_blank"></a></div>')),$(".browser-version-warning").css("margin-bottom",$("body").css("padding-top")),$("body").css("padding-top","0");if($("header.navbar.home-page").length>0)return $("header.navbar.home-page").css("top",$(".browser-version-warning").outerHeight())}})})}.call(this),function(){window.GD||(window.GD={})}.call(this);